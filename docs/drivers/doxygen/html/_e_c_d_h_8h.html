<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>ECDH.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_dd8fa7f0a423552d37651735ac37558f.html">ti</a></li><li class="navelem"><a class="el" href="dir_15fb9a92674a5e15cac1f3112cfb19ae.html">drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ECDH.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TI Driver for Elliptic Curve Diffie-Hellman key agreement scheme. </p>
<hr/>
<p><a class="anchor" id="ti_drivers_ECDH_Overview"></a></p><h1>Overview</h1>
<p>Elliptic Curve Diffie-Hellman (ECDH) is a key agreement scheme between two parties based on the Diffie-Hellman key exchange protocol.</p>
<p>It provides a means of generating a shared secret and derived symmetric key between the two parties over an insecure channel.</p>
<p>It does not provide authentication. As such, it does not guarantee that the party you are exchanging keys with is truly the party you wish to establish a secured channel with.</p>
<p>The two parties each generate a private key and a public key. The private key is a random integer in the interval [1, n - 1], where n is the order of a previously agreed upon curve. The public key is generated by multiplying the private key by the generator point of a previously agreed upon elliptic curve such as NISTP256 or Curve 25519. The public key is itself a point upon the elliptic curve. Each public key is then transmitted to the other party over a potentially insecure channel. The other party's public key is then multiplied with the private key, generating a shared secret. This shared secret is also a point on the curve. However, the entropy in the secret is not spread evenly throughout the shared secret. In order to generate one or more shared symmetric keys, the shared secret must be run through a key derivation function (KDF) that was previously agreed upon. Usually, only the X coordinate is processed in this way as it contains all the entropy of the shared secret and some curve implementations only provide the X coordinate. The key derivation function can take many forms, from simply hashing the X coordinate of the shared secret with SHA2 and truncating the result to generating multiple symmetric keys with HKDF, an HMAC based KDF.</p>
<p>Key derivation functions in the context of symmetric key generation after elliptic curve based key exchange differ from KDFs used to generate keys from passwords a user provides in a login. Those KDFs such as bcrypt purposefully add additional computation to increase a system's resistance against brute force or dictionary attacks.</p>
<p><a class="anchor" id="ti_drivers_ECDH_Usage"></a></p><h1>Usage</h1>
<h2>Before starting an ECDH operation</h2>
<p>Before starting an ECDH operation, the application must do the following:</p><ul>
<li>Call <a class="el" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640" title="This function initializes the ECC module. ">ECDH_init()</a> to initialize the driver</li>
<li>Call <a class="el" href="_e_c_d_h_8h.html#aba742374e7813cd416d26a1b86872bf4" title="Function to initialize the ECDH_Params struct to its defaults. ">ECDH_Params_init()</a> to initialize the <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> to default values.</li>
<li>Modify the <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> as desired</li>
<li>Call <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a> to open an instance of the driver</li>
</ul>
<h2>Generating your public-private key pair</h2>
<p>To generate a public-private key pair for an agreed upon curve, the application must do the following:</p><ul>
<li>Generate the keying material for the private key. This keying material must be an integer in the interval [1, n - 1], where n is the order of the curve. It can be stored in big-endian or little-endian format. The array should be the same length as the curve parameters of the curve used. The driver validates private keys against the provided curve by default.</li>
<li>Initialize the private key <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. CryptoKeys are opaque data structures and representations of keying material and its storage. Depending on how the keying material is stored (RAM or flash, key store), the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> must be initialized differently. The ECDH API can handle all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. However, not all device-specific implementations support all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. Devices without a key store will not support CryptoKeys with keying material stored in a key store for example. All devices support plaintext CryptoKeys.</li>
<li>Initialize a blank <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> for the public key. The <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> will keep track of where the keying material for the public key should be copied and how long it is. SEC 1-based big-endian format public keys should have key material twice the length of the private key plus one. Little-endian format public keys should have key material the length of the private key for Montgomery curve X-only public keys or have key material twice the length of the private for other curves</li>
<li>Initialize the <a class="el" href="struct_e_c_d_h___operation_generate_public_key.html" title="Struct containing the parameters required to generate a public key. ">ECDH_OperationGeneratePublicKey</a> struct and then populate it. By default, big-endian public keys will be generated.</li>
<li>If using RFC 7748-style public keys, initialize the operation's public key data format to be ECDH_LITTLE_ENDIAN_KEY.</li>
<li>Call <a class="el" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542" title="Generates a public key for use in key agreement. ">ECDH_generatePublicKey()</a>. The generated keying material will be copied according the the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> passed in as the public key parameter. The <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> will no longer be considered 'blank' after the operation.</li>
</ul>
<h2>Calculating a shared secret</h2>
<p>After trading public keys with the other party, the application should do the following to calculate the shared secret:</p><ul>
<li>Initialize a <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> as public key with the keying material received from the other party.</li>
<li>Initialize the private key <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> with the key used to generate your public key. CryptoKeys are opaque data structures and representations of keying material and its storage. Depending on how the keying material is stored (RAM or flash, key store), the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> must be initialized differently. The ECDH API can handle all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. However, not all device-specific implementations support all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. Devices without a key store will not support CryptoKeys with keying material stored in a key store for example. All devices support plaintext CryptoKeys.</li>
<li>Initialize a blank <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> with the same size as the previously initialized public key.</li>
<li>Initialize the <a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html" title="Struct containing the parameters required to compute the shared secret. ">ECDH_OperationComputeSharedSecret</a> struct and then populate it. By default, big-endian input keys will be assumed and big-endian shared secrets will be generated.</li>
<li>If importing RFC 7748-style public keys, initialize the operation's key material endianess to be ECDH_LITTLE_ENDIAN_KEY.</li>
<li>Call <a class="el" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85" title="Computes a shared secret. ">ECDH_computeSharedSecret()</a>. The shared secret will be copied to a location according to the shared secret <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> passed to the function call. The driver will validate the supplied public key and reject invalid ones.</li>
</ul>
<h2>Creating one or more symmetric keys from the shared secret</h2>
<p>After calculating the shared secret between the application and the other party, the entropy in the shared secret must be evened out and stretched as needed. There are uncountable methods and algorithms to stretch an original seed entropy (the share secret) to generate symmetric keys.</p><ul>
<li>Run the X coordinate of the resulting entropy through a key derivation function (KDF)</li>
</ul>
<h2>After a key exchange</h2>
<p>After the ECDH key exchange completes, the application should either start another operation or close the driver by calling <a class="el" href="_e_c_d_h_8h.html#a47f6da8d23ef19680b27354e424dfcc1" title="Function to close an ECC peripheral specified by the ECC handle. ">ECDH_close()</a></p>
<h2>General usage</h2>
<p>The API expects elliptic curves as defined in <a class="el" href="_e_c_c_params_8h.html">ti/drivers/cryptoutils/ecc/ECCParams.h</a>. Several commonly used curves are provided. Check the device-specific ECDH documentation for curve type (short Weierstrass, Montgomery, Edwards) support for your device. ECDH support for a curve type on a device does not imply curve-type support for other ECC schemes.</p>
<h2>Key Formatting</h2>
<p>By default, the ECDH API expects the private and public keys to be formatted in big-endian format. The details of octet string formatting can be found in SEC 1: Elliptic Curve Cryptography.</p>
<p>Private keys can be formatted as big-endian or little-endian integers of the same length as the curve length.</p>
<p>Public keys and shared secrets are points on an elliptic curve. These points can be expressed in several ways. The most common one is in affine coordinates as an X,Y pair. This API uses points expressed in uncompressed affine coordinates by default. The big-endian format requires a formatting byte in the first byte of the public key. When using uncompressed affine coordinates, this is the value 0x04. The point itself is stored as a concatenated array of X followed by Y. X and Y maybe in big-endian or little-endian. Some implementations do not require or yield the Y coordinate for ECDH on certain curves. It is recommended that the full keying material buffer of twice the curve param length is used to facilitate code-reuse. Implementations that do not use the Y coordinate will zero-out the Y-coordinate whenever they write a point to the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>.</p>
<p>If device-supported, Montgomery curves can be stored as their X-only format based on the RFC-7748 specification. Here, only the X coordinate is packed in little-endian integers of the same length as the curve length.</p>
<p>This API accepts and returns the keying material of public keys according to the following table:</p>
<table class="doxtable">
<tr>
<th>Curve Type </th><th>Keying Material Array </th><th>Array Length  </th></tr>
<tr>
<td>Short Weierstrass </td><td>[0x04, X, Y] </td><td>1 + 2 * Curve Param Length </td></tr>
<tr>
<td>Montgomery </td><td>[0x04, X, Y] </td><td>1 + 2 * Curve Param Length </td></tr>
<tr>
<td>Montgomery </td><td>[X] </td><td>Curve Param Length </td></tr>
<tr>
<td>Edwards </td><td>[0x04, X, Y] </td><td>1 + 2 * Curve Param Length </td></tr>
</table>
<p>Note: This driver will automatically prune the private key according to RFC 7748 for the following curve: X25519</p>
<p><a class="anchor" id="ti_drivers_ECDH_Synopsis"></a></p><h2>Synopsis</h2>
<p><a class="anchor" id="ti_drivers_ECDH_Synopsis_Code"></a></p><div class="fragment"><div class="line"><span class="comment">// Import ECDH Driver definitions</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_e_c_d_h_8h.html">ti/drivers/ECDH.h</a>&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640">ECDH_init</a>();</div><div class="line"></div><div class="line"><span class="comment">// Since we are using default ECDH_Params, we just pass in NULL for that parameter.</span></div><div class="line">ecdhHandle = <a class="code" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55">ECDH_open</a>(0, NULL);</div><div class="line"></div><div class="line"><span class="comment">// Initialize myPrivateKey and myPublicKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;myPrivateKey, myPrivateKeyingMaterial, <span class="keyword">sizeof</span>(myPrivateKeyingMaterial));</div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;myPublicKey, myPublicKeyingMaterial, <span class="keyword">sizeof</span>(myPublicKeyingMaterial));</div><div class="line"></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#a3828b70f1353f25ed32ce4daff66b5be">ECDH_OperationGeneratePublicKey_init</a>(&amp;operationGeneratePublicKey);</div><div class="line">operationGeneratePublicKey.curve                 = &amp;<a class="code" href="_e_c_c_params_8h.html#ac0f12e0928f1a87c20ab551901ce6639">ECCParams_NISTP256</a>;</div><div class="line">operationGeneratePublicKey.myPrivateKey          = &amp;myPrivateKey;</div><div class="line">operationGeneratePublicKey.myPublicKey           = &amp;myPublicKey;</div><div class="line"></div><div class="line"><span class="comment">// Generate the keying material for myPublicKey and store it in myPublicKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542">ECDH_generatePublicKey</a>(ecdhHandle, &amp;operationGeneratePublicKey);</div><div class="line"></div><div class="line"><span class="comment">// Now send the content of myPublicKeyingMaterial to the other party,</span></div><div class="line"><span class="comment">// receive their public key, and copy their public keying material to theirPublicKeyingMaterial</span></div><div class="line"></div><div class="line"><span class="comment">// Initialize their public CryptoKey and the shared secret CryptoKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;theirPublicKey, theirPublicKeyingMaterial, <span class="keyword">sizeof</span>(theirPublicKeyingMaterial));</div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;sharedSecret, sharedSecretKeyingMaterial, <span class="keyword">sizeof</span>(sharedSecretKeyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// The ECC_NISTP256 struct is provided in ti/drivers/types/EccParams.h and the corresponding device-specific</span></div><div class="line">implementation <a class="code" href="_e_c_d_h_8h.html#ad2eb16f459a7dad3cf51db76c74400bb">ECDH_OperationComputeSharedSecret_init</a>(&amp;operationComputeSharedSecret);</div><div class="line">operationComputeSharedSecret.curve                      = &amp;<a class="code" href="_e_c_c_params_8h.html#ac0f12e0928f1a87c20ab551901ce6639">ECCParams_NISTP256</a>;</div><div class="line">operationComputeSharedSecret.myPrivateKey               = &amp;myPrivateKey;</div><div class="line">operationComputeSharedSecret.theirPublicKey             = &amp;theirPublicKey;</div><div class="line">operationComputeSharedSecret.sharedSecret               = &amp;sharedSecret;</div><div class="line"></div><div class="line"><span class="comment">// Compute the shared secret and copy it to sharedSecretKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85">ECDH_computeSharedSecret</a>(ecdhHandle, &amp;operationComputeSharedSecret);</div><div class="line"></div><div class="line"><span class="comment">// Close the driver</span></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#a47f6da8d23ef19680b27354e424dfcc1">ECDH_close</a>(ecdhHandle);</div></div><!-- fragment --><h2>Synopsis for X25519 X-only key exchange</h2>
<p><a class="anchor" id="ti_drivers_ECDH_X25519_Code"></a></p><div class="fragment"><div class="line"><span class="comment">// Import ECDH Driver definitions</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_e_c_d_h_8h.html">ti/drivers/ECDH.h</a>&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640">ECDH_init</a>();</div><div class="line"></div><div class="line"><span class="comment">// Since we are using default ECDH_Params, we just pass in NULL for that parameter.</span></div><div class="line">ecdhHandle = <a class="code" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55">ECDH_open</a>(0, NULL);</div><div class="line"></div><div class="line"><span class="comment">// Initialize myPrivateKey and myPublicKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;myPrivateKey, myPrivateKeyingMaterial, <span class="keyword">sizeof</span>(myPrivateKeyingMaterial));</div><div class="line"><span class="comment">// Note that the public key size is only 32 bytes</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;myPublicKey, myPublicKeyingMaterial, <span class="keyword">sizeof</span>(myPublicKeyingMaterial));</div><div class="line"></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#a3828b70f1353f25ed32ce4daff66b5be">ECDH_OperationGeneratePublicKey_init</a>(&amp;operationGeneratePublicKey);</div><div class="line">operationGeneratePublicKey.curve                 = &amp;<a class="code" href="_e_c_c_params_8h.html#a07a7365756426e4c9ac22aae3c9b075b">ECCParams_Curve25519</a>;</div><div class="line">operationGeneratePublicKey.myPrivateKey          = &amp;myPrivateKey;</div><div class="line">operationGeneratePublicKey.myPublicKey           = &amp;myPublicKey;</div><div class="line"><span class="comment">// If generating public key in little-endian format, we use the following format:</span></div><div class="line">operationGeneratePublicKey.keyMaterialEndianness = <a class="code" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fbafc92a1484621f87dae658cdf62fc1ece">ECDH_LITTLE_ENDIAN_KEY</a>;</div><div class="line"></div><div class="line"><span class="comment">// Generate the keying material for myPublicKey and store it in myPublicKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542">ECDH_generatePublicKey</a>(ecdhHandle, &amp;operationGeneratePublicKey);</div><div class="line"></div><div class="line"><span class="comment">// Now send the content of myPublicKeyingMaterial to the other party,</span></div><div class="line"><span class="comment">// receive their public key, and copy their public keying material to theirPublicKeyingMaterial</span></div><div class="line"></div><div class="line"><span class="comment">// Initialize their public CryptoKey and the shared secret CryptoKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;theirPublicKey, theirPublicKeyingMaterial, <span class="keyword">sizeof</span>(theirPublicKeyingMaterial));</div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;sharedSecret, sharedSecretKeyingMaterial, <span class="keyword">sizeof</span>(sharedSecretKeyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// The ECC_NISTP256 struct is provided in ti/drivers/types/EccParams.h and the corresponding device-specific</span></div><div class="line">implementation <a class="code" href="_e_c_d_h_8h.html#ad2eb16f459a7dad3cf51db76c74400bb">ECDH_OperationComputeSharedSecret_init</a>(&amp;operationComputeSharedSecret);</div><div class="line">operationComputeSharedSecret.curve                      = &amp;<a class="code" href="_e_c_c_params_8h.html#a07a7365756426e4c9ac22aae3c9b075b">ECCParams_Curve25519</a>;</div><div class="line">operationComputeSharedSecret.myPrivateKey               = &amp;myPrivateKey;</div><div class="line">operationComputeSharedSecret.theirPublicKey             = &amp;theirPublicKey;</div><div class="line">operationComputeSharedSecret.sharedSecret               = &amp;sharedSecret;</div><div class="line"><span class="comment">// If receiving and generating keys in little-endian format, we use the following format:</span></div><div class="line">operationComputeSharedSecret.keyMaterialEndianness      = <a class="code" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fbafc92a1484621f87dae658cdf62fc1ece">ECDH_LITTLE_ENDIAN_KEY</a>;</div><div class="line"></div><div class="line"><span class="comment">// Compute the shared secret and copy it to sharedSecretKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85">ECDH_computeSharedSecret</a>(ecdhHandle, &amp;operationComputeSharedSecret);</div><div class="line"></div><div class="line"><span class="comment">// Close the driver</span></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#a47f6da8d23ef19680b27354e424dfcc1">ECDH_close</a>(ecdhHandle);</div></div><!-- fragment --><p><a class="anchor" id="ti_drivers_ECDH_Examples"></a></p><h1>Examples</h1>
<h2>ECDH exchange with plaintext CryptoKeys</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_crypto_key_plaintext_8h.html">ti/drivers/cryptoutils/cryptokey/CryptoKeyPlaintext.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_e_c_d_h_8h.html">ti/drivers/ECDH.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define CURVE_LENGTH 32</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><span class="comment">// Our private key is 0x0000000000000000000000000000000000000000000000000000000000000001</span></div><div class="line"><span class="comment">// In practice, this value should come from a TRNG, PRNG, PUF, or device-specific pre-seeded key</span></div><div class="line">uint8_t myPrivateKeyingMaterial[CURVE_LENGTH] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div><div class="line">                                                 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div><div class="line">                                                 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div><div class="line">                                                 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01};</div><div class="line">uint8_t myPublicKeyingMaterial[2 * CURVE_LENGTH + 1] = {0};</div><div class="line">uint8_t theirPublicKeyingMaterial[2 * CURVE_LENGTH + 1] = {0};</div><div class="line">uint8_t sharedSecretKeyingMaterial[2 * CURVE_LENGTH + 1] = {0};</div><div class="line">uint8_t symmetricKeyingMaterial[16] = {0};</div><div class="line"></div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> myPrivateKey;</div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> myPublicKey;</div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> theirPublicKey;</div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> sharedSecret;</div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> symmetricKey;</div><div class="line"></div><div class="line"><a class="code" href="struct_e_c_d_h___config.html">ECDH_Handle</a> ecdhHandle;</div><div class="line"></div><div class="line">int_fast16_t operationResult;</div><div class="line"></div><div class="line"><a class="code" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a> operationGeneratePublicKey;</div><div class="line"></div><div class="line"><span class="comment">// Since we are using default ECDH_Params, we just pass in NULL for that parameter.</span></div><div class="line">ecdhHandle = <a class="code" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55">ECDH_open</a>(0, NULL);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (!ecdhHandle) {</div><div class="line">    <span class="comment">// Handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Initialize myPrivateKey and myPublicKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;myPrivateKey, myPrivateKeyingMaterial, <span class="keyword">sizeof</span>(myPrivateKeyingMaterial));</div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;myPublicKey, myPublicKeyingMaterial, <span class="keyword">sizeof</span>(myPublicKeyingMaterial));</div><div class="line"></div><div class="line"><a class="code" href="_e_c_d_h_8h.html#a3828b70f1353f25ed32ce4daff66b5be">ECDH_OperationGeneratePublicKey_init</a>(&amp;operationGeneratePublicKey);</div><div class="line">operationGeneratePublicKey.<a class="code" href="struct_e_c_d_h___operation_generate_public_key.html#a294f8f0057a47509156520d7deda3b80">curve</a>                 = &amp;<a class="code" href="_e_c_c_params_8h.html#ac0f12e0928f1a87c20ab551901ce6639">ECCParams_NISTP256</a>;</div><div class="line">operationGeneratePublicKey.<a class="code" href="struct_e_c_d_h___operation_generate_public_key.html#a0bafde21f7129cc94cf7dd5af230b80b">myPrivateKey</a>          = &amp;myPrivateKey;</div><div class="line">operationGeneratePublicKey.<a class="code" href="struct_e_c_d_h___operation_generate_public_key.html#a007ad6802f1edd96410cd1acfb6a5000">myPublicKey</a>           =  &amp;myPublicKey;</div><div class="line"></div><div class="line"><span class="comment">// Generate the keying material for myPublicKey and store it in myPublicKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542">ECDH_generatePublicKey</a>(ecdhHandle, &amp;operationGeneratePublicKey);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (operationResult != <a class="code" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f">ECDH_STATUS_SUCCESS</a>) {</div><div class="line">    <span class="comment">// Handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Now send the content of myPublicKeyingMaterial to the other party,</span></div><div class="line"><span class="comment">// receive their public key, and copy their public keying material and the</span></div><div class="line"><span class="comment">// 0x04 byte to theirPublicKeyingMaterial</span></div><div class="line"></div><div class="line"><span class="comment">// Initialise their public CryptoKey and the shared secret CryptoKey</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;theirPublicKey, theirPublicKeyingMaterial, <span class="keyword">sizeof</span>(theirPublicKeyingMaterial));</div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;sharedSecret, sharedSecretKeyingMaterial, <span class="keyword">sizeof</span>(sharedSecretKeyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// The ECC_NISTP256 struct is provided in ti/drivers/types/EccParams.h and the corresponding device-specific</span></div><div class="line">implementation <a class="code" href="_e_c_d_h_8h.html#ad2eb16f459a7dad3cf51db76c74400bb">ECDH_OperationComputeSharedSecret_init</a>(&amp;operationComputeSharedSecret);</div><div class="line">operationComputeSharedSecret.curve                      = &amp;<a class="code" href="_e_c_c_params_8h.html#ac0f12e0928f1a87c20ab551901ce6639">ECCParams_NISTP256</a>;</div><div class="line">operationComputeSharedSecret.myPrivateKey               = &amp;myPrivateKey;</div><div class="line">operationComputeSharedSecret.theirPublicKey             = &amp;theirPublicKey;</div><div class="line">operationComputeSharedSecret.sharedSecret               = &amp;sharedSecret;</div><div class="line"></div><div class="line"><span class="comment">// Compute the shared secret and copy it to sharedSecretKeyingMaterial</span></div><div class="line">operationResult = <a class="code" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85">ECDH_computeSharedSecret</a>(ecdhHandle, &amp;operationComputeSharedSecret);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (operationResult != <a class="code" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f">ECDH_STATUS_SUCCESS</a>) {</div><div class="line">    <span class="comment">// Handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#a85196071ac68f8d826f5073b86ce593e">CryptoKeyPlaintext_initBlankKey</a>(&amp;symmetricKey, symmetricKeyingMaterial, <span class="keyword">sizeof</span>(symmetricKeyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// Set up a KDF such as HKDF and open the requisite cryptographic primitive driver to implement it</span></div><div class="line"><span class="comment">// HKDF and SHA2 were chosen as an example and may not be available directly</span></div><div class="line"></div><div class="line"><span class="comment">// At this point, you and the other party have both created the content within symmetricKeyingMaterial without</span></div><div class="line"><span class="comment">// someone else listening to your communication channel being able to do so</span></div></div><!-- fragment --> </div><div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_crypto_key_8h_source.html">ti/drivers/cryptoutils/cryptokey/CryptoKey.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_e_c_c_params_8h_source.html">ti/drivers/cryptoutils/ecc/ECCParams.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ECDH.h:</div>
<div class="dyncontent">
<div class="center"><img src="_e_c_d_h_8h__incl.png" border="0" usemap="#_e_c_d_h_8h" alt=""/></div>
<map name="_e_c_d_h_8h" id="_e_c_d_h_8h">
<area shape="rect" id="node5" href="_crypto_key_8h.html" title="The CryptoKey type is an opaque representation of a cryptographic key. " alt="" coords="25,169,195,211"/>
<area shape="rect" id="node6" href="_e_c_c_params_8h.html" title="ti/drivers/cryptoutils\l/ecc/ECCParams.h" alt="" coords="287,80,440,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_e_c_d_h_8h__dep__incl.png" border="0" usemap="#_e_c_d_h_8hdep" alt=""/></div>
<map name="_e_c_d_h_8hdep" id="_e_c_d_h_8hdep">
<area shape="rect" id="node2" href="_e_c_d_h_c_c26_x1_8h.html" title="ECDH driver implementation for the CC26X1 family. " alt="" coords="5,80,128,107"/>
<area shape="rect" id="node3" href="_e_c_d_h_c_c26_x2_8h.html" title="ECDH driver implementation for the CC26X2 family. " alt="" coords="152,80,275,107"/>
<area shape="rect" id="node4" href="_e_c_d_h_c_c26_x4__ns_8h.html" title="ECDH Nonsecure driver implementation for the CC26X4 family. " alt="" coords="299,80,443,107"/>
<area shape="rect" id="node5" href="_e_c_d_h_c_c26_x4__s_8h.html" title="ECDHCC26X4_s.h" alt="" coords="467,80,603,107"/>
</map>
</div>
</div>
<p><a href="_e_c_d_h_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_d_h___config.html">ECDH_Config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECC Global configuration.  <a href="struct_e_c_d_h___config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing the parameters required to generate a public key.  <a href="struct_e_c_d_h___operation_generate_public_key.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html">ECDH_OperationComputeSharedSecret</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing the parameters required to compute the shared secret.  <a href="struct_e_c_d_h___operation_compute_shared_secret.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_e_c_d_h___operation.html">ECDH_Operation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Union containing pointers to all supported operation structs.  <a href="union_e_c_d_h___operation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECC Parameters.  <a href="struct_e_c_d_h___params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a00dbed059c824024835da32a82143cf9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a00dbed059c824024835da32a82143cf9">ECDH_STATUS_RESERVED</a>&#160;&#160;&#160;(-32)</td></tr>
<tr class="separator:a00dbed059c824024835da32a82143cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb5927711e0215b36d2895573622a5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f">ECDH_STATUS_SUCCESS</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:aadb5927711e0215b36d2895573622a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Successful status code.  <a href="#aadb5927711e0215b36d2895573622a5f">More...</a><br /></td></tr>
<tr class="separator:aadb5927711e0215b36d2895573622a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833a693cf04fcd2e6983105f9ff137c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a833a693cf04fcd2e6983105f9ff137c5">ECDH_STATUS_ERROR</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="memdesc:a833a693cf04fcd2e6983105f9ff137c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic error status code.  <a href="#a833a693cf04fcd2e6983105f9ff137c5">More...</a><br /></td></tr>
<tr class="separator:a833a693cf04fcd2e6983105f9ff137c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70467d8fc82bab4e8e709273d6cd322"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#ab70467d8fc82bab4e8e709273d6cd322">ECDH_STATUS_RESOURCE_UNAVAILABLE</a>&#160;&#160;&#160;(-2)</td></tr>
<tr class="memdesc:ab70467d8fc82bab4e8e709273d6cd322"><td class="mdescLeft">&#160;</td><td class="mdescRight">An error status code returned if the hardware or software resource is currently unavailable.  <a href="#ab70467d8fc82bab4e8e709273d6cd322">More...</a><br /></td></tr>
<tr class="separator:ab70467d8fc82bab4e8e709273d6cd322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1255d673e521a12585d034ab228af3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#ad1255d673e521a12585d034ab228af3f">ECDH_STATUS_POINT_AT_INFINITY</a>&#160;&#160;&#160;(-3)</td></tr>
<tr class="memdesc:ad1255d673e521a12585d034ab228af3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result of the operation is the point at infinity.  <a href="#ad1255d673e521a12585d034ab228af3f">More...</a><br /></td></tr>
<tr class="separator:ad1255d673e521a12585d034ab228af3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9858e344c1e0603f86645ae4928a3eca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a9858e344c1e0603f86645ae4928a3eca">ECDH_STATUS_PRIVATE_KEY_LARGER_EQUAL_ORDER</a>&#160;&#160;&#160;(-4)</td></tr>
<tr class="memdesc:a9858e344c1e0603f86645ae4928a3eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The private key passed in is larger or equal to the order of the curve.  <a href="#a9858e344c1e0603f86645ae4928a3eca">More...</a><br /></td></tr>
<tr class="separator:a9858e344c1e0603f86645ae4928a3eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a3781705d2a5cf7850187828a27a58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#ad4a3781705d2a5cf7850187828a27a58">ECDH_STATUS_PRIVATE_KEY_ZERO</a>&#160;&#160;&#160;(-5)</td></tr>
<tr class="memdesc:ad4a3781705d2a5cf7850187828a27a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">The private key passed in is zero.  <a href="#ad4a3781705d2a5cf7850187828a27a58">More...</a><br /></td></tr>
<tr class="separator:ad4a3781705d2a5cf7850187828a27a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf391c2c59fbf91364c2664b38af7bbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aaf391c2c59fbf91364c2664b38af7bbe">ECDH_STATUS_PUBLIC_KEY_NOT_ON_CURVE</a>&#160;&#160;&#160;(-6)</td></tr>
<tr class="memdesc:aaf391c2c59fbf91364c2664b38af7bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public key of the other party does not lie upon the curve.  <a href="#aaf391c2c59fbf91364c2664b38af7bbe">More...</a><br /></td></tr>
<tr class="separator:aaf391c2c59fbf91364c2664b38af7bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0765420780e918aaa5814c077f59daec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a0765420780e918aaa5814c077f59daec">ECDH_STATUS_PUBLIC_KEY_LARGER_THAN_PRIME</a>&#160;&#160;&#160;(-7)</td></tr>
<tr class="memdesc:a0765420780e918aaa5814c077f59daec"><td class="mdescLeft">&#160;</td><td class="mdescRight">A coordinate of the public key of the other party is too large.  <a href="#a0765420780e918aaa5814c077f59daec">More...</a><br /></td></tr>
<tr class="separator:a0765420780e918aaa5814c077f59daec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdb2de28f3e3acd88275dc0cdc573c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aabdb2de28f3e3acd88275dc0cdc573c0">ECDH_STATUS_CANCELED</a>&#160;&#160;&#160;(-8)</td></tr>
<tr class="memdesc:aabdb2de28f3e3acd88275dc0cdc573c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ongoing operation was canceled.  <a href="#aabdb2de28f3e3acd88275dc0cdc573c0">More...</a><br /></td></tr>
<tr class="separator:aabdb2de28f3e3acd88275dc0cdc573c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfbe7c043d7b1d38e6d91140dedb49df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#adfbe7c043d7b1d38e6d91140dedb49df">ECDH_STATUS_INVALID_KEY_SIZE</a>&#160;&#160;&#160;(-9)</td></tr>
<tr class="memdesc:adfbe7c043d7b1d38e6d91140dedb49df"><td class="mdescLeft">&#160;</td><td class="mdescRight">The provided <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> does not match the expected size.  <a href="#adfbe7c043d7b1d38e6d91140dedb49df">More...</a><br /></td></tr>
<tr class="separator:adfbe7c043d7b1d38e6d91140dedb49df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0dc4d1fa9facac427789d9c03e32cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a5f0dc4d1fa9facac427789d9c03e32cb">ECDH_STATUS_KEYSTORE_ERROR</a>&#160;&#160;&#160;(-10)</td></tr>
<tr class="memdesc:a5f0dc4d1fa9facac427789d9c03e32cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Importing generated key into KeyStore failed.  <a href="#a5f0dc4d1fa9facac427789d9c03e32cb">More...</a><br /></td></tr>
<tr class="separator:a5f0dc4d1fa9facac427789d9c03e32cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aeff2f7957e2a398e24f7e77d3b395d29"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_e_c_d_h___config.html">ECDH_Config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a></td></tr>
<tr class="memdesc:aeff2f7957e2a398e24f7e77d3b395d29"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handle that is returned from an <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a> call.  <a href="#aeff2f7957e2a398e24f7e77d3b395d29">More...</a><br /></td></tr>
<tr class="separator:aeff2f7957e2a398e24f7e77d3b395d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978c9e16d670371e7c0c50793fc4ec04"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a978c9e16d670371e7c0c50793fc4ec04">ECDH_CallbackFxn</a>) (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle, int_fast16_t returnStatus, <a class="el" href="union_e_c_d_h___operation.html">ECDH_Operation</a> operation, <a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490">ECDH_OperationType</a> operationType)</td></tr>
<tr class="memdesc:a978c9e16d670371e7c0c50793fc4ec04"><td class="mdescLeft">&#160;</td><td class="mdescRight">The definition of a callback function used by the ECDH driver when used in <a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670aab484909ed8c542b06511a66cc52ef18">ECDH_RETURN_BEHAVIOR_CALLBACK</a>.  <a href="#a978c9e16d670371e7c0c50793fc4ec04">More...</a><br /></td></tr>
<tr class="separator:a978c9e16d670371e7c0c50793fc4ec04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a95326e8fc727d9426a57cf4a6bb2f670"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670">ECDH_ReturnBehavior</a> { <a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670aab484909ed8c542b06511a66cc52ef18">ECDH_RETURN_BEHAVIOR_CALLBACK</a> = 1, 
<a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670ad76afb7626a0e43453bd8d7713eae59a">ECDH_RETURN_BEHAVIOR_BLOCKING</a> = 2, 
<a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670a91e4b64cb2e16e67d8d3085efb31cc52">ECDH_RETURN_BEHAVIOR_POLLING</a> = 4
 }<tr class="memdesc:a95326e8fc727d9426a57cf4a6bb2f670"><td class="mdescLeft">&#160;</td><td class="mdescRight">The way in which ECDH function calls return after performing a public key generation or shared secret compution operation.  <a href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a95326e8fc727d9426a57cf4a6bb2f670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8880579dac7ee8d0f2c3ddf2306ca9fb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fb">ECDH_KeyMaterialEndianness</a> { <a class="el" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fbac16294d44259f21f71144617a814a291">ECDH_BIG_ENDIAN_KEY</a> = 0, 
<a class="el" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fbafc92a1484621f87dae658cdf62fc1ece">ECDH_LITTLE_ENDIAN_KEY</a> = 1
 }</td></tr>
<tr class="separator:a8880579dac7ee8d0f2c3ddf2306ca9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b8a8bbad4e932870174c38dec46490"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490">ECDH_OperationType</a> { <a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490a62570c7af35bd230669defb259782d16">ECDH_OPERATION_TYPE_GENERATE_PUBLIC_KEY</a> = 1, 
<a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490a5cd7dd7ccef7e1a2cda0dda6b6a309e5">ECDH_OPERATION_TYPE_COMPUTE_SHARED_SECRET</a> = 2
 }<tr class="memdesc:a99b8a8bbad4e932870174c38dec46490"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the operation types supported by the driver.  <a href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a99b8a8bbad4e932870174c38dec46490"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeafc9a67220447bca292685b6b2e7640"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640">ECDH_init</a> (void)</td></tr>
<tr class="memdesc:aeafc9a67220447bca292685b6b2e7640"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the ECC module.  <a href="#aeafc9a67220447bca292685b6b2e7640">More...</a><br /></td></tr>
<tr class="separator:aeafc9a67220447bca292685b6b2e7640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba742374e7813cd416d26a1b86872bf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aba742374e7813cd416d26a1b86872bf4">ECDH_Params_init</a> (<a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:aba742374e7813cd416d26a1b86872bf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> struct to its defaults.  <a href="#aba742374e7813cd416d26a1b86872bf4">More...</a><br /></td></tr>
<tr class="separator:aba742374e7813cd416d26a1b86872bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8c3d9abed3fe1e8671c364385a5e55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55">ECDH_open</a> (uint_least8_t index, const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:aad8c3d9abed3fe1e8671c364385a5e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens a given ECC peripheral.  <a href="#aad8c3d9abed3fe1e8671c364385a5e55">More...</a><br /></td></tr>
<tr class="separator:aad8c3d9abed3fe1e8671c364385a5e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f6da8d23ef19680b27354e424dfcc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a47f6da8d23ef19680b27354e424dfcc1">ECDH_close</a> (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle)</td></tr>
<tr class="memdesc:a47f6da8d23ef19680b27354e424dfcc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to close an ECC peripheral specified by the ECC handle.  <a href="#a47f6da8d23ef19680b27354e424dfcc1">More...</a><br /></td></tr>
<tr class="separator:a47f6da8d23ef19680b27354e424dfcc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3828b70f1353f25ed32ce4daff66b5be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a3828b70f1353f25ed32ce4daff66b5be">ECDH_OperationGeneratePublicKey_init</a> (<a class="el" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a> *operation)</td></tr>
<tr class="memdesc:a3828b70f1353f25ed32ce4daff66b5be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize an <a class="el" href="struct_e_c_d_h___operation_generate_public_key.html" title="Struct containing the parameters required to generate a public key. ">ECDH_OperationGeneratePublicKey</a> struct to its defaults.  <a href="#a3828b70f1353f25ed32ce4daff66b5be">More...</a><br /></td></tr>
<tr class="separator:a3828b70f1353f25ed32ce4daff66b5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2eb16f459a7dad3cf51db76c74400bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#ad2eb16f459a7dad3cf51db76c74400bb">ECDH_OperationComputeSharedSecret_init</a> (<a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html">ECDH_OperationComputeSharedSecret</a> *operation)</td></tr>
<tr class="memdesc:ad2eb16f459a7dad3cf51db76c74400bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize an <a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html" title="Struct containing the parameters required to compute the shared secret. ">ECDH_OperationComputeSharedSecret</a> struct to its defaults.  <a href="#ad2eb16f459a7dad3cf51db76c74400bb">More...</a><br /></td></tr>
<tr class="separator:ad2eb16f459a7dad3cf51db76c74400bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af674c6e1f24af5212f0694ac033b3542"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542">ECDH_generatePublicKey</a> (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle, <a class="el" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a> *operation)</td></tr>
<tr class="memdesc:af674c6e1f24af5212f0694ac033b3542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a public key for use in key agreement.  <a href="#af674c6e1f24af5212f0694ac033b3542">More...</a><br /></td></tr>
<tr class="separator:af674c6e1f24af5212f0694ac033b3542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7cce4647109da02f1f4f952697ae85"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85">ECDH_computeSharedSecret</a> (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle, <a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html">ECDH_OperationComputeSharedSecret</a> *operation)</td></tr>
<tr class="memdesc:aac7cce4647109da02f1f4f952697ae85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a shared secret.  <a href="#aac7cce4647109da02f1f4f952697ae85">More...</a><br /></td></tr>
<tr class="separator:aac7cce4647109da02f1f4f952697ae85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8590765ee63fff4d29504e25936108af"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#a8590765ee63fff4d29504e25936108af">ECDH_cancelOperation</a> (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle)</td></tr>
<tr class="memdesc:a8590765ee63fff4d29504e25936108af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels an ongoing ECDH operation.  <a href="#a8590765ee63fff4d29504e25936108af">More...</a><br /></td></tr>
<tr class="separator:a8590765ee63fff4d29504e25936108af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6d014afcd27ceb67950f3c0a3187dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#aaf6d014afcd27ceb67950f3c0a3187dc">ECDH_construct</a> (<a class="el" href="struct_e_c_d_h___config.html">ECDH_Config</a> *config, const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:aaf6d014afcd27ceb67950f3c0a3187dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new ECDH object.  <a href="#aaf6d014afcd27ceb67950f3c0a3187dc">More...</a><br /></td></tr>
<tr class="separator:aaf6d014afcd27ceb67950f3c0a3187dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad97202536e7a3ea20529969825b5c389"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_e_c_d_h_8h.html#ad97202536e7a3ea20529969825b5c389">ECDH_defaultParams</a></td></tr>
<tr class="memdesc:ad97202536e7a3ea20529969825b5c389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> structure.  <a href="#ad97202536e7a3ea20529969825b5c389">More...</a><br /></td></tr>
<tr class="separator:ad97202536e7a3ea20529969825b5c389"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a00dbed059c824024835da32a82143cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dbed059c824024835da32a82143cf9">&sect;&nbsp;</a></span>ECDH_STATUS_RESERVED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_RESERVED&#160;&#160;&#160;(-32)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Common ECDH status code reservation offset. ECC driver implementations should offset status codes with ECDH_STATUS_RESERVED growing negatively.</p>
<p>Example implementation specific status codes: </p><div class="fragment"><div class="line"><span class="preprocessor">#define ECCXYZ_STATUS_ERROR0    ECDH_STATUS_RESERVED - 0</span></div><div class="line"><span class="preprocessor">#define ECCXYZ_STATUS_ERROR1    ECDH_STATUS_RESERVED - 1</span></div><div class="line"><span class="preprocessor">#define ECCXYZ_STATUS_ERROR2    ECDH_STATUS_RESERVED - 2</span></div></div><!-- fragment --> 
</div>
</div>
<a id="aadb5927711e0215b36d2895573622a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb5927711e0215b36d2895573622a5f">&sect;&nbsp;</a></span>ECDH_STATUS_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_SUCCESS&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Successful status code. </p>
<p>Functions return ECDH_STATUS_SUCCESS if the function was executed successfully. </p>

</div>
</div>
<a id="a833a693cf04fcd2e6983105f9ff137c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833a693cf04fcd2e6983105f9ff137c5">&sect;&nbsp;</a></span>ECDH_STATUS_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_ERROR&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic error status code. </p>
<p>Functions return ECDH_STATUS_ERROR if the function was not executed successfully. </p>

</div>
</div>
<a id="ab70467d8fc82bab4e8e709273d6cd322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70467d8fc82bab4e8e709273d6cd322">&sect;&nbsp;</a></span>ECDH_STATUS_RESOURCE_UNAVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_RESOURCE_UNAVAILABLE&#160;&#160;&#160;(-2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An error status code returned if the hardware or software resource is currently unavailable. </p>
<p>ECC driver implementations may have hardware or software limitations on how many clients can simultaneously perform operations. This status code is returned if the mutual exclusion mechanism signals that an operation cannot currently be performed. </p>

</div>
</div>
<a id="ad1255d673e521a12585d034ab228af3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1255d673e521a12585d034ab228af3f">&sect;&nbsp;</a></span>ECDH_STATUS_POINT_AT_INFINITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_POINT_AT_INFINITY&#160;&#160;&#160;(-3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The result of the operation is the point at infinity. </p>
<p>The operation yielded the point at infinity on this curve. This point is not permitted for further use in ECC operations. </p>

</div>
</div>
<a id="a9858e344c1e0603f86645ae4928a3eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9858e344c1e0603f86645ae4928a3eca">&sect;&nbsp;</a></span>ECDH_STATUS_PRIVATE_KEY_LARGER_EQUAL_ORDER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_PRIVATE_KEY_LARGER_EQUAL_ORDER&#160;&#160;&#160;(-4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The private key passed in is larger or equal to the order of the curve. </p>
<p>Private keys must be integers in the interval [1, n - 1], where n is the order of the curve. </p>

</div>
</div>
<a id="ad4a3781705d2a5cf7850187828a27a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a3781705d2a5cf7850187828a27a58">&sect;&nbsp;</a></span>ECDH_STATUS_PRIVATE_KEY_ZERO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_PRIVATE_KEY_ZERO&#160;&#160;&#160;(-5)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The private key passed in is zero. </p>
<p>Private keys must be integers in the interval [1, n - 1], where n is the order of the curve. </p>

</div>
</div>
<a id="aaf391c2c59fbf91364c2664b38af7bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf391c2c59fbf91364c2664b38af7bbe">&sect;&nbsp;</a></span>ECDH_STATUS_PUBLIC_KEY_NOT_ON_CURVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_PUBLIC_KEY_NOT_ON_CURVE&#160;&#160;&#160;(-6)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The public key of the other party does not lie upon the curve. </p>
<p>The public key received from the other party does not lie upon the agreed upon curve. </p>

</div>
</div>
<a id="a0765420780e918aaa5814c077f59daec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0765420780e918aaa5814c077f59daec">&sect;&nbsp;</a></span>ECDH_STATUS_PUBLIC_KEY_LARGER_THAN_PRIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_PUBLIC_KEY_LARGER_THAN_PRIME&#160;&#160;&#160;(-7)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A coordinate of the public key of the other party is too large. </p>
<p>A coordinate of the public key received from the other party is larger than the prime of the curve. This implies that the point was not correctly generated on that curve. </p>

</div>
</div>
<a id="aabdb2de28f3e3acd88275dc0cdc573c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabdb2de28f3e3acd88275dc0cdc573c0">&sect;&nbsp;</a></span>ECDH_STATUS_CANCELED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_CANCELED&#160;&#160;&#160;(-8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ongoing operation was canceled. </p>

</div>
</div>
<a id="adfbe7c043d7b1d38e6d91140dedb49df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfbe7c043d7b1d38e6d91140dedb49df">&sect;&nbsp;</a></span>ECDH_STATUS_INVALID_KEY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_INVALID_KEY_SIZE&#160;&#160;&#160;(-9)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The provided <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> does not match the expected size. </p>
<p>The driver expects the private key to have the same length as other curve parameters and the public key to have a length of twice that plus one. If the provided CryptoKeys for the public and private keys do not match this scheme, this error will be returned. </p>

</div>
</div>
<a id="a5f0dc4d1fa9facac427789d9c03e32cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0dc4d1fa9facac427789d9c03e32cb">&sect;&nbsp;</a></span>ECDH_STATUS_KEYSTORE_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ECDH_STATUS_KEYSTORE_ERROR&#160;&#160;&#160;(-10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Importing generated key into KeyStore failed. </p>
<p>Functions return ECDH_STATUS_KEYSTORE_ERROR if the <a class="el" href="_crypto_key_key_store___p_s_a_8h.html#aa9425eeaa708cf28b9101c34a152ec36" title="Import a key in binary format. ">KeyStore_PSA_importKey()</a> did not return KEYSTORE_PSA_STATUS_SUCCESS </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aeff2f7957e2a398e24f7e77d3b395d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff2f7957e2a398e24f7e77d3b395d29">&sect;&nbsp;</a></span>ECDH_Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_e_c_d_h___config.html">ECDH_Config</a>* <a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A handle that is returned from an <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a> call. </p>

</div>
</div>
<a id="a978c9e16d670371e7c0c50793fc4ec04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978c9e16d670371e7c0c50793fc4ec04">&sect;&nbsp;</a></span>ECDH_CallbackFxn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ECDH_CallbackFxn) (<a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> handle, int_fast16_t returnStatus, <a class="el" href="union_e_c_d_h___operation.html">ECDH_Operation</a> operation, <a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490">ECDH_OperationType</a> operationType)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The definition of a callback function used by the ECDH driver when used in <a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670aab484909ed8c542b06511a66cc52ef18">ECDH_RETURN_BEHAVIOR_CALLBACK</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of the client that started the ECDH operation.</td></tr>
    <tr><td class="paramname">returnStatus</td><td>The result of the ECDH operation. May contain an error code if the result is the point at infinity for example.</td></tr>
    <tr><td class="paramname">operation</td><td>A union of pointers to operation structs. Only one type of pointer is valid per call to the callback function. Which type is currently valid is determined by /c operationType. The union allows easier access to the struct's fields without the need to typecase the result.</td></tr>
    <tr><td class="paramname">operationType</td><td>This parameter determined which operation the callback refers to and which type to access through /c operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a95326e8fc727d9426a57cf4a6bb2f670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95326e8fc727d9426a57cf4a6bb2f670">&sect;&nbsp;</a></span>ECDH_ReturnBehavior</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_e_c_d_h_8h.html#a95326e8fc727d9426a57cf4a6bb2f670">ECDH_ReturnBehavior</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The way in which ECDH function calls return after performing a public key generation or shared secret compution operation. </p>
<p>Callback return behavior is not supported by software-backed implementations. A NULL handle will be returned when attempting to open or construct a driver instance with an unsupported return behavior.</p>
<p>Not all ECDH operations exhibit the specified return behavior. Functions that do not require significant computation and cannot offload that computation to a background thread behave like regular functions. Which functions exhibit the specfied return behavior is not implementation dependent. Specifically, a software-backed implementation run on the same CPU as the application will emulate the return behavior while not actually offloading the computation to the background thread.</p>
<p>ECDH functions exhibiting the specified return behavior have restrictions on the context from which they may be called.</p>
<table class="doxtable">
<tr>
<th></th><th>Task </th><th>Hwi </th><th>Swi  </th></tr>
<tr>
<td>ECDH_RETURN_BEHAVIOR_CALLBACK </td><td>X </td><td>X </td><td>X </td></tr>
<tr>
<td>ECDH_RETURN_BEHAVIOR_BLOCKING </td><td>X </td><td></td><td></td></tr>
<tr>
<td>ECDH_RETURN_BEHAVIOR_POLLING </td><td>X </td><td>X </td><td>X </td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a95326e8fc727d9426a57cf4a6bb2f670aab484909ed8c542b06511a66cc52ef18"></a>ECDH_RETURN_BEHAVIOR_CALLBACK&#160;</td><td class="fielddoc"><p>The function call will return immediately while the ECC operation goes on in the background. The registered callback function is called after the operation completes. The context the callback function is called (task, HWI, SWI) is implementation-dependent. </p>
</td></tr>
<tr><td class="fieldname"><a id="a95326e8fc727d9426a57cf4a6bb2f670ad76afb7626a0e43453bd8d7713eae59a"></a>ECDH_RETURN_BEHAVIOR_BLOCKING&#160;</td><td class="fielddoc"><p>The function call will block while ECC operation goes on in the background. ECC operation results are available after the function returns. </p>
</td></tr>
<tr><td class="fieldname"><a id="a95326e8fc727d9426a57cf4a6bb2f670a91e4b64cb2e16e67d8d3085efb31cc52"></a>ECDH_RETURN_BEHAVIOR_POLLING&#160;</td><td class="fielddoc"><p>The function call will continuously poll a flag while ECC operation goes on in the background. ECC operation results are available after the function returns. </p>
</td></tr>
</table>

</div>
</div>
<a id="a8880579dac7ee8d0f2c3ddf2306ca9fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8880579dac7ee8d0f2c3ddf2306ca9fb">&sect;&nbsp;</a></span>ECDH_KeyMaterialEndianness</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_e_c_d_h_8h.html#a8880579dac7ee8d0f2c3ddf2306ca9fb">ECDH_KeyMaterialEndianness</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8880579dac7ee8d0f2c3ddf2306ca9fbac16294d44259f21f71144617a814a291"></a>ECDH_BIG_ENDIAN_KEY&#160;</td><td class="fielddoc"><p>All ECDH key material (private key, public key, and shared secret (when used)) are in big-endian format </p>
</td></tr>
<tr><td class="fieldname"><a id="a8880579dac7ee8d0f2c3ddf2306ca9fbafc92a1484621f87dae658cdf62fc1ece"></a>ECDH_LITTLE_ENDIAN_KEY&#160;</td><td class="fielddoc"><p>All ECDH key material (private key, public key, and shared secret (when used)) are in little-endian format </p>
</td></tr>
</table>

</div>
</div>
<a id="a99b8a8bbad4e932870174c38dec46490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b8a8bbad4e932870174c38dec46490">&sect;&nbsp;</a></span>ECDH_OperationType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_e_c_d_h_8h.html#a99b8a8bbad4e932870174c38dec46490">ECDH_OperationType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for the operation types supported by the driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a99b8a8bbad4e932870174c38dec46490a62570c7af35bd230669defb259782d16"></a>ECDH_OPERATION_TYPE_GENERATE_PUBLIC_KEY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a99b8a8bbad4e932870174c38dec46490a5cd7dd7ccef7e1a2cda0dda6b6a309e5"></a>ECDH_OPERATION_TYPE_COMPUTE_SHARED_SECRET&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aeafc9a67220447bca292685b6b2e7640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafc9a67220447bca292685b6b2e7640">&sect;&nbsp;</a></span>ECDH_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECDH_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the ECC module. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The ECDH_config structure must exist and be persistent before this function can be called. This function must also be called before any other ECC driver APIs. This function call does not modify any peripheral registers. </dd></dl>

</div>
</div>
<a id="aba742374e7813cd416d26a1b86872bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba742374e7813cd416d26a1b86872bf4">&sect;&nbsp;</a></span>ECDH_Params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECDH_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>An pointer to <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are: returnBehavior = ECDH_RETURN_BEHAVIOR_BLOCKING callbackFxn = NULL timeout = SemaphoreP_WAIT_FOREVER custom = NULL </p>

</div>
</div>
<a id="aad8c3d9abed3fe1e8671c364385a5e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8c3d9abed3fe1e8671c364385a5e55">&sect;&nbsp;</a></span>ECDH_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> ECDH_open </td>
          <td>(</td>
          <td class="paramtype">uint_least8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function opens a given ECC peripheral. </p>
<dl class="section pre"><dt>Precondition</dt><dd>ECC controller has been initialized using <a class="el" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640" title="This function initializes the ECC module. ">ECDH_init()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Logical peripheral number for the ECC indexed into the ECDH_config table</td></tr>
    <tr><td class="paramname">params</td><td>Pointer to an parameter block, if NULL it will use default values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An ECDH_Handle on success or a NULL on an error or if it has been opened already.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_e_c_d_h_8h.html#aeafc9a67220447bca292685b6b2e7640" title="This function initializes the ECC module. ">ECDH_init()</a> </dd>
<dd>
<a class="el" href="_e_c_d_h_8h.html#a47f6da8d23ef19680b27354e424dfcc1" title="Function to close an ECC peripheral specified by the ECC handle. ">ECDH_close()</a> </dd></dl>

</div>
</div>
<a id="a47f6da8d23ef19680b27354e424dfcc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f6da8d23ef19680b27354e424dfcc1">&sect;&nbsp;</a></span>ECDH_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECDH_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to close an ECC peripheral specified by the ECC handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a> has to be called first.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An ECC handle returned from <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a> </dd></dl>

</div>
</div>
<a id="a3828b70f1353f25ed32ce4daff66b5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3828b70f1353f25ed32ce4daff66b5be">&sect;&nbsp;</a></span>ECDH_OperationGeneratePublicKey_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECDH_OperationGeneratePublicKey_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize an <a class="el" href="struct_e_c_d_h___operation_generate_public_key.html" title="Struct containing the parameters required to generate a public key. ">ECDH_OperationGeneratePublicKey</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>A pointer to <a class="el" href="struct_e_c_d_h___operation_generate_public_key.html" title="Struct containing the parameters required to generate a public key. ">ECDH_OperationGeneratePublicKey</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are all zeros. </p>

</div>
</div>
<a id="ad2eb16f459a7dad3cf51db76c74400bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eb16f459a7dad3cf51db76c74400bb">&sect;&nbsp;</a></span>ECDH_OperationComputeSharedSecret_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ECDH_OperationComputeSharedSecret_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html">ECDH_OperationComputeSharedSecret</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize an <a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html" title="Struct containing the parameters required to compute the shared secret. ">ECDH_OperationComputeSharedSecret</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>A pointer to <a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html" title="Struct containing the parameters required to compute the shared secret. ">ECDH_OperationComputeSharedSecret</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are all zeros. </p>

</div>
</div>
<a id="af674c6e1f24af5212f0694ac033b3542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af674c6e1f24af5212f0694ac033b3542">&sect;&nbsp;</a></span>ECDH_generatePublicKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t ECDH_generatePublicKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___operation_generate_public_key.html">ECDH_OperationGeneratePublicKey</a> *&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a public key for use in key agreement. </p>
<p>This function can be used to generate a public key from a private key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A ECDH handle returned from <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a></td></tr>
    <tr><td class="paramname">operation</td><td>A pointer to a struct containing the requisite parameters to execute the function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Call <a class="el" href="_e_c_d_h_8h.html#a3828b70f1353f25ed32ce4daff66b5be" title="Function to initialize an ECDH_OperationGeneratePublicKey struct to its defaults. ...">ECDH_OperationGeneratePublicKey_init()</a> on <code>operation</code>.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><a class="el" href="_e_c_d_h_8h.html#aac7cce4647109da02f1f4f952697ae85" title="Computes a shared secret. ">ECDH_computeSharedSecret()</a></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f" title="Successful status code. ">ECDH_STATUS_SUCCESS</a></td><td>The operation succeeded. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#a833a693cf04fcd2e6983105f9ff137c5" title="Generic error status code. ">ECDH_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#ab70467d8fc82bab4e8e709273d6cd322" title="An error status code returned if the hardware or software resource is currently unavailable. ">ECDH_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aabdb2de28f3e3acd88275dc0cdc573c0" title="The ongoing operation was canceled. ">ECDH_STATUS_CANCELED</a></td><td>The operation was canceled. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#ad1255d673e521a12585d034ab228af3f" title="The result of the operation is the point at infinity. ">ECDH_STATUS_POINT_AT_INFINITY</a></td><td>The computed public key is the point at infinity. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#ad4a3781705d2a5cf7850187828a27a58" title="The private key passed in is zero. ">ECDH_STATUS_PRIVATE_KEY_ZERO</a></td><td>The provided private key is zero. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#a9858e344c1e0603f86645ae4928a3eca" title="The private key passed in is larger or equal to the order of the curve. ">ECDH_STATUS_PRIVATE_KEY_LARGER_EQUAL_ORDER</a></td><td>The provided private key is larger than or equal to the order of the curve. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac7cce4647109da02f1f4f952697ae85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7cce4647109da02f1f4f952697ae85">&sect;&nbsp;</a></span>ECDH_computeSharedSecret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t ECDH_computeSharedSecret </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___operation_compute_shared_secret.html">ECDH_OperationComputeSharedSecret</a> *&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a shared secret. </p>
<p>This secret can be used to generate shared keys for encryption and authentication.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A ECDH handle returned from <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a></td></tr>
    <tr><td class="paramname">operation</td><td>A pointer to a struct containing the requisite</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Call <a class="el" href="_e_c_d_h_8h.html#ad2eb16f459a7dad3cf51db76c74400bb" title="Function to initialize an ECDH_OperationComputeSharedSecret struct to its defaults. ">ECDH_OperationComputeSharedSecret_init()</a> on <code>operation</code>. Generate a shared secret off-chip or using <a class="el" href="_e_c_d_h_8h.html#af674c6e1f24af5212f0694ac033b3542" title="Generates a public key for use in key agreement. ">ECDH_generatePublicKey()</a></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f" title="Successful status code. ">ECDH_STATUS_SUCCESS</a></td><td>The operation succeeded. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#a833a693cf04fcd2e6983105f9ff137c5" title="Generic error status code. ">ECDH_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#ab70467d8fc82bab4e8e709273d6cd322" title="An error status code returned if the hardware or software resource is currently unavailable. ">ECDH_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aabdb2de28f3e3acd88275dc0cdc573c0" title="The ongoing operation was canceled. ">ECDH_STATUS_CANCELED</a></td><td>The operation was canceled. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aaf391c2c59fbf91364c2664b38af7bbe" title="The public key of the other party does not lie upon the curve. ">ECDH_STATUS_PUBLIC_KEY_NOT_ON_CURVE</a></td><td>The foreign public key is not a point on the specified curve. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#a0765420780e918aaa5814c077f59daec" title="A coordinate of the public key of the other party is too large. ">ECDH_STATUS_PUBLIC_KEY_LARGER_THAN_PRIME</a></td><td>One of the public key coordinates is larger the the curve's prime. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8590765ee63fff4d29504e25936108af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8590765ee63fff4d29504e25936108af">&sect;&nbsp;</a></span>ECDH_cancelOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t ECDH_cancelOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels an ongoing ECDH operation. </p>
<p>Asynchronously cancels an ECDH operation. Only available when using ECDH_RETURN_BEHAVIOR_CALLBACK or ECDH_RETURN_BEHAVIOR_BLOCKING. The operation will terminate as though an error occurred. The return status code of the operation will be ECDH_STATUS_CANCELED.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of the operation to cancel</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#aadb5927711e0215b36d2895573622a5f" title="Successful status code. ">ECDH_STATUS_SUCCESS</a></td><td>The operation was canceled. </td></tr>
    <tr><td class="paramname"><a class="el" href="_e_c_d_h_8h.html#a833a693cf04fcd2e6983105f9ff137c5" title="Generic error status code. ">ECDH_STATUS_ERROR</a></td><td>The operation was not canceled. There may be no operation to cancel. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf6d014afcd27ceb67950f3c0a3187dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6d014afcd27ceb67950f3c0a3187dc">&sect;&nbsp;</a></span>ECDH_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29">ECDH_Handle</a> ECDH_construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_c_d_h___config.html">ECDH_Config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new ECDH object. </p>
<p>Unlike <a class="el" href="_e_c_d_h_8h.html#aad8c3d9abed3fe1e8671c364385a5e55" title="This function opens a given ECC peripheral. ">ECDH_open()</a>, <a class="el" href="_e_c_d_h_8h.html#aaf6d014afcd27ceb67950f3c0a3187dc" title="Constructs a new ECDH object. ">ECDH_construct()</a> does not require the hwAttrs and object to be allocated in a <a class="el" href="struct_e_c_d_h___config.html" title="ECC Global configuration. ">ECDH_Config</a> array that is indexed into. Instead, the <a class="el" href="struct_e_c_d_h___config.html" title="ECC Global configuration. ">ECDH_Config</a>, hwAttrs, and object can be allocated at any location. This allows for relatively simple run-time allocation of temporary driver instances on the stack or the heap. The drawback is that this makes it more difficult to write device-agnostic code. If you use an ifdef with DeviceFamily, you can choose the correct object and hwAttrs to allocate. That compilation unit will be tied to the device it was compiled for at this point. To change devices, recompilation of the application with a different DeviceFamily setting is necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td><a class="el" href="struct_e_c_d_h___config.html" title="ECC Global configuration. ">ECDH_Config</a> describing the location of the object and hwAttrs.</td></tr>
    <tr><td class="paramname">params</td><td><a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> to configure the driver instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a <a class="el" href="_e_c_d_h_8h.html#aeff2f7957e2a398e24f7e77d3b395d29" title="A handle that is returned from an ECDH_open() call. ">ECDH_Handle</a> on success or NULL on failure.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The object struct <code>config</code> points to must be zeroed out prior to calling this function. Otherwise, unexpected behavior may ensue. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad97202536e7a3ea20529969825b5c389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad97202536e7a3ea20529969825b5c389">&sect;&nbsp;</a></span>ECDH_defaultParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_e_c_d_h___params.html">ECDH_Params</a> ECDH_defaultParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default <a class="el" href="struct_e_c_d_h___params.html" title="ECC Parameters. ">ECDH_Params</a> structure. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_e_c_d_h_8h.html#aba742374e7813cd416d26a1b86872bf4" title="Function to initialize the ECDH_Params struct to its defaults. ">ECDH_Params_init()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml"> Copyright 1995-2023</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
