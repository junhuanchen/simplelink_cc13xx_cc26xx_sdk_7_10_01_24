<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>AESCMAC.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_dd8fa7f0a423552d37651735ac37558f.html">ti</a></li><li class="navelem"><a class="el" href="dir_15fb9a92674a5e15cac1f3112cfb19ae.html">drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AESCMAC.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AESCMAC (CMAC and CBC-MAC) driver header. </p>
<p><a class="anchor" id="ti_drivers_AESCMAC_Overview"></a></p><h1>Overview</h1>
<p>The Cipher-based Message Authentication Code (CMAC) and Cipher Block Chaining Message Authentication Code (CBC-MAC) are generic block cipher modes of operation. They can be used with any block cipher but this driver implementation uses AES.</p>
<p>Both CMAC and CBC-MAC create a message authentication code from a message of any practical length to provide authenticity and integrity assurances. CMAC is recommended over CBC-MAC because CBC-MAC is not secure for variable length messages.</p>
<h2>CBC-MAC Drawbacks</h2>
<p>CBC-MAC is only secure for fixed-length messages. Any single key must only be used for messages of a fixed and known length. The CMAC algorithm, which is based on a variation of CBC-MAC at its core, was developed to address that security deficiency and is the MAC algorithm recommended by NIST.</p>
<p><a class="anchor" id="ti_drivers_AESCMAC_Usage"></a></p><h1>CMAC Usage</h1>
<h2>Before starting a CMAC operation</h2>
<p>Before starting a CMAC operation, the application must do the following:</p><ul>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a> to initialize the driver</li>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c" title="Initializes the AESCMAC_Params struct to its defaults. ">AESCMAC_Params_init()</a> to initialize the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> to default values.</li>
<li>Modify the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> as desired</li>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> to open an instance of the driver</li>
<li>Initialize a <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. These opaque data structures are representations of keying material and its storage. Depending on how the keying material is stored (RAM or flash, key store), the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> must be initialized differently. The CMAC API can handle all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. However, not all device-specific implementations support all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. Devices without a key store will not support CryptoKeys with keying material stored in a key store for example. All devices support plaintext CryptoKeys.</li>
</ul>
<h2>Starting a CMAC operation</h2>
<p>The <a class="el" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510" title="Performs a AESCMAC signature in one call. ">AESCMAC_oneStepSign</a> and <a class="el" href="_a_e_s_c_m_a_c_8h.html#ad6a43d83bc6f5d20af3308a6216e82ae" title="Performs a AESCMAC verification in one call. ">AESCMAC_oneStepVerify</a> functions perform a CMAC operation in a single call. They will always be the most highly optimized routines with the least overhead and the fastest runtime. However, they require all plaintext or ciphertext to be available to the function at the start of the call. All devices support single call operations.</p>
<h2>After the CMAC operation completes</h2>
<p>After the CMAC operation completes, the application should either start another operation or close the driver by calling <a class="el" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769" title="Closes a AESCMAC peripheral specified by the CMAC handle. ">AESCMAC_close()</a>.</p>
<p><a class="anchor" id="ti_drivers_AESCMAC_Synopsis"></a></p><h2>Synopsis</h2>
<p><a class="anchor" id="ti_drivers_AESCMAC_Synopsis_Code"></a></p><div class="fragment"><div class="line"><span class="comment">// Import CMAC Driver definitions</span></div><div class="line"><span class="preprocessor">#include &lt;ti/drivers/CMAC.h&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Define name for CMAC channel index</span></div><div class="line"><span class="preprocessor">#define AESCMAC_INSTANCE 0</span></div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b">AESCMAC_init</a>();</div><div class="line"></div><div class="line">handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(AESCMAC_INSTANCE, NULL);</div><div class="line"></div><div class="line"><span class="comment">// Initialize symmetric key</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// Initialize the operation</span></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation);</div><div class="line">operation.input         = input;</div><div class="line">operation.inputLength   = <span class="keyword">sizeof</span>(input);</div><div class="line">operation.mac           = mac;</div><div class="line">operation.macLength     = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line">signResult = <a class="code" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510">AESCMAC_oneStepSign</a>(handle, &amp;operation, &amp;cryptoKey);</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --><p><a class="anchor" id="ti_drivers_AESCMAC_Examples"></a></p><h2>Examples</h2>
<p>### Single call CMAC authentication with plaintext <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> in blocking return mode # </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_crypto_key_plaintext_8h.html">ti/drivers/cryptoutils/cryptokey/CryptoKeyPlaintext.h</a>&gt;</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">uint8_t message[16]         = {0x6B, 0xC1, 0xBE, 0xE2, 0x2E, 0x40, 0x9F, 0x96,</div><div class="line">                               0xE9, 0x3D, 0x7E, 0x11, 0x73, 0x93, 0x17, 0x2A};</div><div class="line">uint8_t keyingMaterial[16]  = {0x2B, 0x7E, 0x15, 0x16, 0x28, 0xAE, 0xD2, 0xA6,</div><div class="line">                               0xAB, 0xF7, 0x15, 0x88, 0x09, 0xCF, 0x4F, 0x3C};</div><div class="line">uint8_t mac[16];</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">CryptoKey cryptoKey;</div><div class="line"><a class="code" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line"><a class="code" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> operation;</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b">AESCMAC_init</a>();</div><div class="line"></div><div class="line"><a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(0, NULL);</div><div class="line"></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation);</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>        = input;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>  = <span class="keyword">sizeof</span>(input);</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>          = mac;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>    = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line">int_fast16_t result = <a class="code" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510">AESCMAC_oneStepSign</a>(handle, &amp;operation, &amp;cryptoKey);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (result != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// The resulting MAC should equal the following after the operation:</span></div><div class="line"><span class="comment">// 0x07, 0x0A, 0x16, 0xB4, 0x6B, 0x4D, 0x41, 0x44,</span></div><div class="line"><span class="comment">// 0xF7, 0x9B, 0xDD, 0x9D, 0xD0, 0x4A, 0x28, 0x7C</span></div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --><p>### Single call CMAC verification with plaintext <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> in callback return mode # </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_crypto_key_plaintext_8h.html">ti/drivers/cryptoutils/cryptokey/CryptoKeyPlaintext.h</a>&gt;</span></div><div class="line"></div><div class="line">...</div><div class="line">uint8_t message[16]         = {0x6B, 0xC1, 0xBE, 0xE2, 0x2E, 0x40, 0x9F, 0x96,</div><div class="line">                               0xE9, 0x3D, 0x7E, 0x11, 0x73, 0x93, 0x17, 0x2A};</div><div class="line">uint8_t keyingMaterial[16]  = {0x2B, 0x7E, 0x15, 0x16, 0x28, 0xAE, 0xD2, 0xA6,</div><div class="line">                               0xAB, 0xF7, 0x15, 0x88, 0x09, 0xCF, 0x4F, 0x3C};</div><div class="line">uint8_t expectedMac[16]     = {0x07, 0x0A, 0x16, 0xB4, 0x6B, 0x4D, 0x41, 0x44,</div><div class="line">                               0xF7, 0x9B, 0xDD, 0x9D, 0xD0, 0x4A, 0x28, 0x7C};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> cmacCallback(<a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle,</div><div class="line">                  int_fast16_t returnValue) {</div><div class="line">    <span class="keywordflow">if</span> (returnValue != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">        <span class="comment">// handle error</span></div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> cmacStartFunction(<span class="keywordtype">void</span>) {</div><div class="line">    <a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle;</div><div class="line">    <a class="code" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line">    <a class="code" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> operation;</div><div class="line">    <a class="code" href="struct_crypto_key.html">CryptoKey</a> cryptoKey;</div><div class="line">    int_fast16_t verificationResult;</div><div class="line"></div><div class="line">    <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c">AESCMAC_Params_init</a>(&amp;params);</div><div class="line">    params.<a class="code" href="struct_a_e_s_c_m_a_c___params.html#a2177d01be77167728c26c4d6433517a1">returnBehavior</a> = <a class="code" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>;</div><div class="line">    params.<a class="code" href="struct_a_e_s_c_m_a_c___params.html#a93b0ceb6d7e250f4644d68723deb10f7">callbackFxn</a> = cmacCallback;</div><div class="line">    handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(0, &amp;params);</div><div class="line">    <span class="keywordflow">if</span> (handle == NULL) {</div><div class="line">        <span class="comment">// handle error</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line">    <a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation);</div><div class="line">    operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>        = input;</div><div class="line">    operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>  = <span class="keyword">sizeof</span>(input);</div><div class="line">    operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>          = expectedMac;</div><div class="line">    operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>    = <span class="keyword">sizeof</span>(expectedMac);</div><div class="line">    verificationResult = <a class="code" href="_a_e_s_c_m_a_c_8h.html#ad6a43d83bc6f5d20af3308a6216e82ae">AESCMAC_oneStepVerify</a>(handle, &amp;operation, &amp;cryptoKey);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (verificationResult != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">        <span class="comment">// handle error</span></div><div class="line">    }</div><div class="line">    <span class="comment">// do other things while CMAC operation completes in the background</span></div><div class="line">}</div></div><!-- fragment --><p>### Multi-step CMAC signature with plaintext <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> in blocking return mode # </p><div class="fragment"><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="_crypto_key_plaintext_8h.html">ti/drivers/cryptoutils/cryptokey/CryptoKeyPlaintext.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor"> #define AES_BLOCK_SIZE 16  // bytes</span></div><div class="line"> ...</div><div class="line"></div><div class="line"> uint8_t keyingMaterial[32]  = {0x60, 0x3d, 0xeb, 0x10, 0x15, 0xca, 0x71, 0xbe,</div><div class="line">                                0x2b, 0x73, 0xae, 0xf0, 0x85, 0x7d, 0x77, 0x81,</div><div class="line">                                0x1f, 0x35, 0x2c, 0x07, 0x3b, 0x61, 0x08, 0xd7,</div><div class="line">                                0x2d, 0x98, 0x10, 0xa3, 0x09, 0x14, 0xdf, 0xf4};</div><div class="line"> uint8_t message[40]         = {0x6b, 0xc1, 0xbe, 0xe2, 0x2e, 0x40, 0x9f, 0x96,</div><div class="line">                                0xe9, 0x3d, 0x7e, 0x11, 0x73, 0x93, 0x17, 0x2a,</div><div class="line">                                0xae, 0x2d, 0x8a, 0x57, 0x1e, 0x03, 0xac, 0x9c,</div><div class="line">                                0x9e, 0xb7, 0x6f, 0xac, 0x45, 0xaf, 0x8e, 0x51,</div><div class="line">                                0x30, 0xc8, 0x1c, 0x46, 0xa3, 0x5c, 0xe4, 0x11};</div><div class="line"> uint8_t mac[16];</div><div class="line"></div><div class="line"> <a class="code" href="struct_crypto_key.html">CryptoKey</a> cryptoKey;</div><div class="line"> <a class="code" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line"> <a class="code" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> operation;</div><div class="line"></div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b">AESCMAC_init</a>();</div><div class="line"></div><div class="line"> <a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(0, NULL);</div><div class="line"></div><div class="line"> <a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation);</div><div class="line"></div><div class="line"> <span class="comment">// Set up multi-step sign.</span></div><div class="line"> int_fast16_t result = <a class="code" href="_a_e_s_c_m_a_c_8h.html#a66e34437c6d40bd66c5b9e18af915ce6">AESCMAC_setupSign</a>(handle, &amp;cryptoKey);</div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (result != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> <span class="keywordtype">size_t</span> initialSegmentSize = AES_BLOCK_SIZE;</div><div class="line"></div><div class="line"> <span class="comment">// Add first segment of data.</span></div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>       = input;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a> = initialSegmentSize;  <span class="comment">// Must be a non-zero multiple of the block size (16-bytes) unless</span></div><div class="line">finalizing. result = <a class="code" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2">AESCMAC_addData</a>(handle, &amp;operation);</div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (result != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> <span class="comment">// Finalize with the last segment of data.</span></div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>        = &amp;input[initialSegmentSize];</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>  = <span class="keyword">sizeof</span>(input) - initialSegmentSize;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>          = mac;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>    = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line"> result = <a class="code" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905">AESCMAC_finalize</a>(handle, &amp;operation);</div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (result != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> <span class="comment">// The resulting MAC should equal the following after the operation:</span></div><div class="line"> <span class="comment">// 0xaa, 0xf3, 0xd8, 0xf1, 0xde, 0x56, 0x40, 0xc2,</span></div><div class="line"> <span class="comment">// 0x32, 0xf5, 0xb1, 0x69, 0xb9, 0xc9, 0x11, 0xe6</span></div><div class="line"> ...</div><div class="line"></div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --><p><a class="anchor" id="ti_drivers_AESCBCMAC_Usage"></a></p><h1>CBC-MAC Usage</h1>
<h2>Before starting a CBC-MAC operation</h2>
<p>Before starting a CBC-MAC operation, the application must do the following:</p><ul>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a> to initialize the driver</li>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c" title="Initializes the AESCMAC_Params struct to its defaults. ">AESCMAC_Params_init()</a> to initialize the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> to default values.</li>
<li>Set <a class="el" href="struct_a_e_s_c_m_a_c___params.html#ad6b1d9da9e5f12222807a0e4194b2dc8">AESCMAC_Params.operationalMode</a> to <a class="el" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6">AESCMAC_OPMODE_CBCMAC</a>.</li>
<li>Modify the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> as desired<ul>
<li>Call <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> to open an instance of the driver</li>
<li>Initialize a <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. These opaque data structures are representations of keying material and its storage. Depending on how the keying material is stored (RAM or flash, key store, key blob), the <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> must be initialized differently. The AESCMAC API can handle all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. However, not all device-specific implementations support all types of <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>. Devices without a key store will not support CryptoKeys with keying material stored in a key store for example. All devices support plaintext CryptoKeys.</li>
</ul>
</li>
<li>Initialize the <a class="el" href="struct_a_e_s_c_m_a_c___operation.html" title="Struct containing the parameters required for signing or verifying a message. ">AESCMAC_Operation</a> using <a class="el" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409" title="Initializes an AESCMAC_Operation struct to its defaults. ">AESCMAC_Operation_init()</a> and set all length, key, and buffer fields.</li>
</ul>
<h2>Starting a CBC-MAC operation</h2>
<p>The <a class="el" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510" title="Performs a AESCMAC signature in one call. ">AESCMAC_oneStepSign</a> and <a class="el" href="_a_e_s_c_m_a_c_8h.html#ad6a43d83bc6f5d20af3308a6216e82ae" title="Performs a AESCMAC verification in one call. ">AESCMAC_oneStepVerify</a> functions perform a CBC-MAC operation in a single call. They will always be the most highly optimized routines with the least overhead and the fastest runtime. However, they require all plaintext or ciphertext to be available to the function at the start of the call. All devices support single call operations.</p>
<h2>After the CBC-MAC operation completes</h2>
<p>After the CBC-MAC operation completes, the application should either start another operation or close the driver by calling <a class="el" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769" title="Closes a AESCMAC peripheral specified by the CMAC handle. ">AESCMAC_close()</a>.</p>
<p><a class="anchor" id="ti_drivers_AESCBCMAC_Synopsis"></a></p><h2>Synopsis</h2>
<p><a class="anchor" id="ti_drivers_AESCBCMAC_Synopsis_Code"></a></p><div class="fragment"><div class="line"><span class="comment">// Import AESCMAC Driver definitions</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// Define name for AESCMAC channel index</span></div><div class="line"><span class="preprocessor">#define AESCMAC_INSTANCE 0</span></div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b">AESCMAC_init</a>();</div><div class="line"></div><div class="line"><a class="code" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c">AESCMAC_Params_init</a>(&amp;params);</div><div class="line">params.<a class="code" href="struct_a_e_s_c_m_a_c___params.html#ad6b1d9da9e5f12222807a0e4194b2dc8">operationalMode</a> = <a class="code" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6">AESCMAC_OPMODE_CBCMAC</a>;</div><div class="line"></div><div class="line">handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(AESCMAC_INSTANCE, &amp;params);</div><div class="line"></div><div class="line"><span class="comment">// Initialize symmetric key</span></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"><span class="comment">// Set up AESCMAC_Operation</span></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation);</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>       = plaintext;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a> = <span class="keyword">sizeof</span>(plaintext);</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>         = mac;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>   = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line">signResult = <a class="code" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510">AESCMAC_oneStepSign</a>(handle, &amp;operation);</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --><p><a class="anchor" id="ti_drivers_AESCBCMAC_Examples"></a></p><h2>Examples</h2>
<p>### One step AES CBC-MAC signature with plaintext <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> in blocking return mode # </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_crypto_key_plaintext_8h.html">ti/drivers/cryptoutils/cryptokey/CryptoKeyPlaintext.h</a>&gt;</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">AESCMAC_Params <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line"><a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle;</div><div class="line"><a class="code" href="struct_crypto_key.html">CryptoKey</a> cryptoKey;</div><div class="line">int_fast16_t signResult;</div><div class="line"></div><div class="line"><span class="comment">// For example purposes only.</span></div><div class="line"><span class="comment">// Test vector derived from RFC 3602 Case #2</span></div><div class="line">uint8_t plaintext[32] =       {0x56, 0x2F, 0x15, 0x9A, 0x69, 0x0C, 0x3B, 0x2F,</div><div class="line">                               0xD5, 0xBA, 0xB0, 0x62, 0x56, 0x23, 0x61, 0x57,</div><div class="line">                               0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,</div><div class="line">                               0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F};</div><div class="line">uint8_t mac[16];</div><div class="line">uint8_t keyingMaterial[16] =  {0xC2, 0x86, 0x69, 0x6D, 0x88, 0x7C, 0x9A, 0xA0,</div><div class="line">                               0x61, 0x1B, 0xBB, 0x3E, 0x20, 0x25, 0xA4, 0x5A};</div><div class="line"></div><div class="line"><span class="comment">// The MAC should equal the following after the operation:</span></div><div class="line"><span class="comment">//  0x75, 0x86, 0x60, 0x2D, 0x25, 0x3C, 0xFF, 0xF9,</span></div><div class="line"><span class="comment">//  0x1B, 0x82, 0x66, 0xBE, 0xA6, 0xD6, 0x1A, 0xB1</span></div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c">AESCMAC_Params_init</a>(&amp;params);</div><div class="line">params.<a class="code" href="struct_a_e_s_c_m_a_c___params.html#ad6b1d9da9e5f12222807a0e4194b2dc8">operationalMode</a> = <a class="code" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6">AESCMAC_OPMODE_CBCMAC</a>;</div><div class="line"></div><div class="line">handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(0, &amp;params);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (handle == NULL) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"><a class="code" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> operation;</div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation); <span class="comment">// Optional as all struct members will be set before use.</span></div><div class="line"></div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>         = plaintext;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>   = <span class="keyword">sizeof</span>(plaintext);</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>           = mac;</div><div class="line">operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>     = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line">signResult = <a class="code" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510">AESCMAC_oneStepSign</a>(handle, &amp;operation, &amp;cryptoKey);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (signResult == <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">    <span class="comment">// signature is available in mac[] buffer.</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span> {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --><h3>Multi-step AES CBC-MAC verify with plaintext <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a> in polling return mode</h3>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="_a_e_s_c_m_a_c_8h.html">ti/drivers/AESCMAC.h</a>&gt;</span></div><div class="line"><span class="preprocessor"> #include &lt;ti/drivers/types/cryptoKey/CryptoKey_Plaintext.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor"> #define AES_BLOCK_SIZE 16  // bytes</span></div><div class="line"> ...</div><div class="line"></div><div class="line"> <a class="code" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line"> <a class="code" href="struct_a_e_s_common___config.html">AESCMAC_Handle</a> handle;</div><div class="line"> <a class="code" href="struct_crypto_key.html">CryptoKey</a> cryptoKey;</div><div class="line"> int_fast16_t retVal;</div><div class="line"></div><div class="line"> <span class="comment">// For example purposes only.</span></div><div class="line"> <span class="comment">// Test vector derived from RFC 3602 Case #2</span></div><div class="line"> uint8_t plaintext[32] =       {0x56, 0x2F, 0x15, 0x9A, 0x69, 0x0C, 0x3B, 0x2F,</div><div class="line">                                0xD5, 0xBA, 0xB0, 0x62, 0x56, 0x23, 0x61, 0x57,</div><div class="line">                                0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17,</div><div class="line">                                0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F};</div><div class="line"> uint8_t mac[16] =             {0x75, 0x86, 0x60, 0x2D, 0x25, 0x3C, 0xFF, 0xF9,</div><div class="line">                                0x1B, 0x82, 0x66, 0xBE, 0xA6, 0xD6, 0x1A, 0xB1}</div><div class="line"> uint8_t keyingMaterial[16] =  {0xC2, 0x86, 0x69, 0x6D, 0x88, 0x7C, 0x9A, 0xA0,</div><div class="line">                                0x61, 0x1B, 0xBB, 0x3E, 0x20, 0x25, 0xA4, 0x5A};</div><div class="line"></div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c">AESCMAC_Params_init</a>(&amp;params)</div><div class="line"> params.returnBehavior = <a class="code" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d">AESCMAC_RETURN_BEHAVIOR_POLLING</a>;</div><div class="line"> params.operationalMode = <a class="code" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6">AESCMAC_OPMODE_CBCMAC</a>;</div><div class="line"></div><div class="line"> handle = <a class="code" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a>(0, &amp;params);</div><div class="line"></div><div class="line"> if (handle == NULL) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> <a class="code" href="_crypto_key_plaintext_8h.html#ace81a1078fd0befbde3f44a9d9d58cc4">CryptoKeyPlaintext_initKey</a>(&amp;cryptoKey, keyingMaterial, <span class="keyword">sizeof</span>(keyingMaterial));</div><div class="line"></div><div class="line"> <a class="code" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> operation;</div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a>(&amp;operation); <span class="comment">// Optional as all struct members will be set before use.</span></div><div class="line"></div><div class="line"> retVal = <a class="code" href="_a_e_s_c_m_a_c_8h.html#ad94897df19ac49d838cddec8c9d3afcb">AESCMAC_setupVerify</a>(handle, &amp;cryptoKey);</div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (retVal != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>        = plaintext;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>  = AES_BLOCK_SIZE;   <span class="comment">// Must be a non-zero multiple of the block size (16-bytes) unless</span></div><div class="line">finalizing.</div><div class="line"> <span class="comment">// Note: MAC pointer only needs to be set when finalizing operation.</span></div><div class="line"></div><div class="line"> retVal = <a class="code" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2">AESCMAC_addData</a>(handle, &amp;operation);</div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (retVal != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#a5b67facd09ed1ab179985d9ad257fa0b">input</a>        = plaintext + AES_BLOCK_SIZE;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#aac49fe0a3749797674de156fa3292dad">inputLength</a>  = AES_BLOCK_SIZE;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#adedc78b74025a2a55c7e744be6f14242">mac</a>          = mac;</div><div class="line"> operation.<a class="code" href="struct_a_e_s_c_m_a_c___operation.html#ab54da06a73c2c092caf73013c96e6706">macLength</a>    = <span class="keyword">sizeof</span>(mac);</div><div class="line"></div><div class="line"> retVal = <a class="code" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905">AESCMAC_finalize</a>(handle, &amp;operation);</div><div class="line"></div><div class="line"> <span class="comment">// retVal should be AESCMAC_STATUS_SUCCESS to indicate that the signature</span></div><div class="line"> <span class="comment">// verification passed.</span></div><div class="line"></div><div class="line"> <span class="keywordflow">if</span> (retVal == <a class="code" href="_a_e_s_c_m_a_c_8h.html#a46bf60a60cab851889382ecf546c2a52">AESCMAC_STATUS_MAC_INVALID</a>) {</div><div class="line">     <span class="comment">// handle invalid MAC</span></div><div class="line"> }</div><div class="line"> <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retVal != <a class="code" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>) {</div><div class="line">     <span class="comment">// handle error</span></div><div class="line"> }</div><div class="line"></div><div class="line"> <a class="code" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a>(handle);</div></div><!-- fragment --> </div><div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_a_e_s_common_8h_source.html">ti/drivers/AESCommon.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_crypto_key_8h_source.html">ti/drivers/cryptoutils/cryptokey/CryptoKey.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for AESCMAC.h:</div>
<div class="dyncontent">
<div class="center"><img src="_a_e_s_c_m_a_c_8h__incl.png" border="0" usemap="#_a_e_s_c_m_a_c_8h" alt=""/></div>
<map name="_a_e_s_c_m_a_c_8h" id="_a_e_s_c_m_a_c_8h">
<area shape="rect" id="node5" href="_a_e_s_common_8h.html" title="AES common module header for all devices. " alt="" coords="271,87,451,114"/>
<area shape="rect" id="node6" href="_crypto_key_8h.html" title="The CryptoKey type is an opaque representation of a cryptographic key. " alt="" coords="25,80,196,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_a_e_s_c_m_a_c_8h__dep__incl.png" border="0" usemap="#_a_e_s_c_m_a_c_8hdep" alt=""/></div>
<map name="_a_e_s_c_m_a_c_8hdep" id="_a_e_s_c_m_a_c_8hdep">
<area shape="rect" id="node2" href="_a_e_s_c_m_a_c_c_c26_x4__ns_8h.html" title="AESCMAC Nonsecure driver implementation for the CC26X4 family. " alt="" coords="5,80,176,107"/>
<area shape="rect" id="node3" href="_a_e_s_c_m_a_c_c_c26_x4__s_8h.html" title="AESCMACCC26X4_s.h" alt="" coords="200,80,363,107"/>
<area shape="rect" id="node4" href="_a_e_s_c_m_a_c_c_c26_x_x_8h.html" title="AESCMAC driver implementation for the CC26XX family. " alt="" coords="387,80,538,107"/>
</map>
</div>
</div>
<p><a href="_a_e_s_c_m_a_c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing the parameters required for signing or verifying a message.  <a href="struct_a_e_s_c_m_a_c___operation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">AESCMAC Parameters.  <a href="struct_a_e_s_c_m_a_c___params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acf6ab0a1d37cacfa3ea286283350be2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#acf6ab0a1d37cacfa3ea286283350be2e">AESCMAC_STATUS_RESERVED</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a4896831b1a3a4ead39a3c58eb13a05f5">AES_STATUS_RESERVED</a></td></tr>
<tr class="separator:acf6ab0a1d37cacfa3ea286283350be2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716cd36c2e310e4753a635f85e8388e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0">AESCMAC_STATUS_SUCCESS</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a40238be3b30c09acbb966b8cf64d8db6">AES_STATUS_SUCCESS</a></td></tr>
<tr class="memdesc:a716cd36c2e310e4753a635f85e8388e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Successful status code.  <a href="#a716cd36c2e310e4753a635f85e8388e0">More...</a><br /></td></tr>
<tr class="separator:a716cd36c2e310e4753a635f85e8388e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a1dcf01290f2f160cc6f9ba165d571"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571">AESCMAC_STATUS_ERROR</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#ac6963a06e1923ad116a23c0e1a17dba8">AES_STATUS_ERROR</a></td></tr>
<tr class="memdesc:a30a1dcf01290f2f160cc6f9ba165d571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic error status code.  <a href="#a30a1dcf01290f2f160cc6f9ba165d571">More...</a><br /></td></tr>
<tr class="separator:a30a1dcf01290f2f160cc6f9ba165d571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eec841783b4db4109ecb39c393e9978"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a4eec841783b4db4109ecb39c393e9978">AESCMAC_STATUS_RESOURCE_UNAVAILABLE</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a4720c275153144c20096dc2d85f93889">AES_STATUS_RESOURCE_UNAVAILABLE</a></td></tr>
<tr class="memdesc:a4eec841783b4db4109ecb39c393e9978"><td class="mdescLeft">&#160;</td><td class="mdescRight">An error status code returned if the hardware or software resource is currently unavailable.  <a href="#a4eec841783b4db4109ecb39c393e9978">More...</a><br /></td></tr>
<tr class="separator:a4eec841783b4db4109ecb39c393e9978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bf60a60cab851889382ecf546c2a52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a46bf60a60cab851889382ecf546c2a52">AESCMAC_STATUS_MAC_INVALID</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a145da39116c94a54f073894402508d53">AES_STATUS_MAC_INVALID</a></td></tr>
<tr class="memdesc:a46bf60a60cab851889382ecf546c2a52"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MAC verification failed.  <a href="#a46bf60a60cab851889382ecf546c2a52">More...</a><br /></td></tr>
<tr class="separator:a46bf60a60cab851889382ecf546c2a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc28a0974aa103ed0f24aefbf3a77408"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#abc28a0974aa103ed0f24aefbf3a77408">AESCMAC_STATUS_CANCELED</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#aa8d5ff0dd5cde60089ac5d84cfb4a702">AES_STATUS_CANCELED</a></td></tr>
<tr class="memdesc:abc28a0974aa103ed0f24aefbf3a77408"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ongoing operation was canceled.  <a href="#abc28a0974aa103ed0f24aefbf3a77408">More...</a><br /></td></tr>
<tr class="separator:abc28a0974aa103ed0f24aefbf3a77408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdb7b6ea1f5485d8f2d1560ae3693aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a7cdb7b6ea1f5485d8f2d1560ae3693aa">AESCMAC_STATUS_KEYSTORE_INVALID_ID</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#aeaab212abda07968840db525e114d1ae">AES_STATUS_KEYSTORE_INVALID_ID</a></td></tr>
<tr class="memdesc:a7cdb7b6ea1f5485d8f2d1560ae3693aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The operation tried to load a key from the keystore using an invalid key ID.  <a href="#a7cdb7b6ea1f5485d8f2d1560ae3693aa">More...</a><br /></td></tr>
<tr class="separator:a7cdb7b6ea1f5485d8f2d1560ae3693aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab69a463455edb1e59c09e5562491fa60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#ab69a463455edb1e59c09e5562491fa60">AESCMAC_STATUS_KEYSTORE_GENERIC_ERROR</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a89e9ed71ffb10f4f6d5b52b8afbd4389">AES_STATUS_KEYSTORE_GENERIC_ERROR</a></td></tr>
<tr class="memdesc:ab69a463455edb1e59c09e5562491fa60"><td class="mdescLeft">&#160;</td><td class="mdescRight">The key store module returned a generic error. See key store documentation for additional details.  <a href="#ab69a463455edb1e59c09e5562491fa60">More...</a><br /></td></tr>
<tr class="separator:ab69a463455edb1e59c09e5562491fa60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b10301188ba1acfd0881fe2f07641f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5b10301188ba1acfd0881fe2f07641f1">AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a>&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#ab367c0137dd8d9bda4107b1545bfdb12">AES_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td></tr>
<tr class="memdesc:a5b10301188ba1acfd0881fe2f07641f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The operation does not support non-word-aligned input.  <a href="#a5b10301188ba1acfd0881fe2f07641f1">More...</a><br /></td></tr>
<tr class="separator:a5b10301188ba1acfd0881fe2f07641f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c299b832ab317bf55445e5fa5930b1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a8c299b832ab317bf55445e5fa5930b1b">AESCMAC_OP_CODE_MASK</a>&#160;&#160;&#160;0x0F /* bits 0-3 */</td></tr>
<tr class="memdesc:a8c299b832ab317bf55445e5fa5930b1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for the operation code.  <a href="#a8c299b832ab317bf55445e5fa5930b1b">More...</a><br /></td></tr>
<tr class="separator:a8c299b832ab317bf55445e5fa5930b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073eaba0e9fb2c822065dcf3256b4a9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a073eaba0e9fb2c822065dcf3256b4a9e">AESCMAC_OP_FLAG_SIGN</a>&#160;&#160;&#160;0x10 /* bit 4 */</td></tr>
<tr class="memdesc:a073eaba0e9fb2c822065dcf3256b4a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating a sign operation. If this bit is not set, then it is a verify operation.  <a href="#a073eaba0e9fb2c822065dcf3256b4a9e">More...</a><br /></td></tr>
<tr class="separator:a073eaba0e9fb2c822065dcf3256b4a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5abf0f9750e2aee67dfcfaf57f9ddfbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5abf0f9750e2aee67dfcfaf57f9ddfbc">AESCMAC_OP_FLAGS_MASK</a>&#160;&#160;&#160;(<a class="el" href="_a_e_s_c_m_a_c_8h.html#a073eaba0e9fb2c822065dcf3256b4a9e">AESCMAC_OP_FLAG_SIGN</a> | AESCMAC_OP_FLAG_VERIFY)</td></tr>
<tr class="memdesc:a5abf0f9750e2aee67dfcfaf57f9ddfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for all valid operation flags.  <a href="#a5abf0f9750e2aee67dfcfaf57f9ddfbc">More...</a><br /></td></tr>
<tr class="separator:a5abf0f9750e2aee67dfcfaf57f9ddfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aae722d07db97cac3578b07d258c675af"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_a_e_s_common___config.html">AESCommon_Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a></td></tr>
<tr class="memdesc:aae722d07db97cac3578b07d258c675af"><td class="mdescLeft">&#160;</td><td class="mdescRight">CMAC Global configuration.  <a href="#aae722d07db97cac3578b07d258c675af">More...</a><br /></td></tr>
<tr class="separator:aae722d07db97cac3578b07d258c675af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1caacd7e61597f97eddd83f5bf463686"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a></td></tr>
<tr class="memdesc:a1caacd7e61597f97eddd83f5bf463686"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handle that is returned from an <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> call.  <a href="#a1caacd7e61597f97eddd83f5bf463686">More...</a><br /></td></tr>
<tr class="separator:a1caacd7e61597f97eddd83f5bf463686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e592c44859616fb36f7f43e207721c5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a8e592c44859616fb36f7f43e207721c5">AESCMAC_CallbackFxn</a>) (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, int_fast16_t returnValue, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation, <a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4">AESCMAC_OperationType</a> operationType)</td></tr>
<tr class="memdesc:a8e592c44859616fb36f7f43e207721c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The definition of a callback function used by the AESCMAC driver when used in <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>.  <a href="#a8e592c44859616fb36f7f43e207721c5">More...</a><br /></td></tr>
<tr class="separator:a8e592c44859616fb36f7f43e207721c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abb725e908feda2cd19288f1eae78dd49"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49">AESCMAC_ReturnBehavior</a> { <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a> = AES_RETURN_BEHAVIOR_CALLBACK, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49adeb161ec7470cfac648f9cbbf9c98fa7">AESCMAC_RETURN_BEHAVIOR_BLOCKING</a> = AES_RETURN_BEHAVIOR_BLOCKING, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d">AESCMAC_RETURN_BEHAVIOR_POLLING</a> = AES_RETURN_BEHAVIOR_POLLING
 }<tr class="memdesc:abb725e908feda2cd19288f1eae78dd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">The return behavior of AESCMAC functions.  <a href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:abb725e908feda2cd19288f1eae78dd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaad4def712e02a8451f275575c2771c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771c">AESCMAC_OperationalMode</a> { <a class="el" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca47871bfa3fae7ec4879f1b8ed2be82a2">AESCMAC_OPMODE_CMAC</a> = 1, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6">AESCMAC_OPMODE_CBCMAC</a> = 2
 }<tr class="memdesc:abaad4def712e02a8451f275575c2771c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the operation modes for the AESCMAC driver.  <a href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771c">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:abaad4def712e02a8451f275575c2771c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5400a5f108b8e6b265ec3e6dc2fb64"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64">AESCMAC_OperationCode</a> { <a class="el" href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64a960efb62599541f8c3f3bfe249c52093">AESCMAC_OP_CODE_ONE_STEP</a> = 0, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64ae5626683d890e6f927a686b5ee857902">AESCMAC_OP_CODE_SEGMENTED</a>, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64a9f1a87b2cabf2b9becc191f39a873422">AESCMAC_OP_CODE_FINALIZE</a>
 }<tr class="memdesc:a6d5400a5f108b8e6b265ec3e6dc2fb64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the operation codes supported by the driver.  <a href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a6d5400a5f108b8e6b265ec3e6dc2fb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55eeee495d245e33cd5461184af41a4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4">AESCMAC_OperationType</a> { <br />
&#160;&#160;<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4a82ef82226f904674817d64bc9e120cf0">AESCMAC_OP_TYPE_SIGN</a> = AESCMAC_OP_CODE_ONE_STEP | 0x10, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4a5a063beb68806ff44ef3b5b9e900e45d">AESCMAC_OP_TYPE_VERIFY</a> = AESCMAC_OP_CODE_ONE_STEP, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4a7aef02634ae85a5ecdf32e3549fcd536">AESCMAC_OP_TYPE_SEGMENTED_SIGN</a> = AESCMAC_OP_CODE_SEGMENTED | 0x10, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4afe83dda2e22eccebf42823d17047bba8">AESCMAC_OP_TYPE_SEGMENTED_VERIFY</a> = AESCMAC_OP_CODE_SEGMENTED, 
<br />
&#160;&#160;<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4a467760efa59a29c7aedb4006ad5df30b">AESCMAC_OP_TYPE_FINALIZE_SIGN</a> = AESCMAC_OP_CODE_FINALIZE | 0x10, 
<a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4a2ed5f5574a90dc9ab7928d617e7fbe37">AESCMAC_OP_TYPE_FINALIZE_VERIFY</a> = AESCMAC_OP_CODE_FINALIZE
<br />
 }<tr class="memdesc:ac55eeee495d245e33cd5461184af41a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the operation types supported by the driver.  <a href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac55eeee495d245e33cd5461184af41a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ac06b20096a85dae71a51a8afaa9f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b">AESCMAC_init</a> (void)</td></tr>
<tr class="memdesc:a0ac06b20096a85dae71a51a8afaa9f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CMAC module.  <a href="#a0ac06b20096a85dae71a51a8afaa9f7b">More...</a><br /></td></tr>
<tr class="separator:a0ac06b20096a85dae71a51a8afaa9f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26eecc95d2e7346381ec0f25585808c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c">AESCMAC_Params_init</a> (<a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:aa26eecc95d2e7346381ec0f25585808c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> struct to its defaults.  <a href="#aa26eecc95d2e7346381ec0f25585808c">More...</a><br /></td></tr>
<tr class="separator:aa26eecc95d2e7346381ec0f25585808c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af007baaace0903303c5330c4e554b409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#af007baaace0903303c5330c4e554b409">AESCMAC_Operation_init</a> (<a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation)</td></tr>
<tr class="memdesc:af007baaace0903303c5330c4e554b409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an <a class="el" href="struct_a_e_s_c_m_a_c___operation.html" title="Struct containing the parameters required for signing or verifying a message. ">AESCMAC_Operation</a> struct to its defaults.  <a href="#af007baaace0903303c5330c4e554b409">More...</a><br /></td></tr>
<tr class="separator:af007baaace0903303c5330c4e554b409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa151eddc42201ad06b62cfc0dd006c2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b">AESCMAC_open</a> (uint_least8_t index, const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:aa151eddc42201ad06b62cfc0dd006c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a given AESCMAC peripheral.  <a href="#aa151eddc42201ad06b62cfc0dd006c2b">More...</a><br /></td></tr>
<tr class="separator:aa151eddc42201ad06b62cfc0dd006c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837dea72a78384727b499fa857b58769"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769">AESCMAC_close</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle)</td></tr>
<tr class="memdesc:a837dea72a78384727b499fa857b58769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a AESCMAC peripheral specified by the CMAC handle.  <a href="#a837dea72a78384727b499fa857b58769">More...</a><br /></td></tr>
<tr class="separator:a837dea72a78384727b499fa857b58769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e34437c6d40bd66c5b9e18af915ce6"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a66e34437c6d40bd66c5b9e18af915ce6">AESCMAC_setupSign</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, const <a class="el" href="struct_crypto_key.html">CryptoKey</a> *key)</td></tr>
<tr class="memdesc:a66e34437c6d40bd66c5b9e18af915ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a segmented AESCMAC sign operation.  <a href="#a66e34437c6d40bd66c5b9e18af915ce6">More...</a><br /></td></tr>
<tr class="separator:a66e34437c6d40bd66c5b9e18af915ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94897df19ac49d838cddec8c9d3afcb"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#ad94897df19ac49d838cddec8c9d3afcb">AESCMAC_setupVerify</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, const <a class="el" href="struct_crypto_key.html">CryptoKey</a> *key)</td></tr>
<tr class="memdesc:ad94897df19ac49d838cddec8c9d3afcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a segmented AESCMAC verify operation.  <a href="#ad94897df19ac49d838cddec8c9d3afcb">More...</a><br /></td></tr>
<tr class="separator:ad94897df19ac49d838cddec8c9d3afcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfef9cc89f0b9aaa2b901314bae727f2"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2">AESCMAC_addData</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation)</td></tr>
<tr class="memdesc:acfef9cc89f0b9aaa2b901314bae727f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds data to the current segmented operation.  <a href="#acfef9cc89f0b9aaa2b901314bae727f2">More...</a><br /></td></tr>
<tr class="separator:acfef9cc89f0b9aaa2b901314bae727f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bd04ec6b9bf7184d9dbf5bce223905"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905">AESCMAC_finalize</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation)</td></tr>
<tr class="memdesc:a44bd04ec6b9bf7184d9dbf5bce223905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the current segmented operation.  <a href="#a44bd04ec6b9bf7184d9dbf5bce223905">More...</a><br /></td></tr>
<tr class="separator:a44bd04ec6b9bf7184d9dbf5bce223905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a169d5e503f148313be4c6f4c4c510"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510">AESCMAC_oneStepSign</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation, <a class="el" href="struct_crypto_key.html">CryptoKey</a> *key)</td></tr>
<tr class="memdesc:af2a169d5e503f148313be4c6f4c4c510"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a AESCMAC signature in one call.  <a href="#af2a169d5e503f148313be4c6f4c4c510">More...</a><br /></td></tr>
<tr class="separator:af2a169d5e503f148313be4c6f4c4c510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a43d83bc6f5d20af3308a6216e82ae"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#ad6a43d83bc6f5d20af3308a6216e82ae">AESCMAC_oneStepVerify</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation, <a class="el" href="struct_crypto_key.html">CryptoKey</a> *key)</td></tr>
<tr class="memdesc:ad6a43d83bc6f5d20af3308a6216e82ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a AESCMAC verification in one call.  <a href="#ad6a43d83bc6f5d20af3308a6216e82ae">More...</a><br /></td></tr>
<tr class="separator:ad6a43d83bc6f5d20af3308a6216e82ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13efea02d256262dd655330eb204c96b"><td class="memItemLeft" align="right" valign="top">int_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a13efea02d256262dd655330eb204c96b">AESCMAC_cancelOperation</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle)</td></tr>
<tr class="memdesc:a13efea02d256262dd655330eb204c96b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels an ongoing AESCMAC operation.  <a href="#a13efea02d256262dd655330eb204c96b">More...</a><br /></td></tr>
<tr class="separator:a13efea02d256262dd655330eb204c96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e43be898013e7704539b35fd1122b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b">AESCMAC_construct</a> (<a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a> *config, const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *<a class="el" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>)</td></tr>
<tr class="memdesc:adb2e43be898013e7704539b35fd1122b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new AESCMAC object.  <a href="#adb2e43be898013e7704539b35fd1122b">More...</a><br /></td></tr>
<tr class="separator:adb2e43be898013e7704539b35fd1122b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a699d7920a95aecb01b239a79dbafad69"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a699d7920a95aecb01b239a79dbafad69">AESCMAC_defaultParams</a></td></tr>
<tr class="memdesc:a699d7920a95aecb01b239a79dbafad69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> structure.  <a href="#a699d7920a95aecb01b239a79dbafad69">More...</a><br /></td></tr>
<tr class="separator:a699d7920a95aecb01b239a79dbafad69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="acf6ab0a1d37cacfa3ea286283350be2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6ab0a1d37cacfa3ea286283350be2e">&sect;&nbsp;</a></span>AESCMAC_STATUS_RESERVED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_RESERVED&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a4896831b1a3a4ead39a3c58eb13a05f5">AES_STATUS_RESERVED</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Common CMAC status code reservation offset. CMAC driver implementations should offset status codes with <a class="el" href="_a_e_s_c_m_a_c_8h.html#acf6ab0a1d37cacfa3ea286283350be2e">AESCMAC_STATUS_RESERVED</a> growing negatively.</p>
<p>Example implementation specific status codes: </p><div class="fragment"><div class="line"><span class="preprocessor">#define AESCMACXYZ_STATUS_ERROR0    AESCMAC_STATUS_RESERVED - 0</span></div><div class="line"><span class="preprocessor">#define AESCMACXYZ_STATUS_ERROR1    AESCMAC_STATUS_RESERVED - 1</span></div><div class="line"><span class="preprocessor">#define AESCMACXYZ_STATUS_ERROR2    AESCMAC_STATUS_RESERVED - 2</span></div></div><!-- fragment --> 
</div>
</div>
<a id="a716cd36c2e310e4753a635f85e8388e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716cd36c2e310e4753a635f85e8388e0">&sect;&nbsp;</a></span>AESCMAC_STATUS_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_SUCCESS&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a40238be3b30c09acbb966b8cf64d8db6">AES_STATUS_SUCCESS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Successful status code. </p>
<p>Functions return <a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a> if the function was executed successfully. </p>

</div>
</div>
<a id="a30a1dcf01290f2f160cc6f9ba165d571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a1dcf01290f2f160cc6f9ba165d571">&sect;&nbsp;</a></span>AESCMAC_STATUS_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_ERROR&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#ac6963a06e1923ad116a23c0e1a17dba8">AES_STATUS_ERROR</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic error status code. </p>
<p>Functions return <a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a> if the function was not executed successfully and no more pertinent error code could be returned. </p>

</div>
</div>
<a id="a4eec841783b4db4109ecb39c393e9978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eec841783b4db4109ecb39c393e9978">&sect;&nbsp;</a></span>AESCMAC_STATUS_RESOURCE_UNAVAILABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_RESOURCE_UNAVAILABLE&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a4720c275153144c20096dc2d85f93889">AES_STATUS_RESOURCE_UNAVAILABLE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An error status code returned if the hardware or software resource is currently unavailable. </p>
<p>CMAC driver implementations may have hardware or software limitations on how many clients can simultaneously perform operations. This status code is returned if the mutual exclusion mechanism signals that an operation cannot currently be performed. </p>

</div>
</div>
<a id="a46bf60a60cab851889382ecf546c2a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46bf60a60cab851889382ecf546c2a52">&sect;&nbsp;</a></span>AESCMAC_STATUS_MAC_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_MAC_INVALID&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a145da39116c94a54f073894402508d53">AES_STATUS_MAC_INVALID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The MAC verification failed. </p>
<p>Functions return <a class="el" href="_a_e_s_c_m_a_c_8h.html#a46bf60a60cab851889382ecf546c2a52" title="The MAC verification failed. ">AESCMAC_STATUS_MAC_INVALID</a> if the MAC computed for the provided (key, message) pair did not match the MAC provided. </p>

</div>
</div>
<a id="abc28a0974aa103ed0f24aefbf3a77408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc28a0974aa103ed0f24aefbf3a77408">&sect;&nbsp;</a></span>AESCMAC_STATUS_CANCELED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_CANCELED&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#aa8d5ff0dd5cde60089ac5d84cfb4a702">AES_STATUS_CANCELED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ongoing operation was canceled. </p>

</div>
</div>
<a id="a7cdb7b6ea1f5485d8f2d1560ae3693aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdb7b6ea1f5485d8f2d1560ae3693aa">&sect;&nbsp;</a></span>AESCMAC_STATUS_KEYSTORE_INVALID_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_KEYSTORE_INVALID_ID&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#aeaab212abda07968840db525e114d1ae">AES_STATUS_KEYSTORE_INVALID_ID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The operation tried to load a key from the keystore using an invalid key ID. </p>

</div>
</div>
<a id="ab69a463455edb1e59c09e5562491fa60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab69a463455edb1e59c09e5562491fa60">&sect;&nbsp;</a></span>AESCMAC_STATUS_KEYSTORE_GENERIC_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_KEYSTORE_GENERIC_ERROR&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#a89e9ed71ffb10f4f6d5b52b8afbd4389">AES_STATUS_KEYSTORE_GENERIC_ERROR</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The key store module returned a generic error. See key store documentation for additional details. </p>

</div>
</div>
<a id="a5b10301188ba1acfd0881fe2f07641f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b10301188ba1acfd0881fe2f07641f1">&sect;&nbsp;</a></span>AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED&#160;&#160;&#160;<a class="el" href="_a_e_s_common_8h.html#ab367c0137dd8d9bda4107b1545bfdb12">AES_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The operation does not support non-word-aligned input. </p>
<p>AESCMAC driver implementations may have restrictions on the alignment of input data due to performance limitations of the hardware. </p>

</div>
</div>
<a id="a8c299b832ab317bf55445e5fa5930b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c299b832ab317bf55445e5fa5930b1b">&sect;&nbsp;</a></span>AESCMAC_OP_CODE_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_OP_CODE_MASK&#160;&#160;&#160;0x0F /* bits 0-3 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask for the operation code. </p>

</div>
</div>
<a id="a073eaba0e9fb2c822065dcf3256b4a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073eaba0e9fb2c822065dcf3256b4a9e">&sect;&nbsp;</a></span>AESCMAC_OP_FLAG_SIGN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_OP_FLAG_SIGN&#160;&#160;&#160;0x10 /* bit 4 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating a sign operation. If this bit is not set, then it is a verify operation. </p>

</div>
</div>
<a id="a5abf0f9750e2aee67dfcfaf57f9ddfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5abf0f9750e2aee67dfcfaf57f9ddfbc">&sect;&nbsp;</a></span>AESCMAC_OP_FLAGS_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AESCMAC_OP_FLAGS_MASK&#160;&#160;&#160;(<a class="el" href="_a_e_s_c_m_a_c_8h.html#a073eaba0e9fb2c822065dcf3256b4a9e">AESCMAC_OP_FLAG_SIGN</a> | AESCMAC_OP_FLAG_VERIFY)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask for all valid operation flags. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aae722d07db97cac3578b07d258c675af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae722d07db97cac3578b07d258c675af">&sect;&nbsp;</a></span>AESCMAC_Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_a_e_s_common___config.html">AESCommon_Config</a> <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CMAC Global configuration. </p>
<p>The <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af" title="CMAC Global configuration. ">AESCMAC_Config</a> structure contains a set of pointers used to characterize the CMAC driver implementation.</p>
<p>This structure needs to be defined before calling <a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a> and it must not be changed thereafter.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a> </dd></dl>

</div>
</div>
<a id="a1caacd7e61597f97eddd83f5bf463686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1caacd7e61597f97eddd83f5bf463686">&sect;&nbsp;</a></span>AESCMAC_Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a>* <a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A handle that is returned from an <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> call. </p>

</div>
</div>
<a id="a8e592c44859616fb36f7f43e207721c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e592c44859616fb36f7f43e207721c5">&sect;&nbsp;</a></span>AESCMAC_CallbackFxn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AESCMAC_CallbackFxn) (<a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> handle, int_fast16_t returnValue, <a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *operation, <a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4">AESCMAC_OperationType</a> operationType)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The definition of a callback function used by the AESCMAC driver when used in <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle of the client that started the AESCMAC operation.</td></tr>
    <tr><td class="paramname">returnValue</td><td>The result of the AESCMAC operation. May contain an error code. Informs the application of why the callback function was called.</td></tr>
    <tr><td class="paramname">operation</td><td>Pointer to an operation struct.</td></tr>
    <tr><td class="paramname">operationType</td><td>Indicates which operation the callback refers to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="abb725e908feda2cd19288f1eae78dd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb725e908feda2cd19288f1eae78dd49">&sect;&nbsp;</a></span>AESCMAC_ReturnBehavior</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49">AESCMAC_ReturnBehavior</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The return behavior of AESCMAC functions. </p>
<p>Not all AESCMAC operations exhibit the specified return behavior. Functions that do not require significant computation and cannot offload that computation to a background thread behave like regular functions. Which functions exhibit the specified return behavior is not implementation dependent. Specifically, a software-backed implementation run on the same CPU as the application will emulate the return behavior while not actually offloading the computation to the background thread.</p>
<p>AESCMAC functions exhibiting the specified return behavior have restrictions on the context from which they may be called.</p>
<table class="doxtable">
<tr>
<th></th><th>Task </th><th>Hwi </th><th>Swi  </th></tr>
<tr>
<td>AESCMAC_RETURN_BEHAVIOR_CALLBACK </td><td>X </td><td>X </td><td>X </td></tr>
<tr>
<td>AESCMAC_RETURN_BEHAVIOR_BLOCKING </td><td>X </td><td></td><td></td></tr>
<tr>
<td>AESCMAC_RETURN_BEHAVIOR_POLLING </td><td>X </td><td>X </td><td>X </td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f"></a>AESCMAC_RETURN_BEHAVIOR_CALLBACK&#160;</td><td class="fielddoc"><p>The function call will return immediately while the MAC operation goes on in the background. The registered callback function is called after the operation completes. The context the callback function is called (task, HWI, SWI) is implementation-dependent. </p>
</td></tr>
<tr><td class="fieldname"><a id="abb725e908feda2cd19288f1eae78dd49adeb161ec7470cfac648f9cbbf9c98fa7"></a>AESCMAC_RETURN_BEHAVIOR_BLOCKING&#160;</td><td class="fielddoc"><p>The function call will block while the MAC operation goes on in the background. MAC operation results are available after the function returns. </p>
</td></tr>
<tr><td class="fieldname"><a id="abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d"></a>AESCMAC_RETURN_BEHAVIOR_POLLING&#160;</td><td class="fielddoc"><p>The function call will continuously poll a flag while MAC operation goes on in the background. MAC operation results are available after the function returns. </p>
</td></tr>
</table>

</div>
</div>
<a id="abaad4def712e02a8451f275575c2771c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaad4def712e02a8451f275575c2771c">&sect;&nbsp;</a></span>AESCMAC_OperationalMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_a_e_s_c_m_a_c_8h.html#abaad4def712e02a8451f275575c2771c">AESCMAC_OperationalMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the operation modes for the AESCMAC driver. </p>
<p>By default, the driver will use CMAC to sign and verify messages. To use CBC-MAC instead of CMAC, set the operationalMode in <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> accordingly before calling <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct</a>. The operational mode persists throughout the existance of the driver instance. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abaad4def712e02a8451f275575c2771ca47871bfa3fae7ec4879f1b8ed2be82a2"></a>AESCMAC_OPMODE_CMAC&#160;</td><td class="fielddoc"><p>CMAC operational mode </p>
</td></tr>
<tr><td class="fieldname"><a id="abaad4def712e02a8451f275575c2771ca96ef3aaada660cb0a90ff538ca46dbd6"></a>AESCMAC_OPMODE_CBCMAC&#160;</td><td class="fielddoc"><p>CBC-MAC operational mode </p>
</td></tr>
</table>

</div>
</div>
<a id="a6d5400a5f108b8e6b265ec3e6dc2fb64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5400a5f108b8e6b265ec3e6dc2fb64">&sect;&nbsp;</a></span>AESCMAC_OperationCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_a_e_s_c_m_a_c_8h.html#a6d5400a5f108b8e6b265ec3e6dc2fb64">AESCMAC_OperationCode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for the operation codes supported by the driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6d5400a5f108b8e6b265ec3e6dc2fb64a960efb62599541f8c3f3bfe249c52093"></a>AESCMAC_OP_CODE_ONE_STEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6d5400a5f108b8e6b265ec3e6dc2fb64ae5626683d890e6f927a686b5ee857902"></a>AESCMAC_OP_CODE_SEGMENTED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6d5400a5f108b8e6b265ec3e6dc2fb64a9f1a87b2cabf2b9becc191f39a873422"></a>AESCMAC_OP_CODE_FINALIZE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ac55eeee495d245e33cd5461184af41a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55eeee495d245e33cd5461184af41a4">&sect;&nbsp;</a></span>AESCMAC_OperationType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_a_e_s_c_m_a_c_8h.html#ac55eeee495d245e33cd5461184af41a4">AESCMAC_OperationType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for the operation types supported by the driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4a82ef82226f904674817d64bc9e120cf0"></a>AESCMAC_OP_TYPE_SIGN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4a5a063beb68806ff44ef3b5b9e900e45d"></a>AESCMAC_OP_TYPE_VERIFY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4a7aef02634ae85a5ecdf32e3549fcd536"></a>AESCMAC_OP_TYPE_SEGMENTED_SIGN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4afe83dda2e22eccebf42823d17047bba8"></a>AESCMAC_OP_TYPE_SEGMENTED_VERIFY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4a467760efa59a29c7aedb4006ad5df30b"></a>AESCMAC_OP_TYPE_FINALIZE_SIGN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac55eeee495d245e33cd5461184af41a4a2ed5f5574a90dc9ab7928d617e7fbe37"></a>AESCMAC_OP_TYPE_FINALIZE_VERIFY&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ac06b20096a85dae71a51a8afaa9f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac06b20096a85dae71a51a8afaa9f7b">&sect;&nbsp;</a></span>AESCMAC_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AESCMAC_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the CMAC module. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The AESCMAC_config structure must exist and be persistent before this function can be called. This function must also be called before any other CMAC driver APIs. This function call does not modify any peripheral registers. </dd></dl>

</div>
</div>
<a id="aa26eecc95d2e7346381ec0f25585808c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26eecc95d2e7346381ec0f25585808c">&sect;&nbsp;</a></span>AESCMAC_Params_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AESCMAC_Params_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Pointer to <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are: returnBehavior = AESCMAC_RETURN_BEHAVIOR_BLOCKING operationalMode = AESCMAC_OPMODE_CMAC callbackFxn = NULL timeout = SemaphoreP_WAIT_FOREVER custom = NULL </p>

</div>
</div>
<a id="af007baaace0903303c5330c4e554b409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af007baaace0903303c5330c4e554b409">&sect;&nbsp;</a></span>AESCMAC_Operation_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AESCMAC_Operation_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *&#160;</td>
          <td class="paramname"><em>operation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an <a class="el" href="struct_a_e_s_c_m_a_c___operation.html" title="Struct containing the parameters required for signing or verifying a message. ">AESCMAC_Operation</a> struct to its defaults. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Pointer to an <a class="el" href="struct_a_e_s_c_m_a_c___operation.html" title="Struct containing the parameters required for signing or verifying a message. ">AESCMAC_Operation</a> structure for initialization</td></tr>
  </table>
  </dd>
</dl>
<p>Defaults values are all zeros. </p>

</div>
</div>
<a id="aa151eddc42201ad06b62cfc0dd006c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa151eddc42201ad06b62cfc0dd006c2b">&sect;&nbsp;</a></span>AESCMAC_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> AESCMAC_open </td>
          <td>(</td>
          <td class="paramtype">uint_least8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a given AESCMAC peripheral. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> <em>operationalMode</em> may be set to enable CBC-MAC mode but the default is CMAC mode</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>AESCMAC driver has been initialized using <a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Logical peripheral number for the CMAC indexed into the AESCMAC_config table</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Pointer to a parameter block, if NULL it will use default values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686" title="A handle that is returned from an AESCMAC_open() call. ">AESCMAC_Handle</a> on success or a NULL on an error or if it has been opened already.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#a0ac06b20096a85dae71a51a8afaa9f7b" title="Initializes the CMAC module. ">AESCMAC_init()</a> </dd>
<dd>
<a class="el" href="_a_e_s_c_m_a_c_8h.html#a837dea72a78384727b499fa857b58769" title="Closes a AESCMAC peripheral specified by the CMAC handle. ">AESCMAC_close()</a> </dd></dl>

</div>
</div>
<a id="a837dea72a78384727b499fa857b58769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837dea72a78384727b499fa857b58769">&sect;&nbsp;</a></span>AESCMAC_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AESCMAC_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a AESCMAC peripheral specified by the CMAC handle. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> </dd>
<dd>
<a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a> </dd></dl>

</div>
</div>
<a id="a66e34437c6d40bd66c5b9e18af915ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e34437c6d40bd66c5b9e18af915ce6">&sect;&nbsp;</a></span>AESCMAC_setupSign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_setupSign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_crypto_key.html">CryptoKey</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares a segmented AESCMAC sign operation. </p>
<p>This function sets up a segmented AESCMAC sign operation. After a segmented operation is setup, it must be completed with <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize</a> or cancelled with <a class="el" href="_a_e_s_c_m_a_c_8h.html#a13efea02d256262dd655330eb204c96b" title="Cancels an ongoing AESCMAC operation. ">AESCMAC_cancelOperation</a> before another operation can be started.</p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Pointer to a previously initialized <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>The operation succeeded. Segmented data may now be added. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2" title="Adds data to the current segmented operation. ">AESCMAC_addData()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#ad94897df19ac49d838cddec8c9d3afcb" title="Prepares a segmented AESCMAC verify operation. ">AESCMAC_setupVerify()</a> </dd></dl>

</div>
</div>
<a id="ad94897df19ac49d838cddec8c9d3afcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94897df19ac49d838cddec8c9d3afcb">&sect;&nbsp;</a></span>AESCMAC_setupVerify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_setupVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_crypto_key.html">CryptoKey</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares a segmented AESCMAC verify operation. </p>
<p>This function sets up a segmented AESCMAC verify operation. After a segmented operation is setup, it must be completed with <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize</a> or cancelled with <a class="el" href="_a_e_s_c_m_a_c_8h.html#a13efea02d256262dd655330eb204c96b" title="Cancels an ongoing AESCMAC operation. ">AESCMAC_cancelOperation</a> before another operation can be started.</p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Pointer to a previously initialized <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>The operation succeeded. Segmented data may now be added. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2" title="Adds data to the current segmented operation. ">AESCMAC_addData()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize()</a></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#a66e34437c6d40bd66c5b9e18af915ce6" title="Prepares a segmented AESCMAC sign operation. ">AESCMAC_setupSign()</a> </dd></dl>

</div>
</div>
<a id="acfef9cc89f0b9aaa2b901314bae727f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfef9cc89f0b9aaa2b901314bae727f2">&sect;&nbsp;</a></span>AESCMAC_addData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_addData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds data to the current segmented operation. </p>
<p>The <em>inputLength</em> must be a non-zero multiple of the block size (16-bytes). <a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2" title="Adds data to the current segmented operation. ">AESCMAC_addData()</a> may be called an arbitrary number of times before finishing the operation with <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize()</a>.</p>
<p>This function blocks until the final MAC been computed. It returns immediately when <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a> is set.</p>
<dl class="section note"><dt>Note</dt><dd>None of the buffers provided as arguments may be altered by the application during an ongoing operation. Doing so can yield corrupted plaintext.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#a66e34437c6d40bd66c5b9e18af915ce6" title="Prepares a segmented AESCMAC sign operation. ">AESCMAC_setupSign()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#ad94897df19ac49d838cddec8c9d3afcb" title="Prepares a segmented AESCMAC verify operation. ">AESCMAC_setupVerify()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Pointer to CMAC operation structure()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>The operation succeeded. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a4eec841783b4db4109ecb39c393e9978" title="An error status code returned if the hardware or software resource is currently unavailable. ">AESCMAC_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5b10301188ba1acfd0881fe2f07641f1" title="The operation does not support non-word-aligned input. ">AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td><td>The input buffer was not word-aligned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2" title="Adds data to the current segmented operation. ">AESCMAC_addData()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#a44bd04ec6b9bf7184d9dbf5bce223905" title="Finalizes the current segmented operation. ">AESCMAC_finalize()</a> </dd></dl>

</div>
</div>
<a id="a44bd04ec6b9bf7184d9dbf5bce223905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bd04ec6b9bf7184d9dbf5bce223905">&sect;&nbsp;</a></span>AESCMAC_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes the current segmented operation. </p>
<p>For sign operations: This function computes and writes back the final MAC <em>mac</em> of length <em>macLength</em>.</p>
<p>For verify operations: This function uses the provided MAC <em>mac</em> to authenticate an input message. The return value indicates whether the authentication was successful.</p>
<dl class="section note"><dt>Note</dt><dd>Finalizing without additional input data is not supported. If finalization is attempted with <em>inputLength</em> of zero, <a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a> will be returned and the caller must either retry finalization with data or terminate the segmented operation by calling <a class="el" href="_a_e_s_c_m_a_c_8h.html#a13efea02d256262dd655330eb204c96b" title="Cancels an ongoing AESCMAC operation. ">AESCMAC_cancelOperation</a>.</dd>
<dd>
None of the buffers provided as arguments may be altered by the application during an ongoing operation. Doing so can yield corrupted plaintext.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#acfef9cc89f0b9aaa2b901314bae727f2" title="Adds data to the current segmented operation. ">AESCMAC_addData()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#a66e34437c6d40bd66c5b9e18af915ce6" title="Prepares a segmented AESCMAC sign operation. ">AESCMAC_setupSign()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#ad94897df19ac49d838cddec8c9d3afcb" title="Prepares a segmented AESCMAC verify operation. ">AESCMAC_setupVerify()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Pointer to CMAC operation structure()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49adeb161ec7470cfac648f9cbbf9c98fa7">AESCMAC_RETURN_BEHAVIOR_BLOCKING</a> and <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d">AESCMAC_RETURN_BEHAVIOR_POLLING</a>, this means the MAC was generated successfully. In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>, this means the operation started successfully. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a4eec841783b4db4109ecb39c393e9978" title="An error status code returned if the hardware or software resource is currently unavailable. ">AESCMAC_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a46bf60a60cab851889382ecf546c2a52" title="The MAC verification failed. ">AESCMAC_STATUS_MAC_INVALID</a></td><td>The provided MAC did not match the generated MAC. This return value is only valid for verify operations. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5b10301188ba1acfd0881fe2f07641f1" title="The operation does not support non-word-aligned input. ">AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td><td>The input buffer was not word-aligned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2a169d5e503f148313be4c6f4c4c510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a169d5e503f148313be4c6f4c4c510">&sect;&nbsp;</a></span>AESCMAC_oneStepSign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_oneStepSign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_crypto_key.html">CryptoKey</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a AESCMAC signature in one call. </p>
<p>This function uses the provided key to authenticate an input message. The resulting output is a message authentication code.</p>
<dl class="section note"><dt>Note</dt><dd>None of the buffers provided as arguments may be altered by the application during an ongoing operation. Doing so can yield corrupted plaintext.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Pointer to AESCMAC operation structure</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Pointer to a previously initialized <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49adeb161ec7470cfac648f9cbbf9c98fa7">AESCMAC_RETURN_BEHAVIOR_BLOCKING</a> and <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d">AESCMAC_RETURN_BEHAVIOR_POLLING</a>, this means the MAC was generated successfully. In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>, this means the operation started successfully. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a4eec841783b4db4109ecb39c393e9978" title="An error status code returned if the hardware or software resource is currently unavailable. ">AESCMAC_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5b10301188ba1acfd0881fe2f07641f1" title="The operation does not support non-word-aligned input. ">AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td><td>The input buffer was not word-aligned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#ad6a43d83bc6f5d20af3308a6216e82ae" title="Performs a AESCMAC verification in one call. ">AESCMAC_oneStepVerify()</a> </dd></dl>

</div>
</div>
<a id="ad6a43d83bc6f5d20af3308a6216e82ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a43d83bc6f5d20af3308a6216e82ae">&sect;&nbsp;</a></span>AESCMAC_oneStepVerify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_oneStepVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_a_e_s_c_m_a_c___operation.html">AESCMAC_Operation</a> *&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_crypto_key.html">CryptoKey</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a AESCMAC verification in one call. </p>
<p>This function verifies that the provided message authentication code matches the one generated by the provided key and input message.</p>
<dl class="section note"><dt>Note</dt><dd>None of the buffers provided as arguments may be altered by the application during an ongoing operation. Doing so can yield corrupted plaintext.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a> or <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>AESCMAC handle</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">operation</td><td>Pointer to AESCMAC operation structure</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Pointer to a previously initialized <a class="el" href="struct_crypto_key.html" title="CryptoKey datastructure. ">CryptoKey</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49adeb161ec7470cfac648f9cbbf9c98fa7">AESCMAC_RETURN_BEHAVIOR_BLOCKING</a> and <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a0deb89354e0bfd2dbe4cd85b872cc49d">AESCMAC_RETURN_BEHAVIOR_POLLING</a>, this means the MAC was verified successfully. In <a class="el" href="_a_e_s_c_m_a_c_8h.html#abb725e908feda2cd19288f1eae78dd49a3cf61f12fc25a4733957941c73d3484f">AESCMAC_RETURN_BEHAVIOR_CALLBACK</a>, this means the operation started successfully. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a30a1dcf01290f2f160cc6f9ba165d571" title="Generic error status code. ">AESCMAC_STATUS_ERROR</a></td><td>The operation failed. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a4eec841783b4db4109ecb39c393e9978" title="An error status code returned if the hardware or software resource is currently unavailable. ">AESCMAC_STATUS_RESOURCE_UNAVAILABLE</a></td><td>The required hardware resource was not available. Try again later. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a46bf60a60cab851889382ecf546c2a52" title="The MAC verification failed. ">AESCMAC_STATUS_MAC_INVALID</a></td><td>The provided MAC did not match the generated MAC. This return value is only valid for verify operations. </td></tr>
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a5b10301188ba1acfd0881fe2f07641f1" title="The operation does not support non-word-aligned input. ">AESCMAC_STATUS_UNALIGNED_IO_NOT_SUPPORTED</a></td><td>The input buffer was not word-aligned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#af2a169d5e503f148313be4c6f4c4c510" title="Performs a AESCMAC signature in one call. ">AESCMAC_oneStepSign()</a> </dd></dl>

</div>
</div>
<a id="a13efea02d256262dd655330eb204c96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13efea02d256262dd655330eb204c96b">&sect;&nbsp;</a></span>AESCMAC_cancelOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast16_t AESCMAC_cancelOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels an ongoing AESCMAC operation. </p>
<p>Asynchronously cancels an AESCMAC operation. Only available when using AESCMAC_RETURN_BEHAVIOR_CALLBACK. The operation will terminate as though an error occurred. The return status code of the operation will be AESCMAC_STATUS_CANCELED.</p>
<dl class="section note"><dt>Note</dt><dd>Only the same thread that started an operation is permitted to cancel it. This function cannot be be called from an interrupt context or callback.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Handle of the operation to cancel</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a716cd36c2e310e4753a635f85e8388e0" title="Successful status code. ">AESCMAC_STATUS_SUCCESS</a></td><td>The operation was canceled or the operation had already completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb2e43be898013e7704539b35fd1122b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb2e43be898013e7704539b35fd1122b">&sect;&nbsp;</a></span>AESCMAC_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686">AESCMAC_Handle</a> AESCMAC_construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af">AESCMAC_Config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new AESCMAC object. </p>
<p>Unlike <a class="el" href="_a_e_s_c_m_a_c_8h.html#aa151eddc42201ad06b62cfc0dd006c2b" title="Opens a given AESCMAC peripheral. ">AESCMAC_open()</a>, <a class="el" href="_a_e_s_c_m_a_c_8h.html#adb2e43be898013e7704539b35fd1122b" title="Constructs a new AESCMAC object. ">AESCMAC_construct()</a> does not require the hwAttrs and object to be allocated in a <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af" title="CMAC Global configuration. ">AESCMAC_Config</a> array that is indexed into. Instead, the <a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af" title="CMAC Global configuration. ">AESCMAC_Config</a>, hwAttrs, and object can be allocated at any location. This allows for relatively simple run-time allocation of temporary driver instances on the stack or the heap. The drawback is that this makes it more difficult to write device-agnostic code. If you use an ifdef with DeviceFamily, you can choose the correct object and hwAttrs to allocate. That compilation unit will be tied to the device it was compiled for at this point. To change devices, recompilation of the application with a different DeviceFamily setting is necessary.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> <em>operationalMode</em> may be set to enable CBC-MAC mode but the default is CMAC mode</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The object struct <code>config</code> points to must be zeroed out prior to calling this function. Otherwise, unexpected behavior may ensue.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td><a class="el" href="_a_e_s_c_m_a_c_8h.html#aae722d07db97cac3578b07d258c675af" title="CMAC Global configuration. ">AESCMAC_Config</a> describing the location of the object and hwAttrs.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td><a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> to configure the driver instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a <a class="el" href="_a_e_s_c_m_a_c_8h.html#a1caacd7e61597f97eddd83f5bf463686" title="A handle that is returned from an AESCMAC_open() call. ">AESCMAC_Handle</a> on success or NULL on failure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a699d7920a95aecb01b239a79dbafad69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699d7920a95aecb01b239a79dbafad69">&sect;&nbsp;</a></span>AESCMAC_defaultParams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_a_e_s_c_m_a_c___params.html">AESCMAC_Params</a> AESCMAC_defaultParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default <a class="el" href="struct_a_e_s_c_m_a_c___params.html" title="AESCMAC Parameters. ">AESCMAC_Params</a> structure. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_a_e_s_c_m_a_c_8h.html#aa26eecc95d2e7346381ec0f25585808c" title="Initializes the AESCMAC_Params struct to its defaults. ">AESCMAC_Params_init()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml"> Copyright 1995-2023</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
