<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>WatchdogCC26X4.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_dd8fa7f0a423552d37651735ac37558f.html">ti</a></li><li class="navelem"><a class="el" href="dir_15fb9a92674a5e15cac1f3112cfb19ae.html">drivers</a></li><li class="navelem"><a class="el" href="dir_54075f58727e0bc55072f0189f7b8fda.html">watchdog</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">WatchdogCC26X4.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Watchdog driver implementation for CC13X4/CC26X4. </p>
<hr/>
<h1>Driver include</h1>
<p>The Watchdog header file should be included in an application as follows: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_watchdog_8h.html">ti/drivers/Watchdog.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_watchdog_c_c26_x4_8h.html">ti/drivers/watchdog/WatchdogCC26X4.h</a>&gt;</span></div></div><!-- fragment --><p>Refer to <a class="el" href="_watchdog_8h.html">Watchdog.h</a> for a complete description of APIs.</p>
<h1>Overview</h1>
<p>The general Watchdog API should be used in application code, i.e. <a class="el" href="_watchdog_8h.html#a26795f67f599b74de830ca7bf36bdced" title="Opens a Watchdog. ">Watchdog_open()</a> should be used instead of WatchdogCC26X4_open(). The board file will define the device specific config, and casting in the general API will ensure that the correct device specific functions are called.</p>
<h1>General Behavior</h1>
<p>This Watchdog driver implementation is designed to operate on a CC13X4/CC26X4 device. Before using the Watchdog on CC13X4/CC26X4, the Watchdog driver is initialized by calling <a class="el" href="_watchdog_8h.html#afaadfb59be17661ae95562f2081355e7" title="Initializes the Watchdog module. ">Watchdog_init()</a>. The Watchdog HW is configured by calling <a class="el" href="_watchdog_8h.html#a26795f67f599b74de830ca7bf36bdced" title="Opens a Watchdog. ">Watchdog_open()</a>. Once opened, the Watchdog will count down from the reload value specified in <a class="el" href="struct_watchdog_c_c26_x4___h_w_attrs.html" title="Watchdog hardware attributes for CC26X4. ">WatchdogCC26X4_HWAttrs</a>. If it times out, a reset signal will be generated. To prevent a reset, <a class="el" href="_watchdog_8h.html#a396decd6b1807db10c636f9987c3be4c" title="Clears the Watchdog. ">Watchdog_clear()</a> must be called to reload the timer.</p>
<p>The Watchdog counts down at the rate of the device clock SCLK_LF. SCLK_LF will tick at different rates depending on the SCLK_LF source selected in CCFG, ranging between 31250 Hz and 32768 Hz. The Watchdog driver internally calculates the correct tick value depending on the target SCLK_LF source selected in CCFG. RCOSC_LF is an inherently inaccurate clock source and will present variations around the target 32768 Hz frequency. These inaccuracies have to be taken into consideration at the application level if RSCOC_LF is selected as the source of SCLK_LF.</p>
<p>The reload value from which the Watchdog timer counts down may be changed during runtime using <a class="el" href="_watchdog_8h.html#a63ea82dda83e42e236578b9810e56880" title="Sets the Watchdog reload value. ">Watchdog_setReload()</a>. This value should be specified in Watchdog clock ticks and should not exceed "2^32 - 1". This corresponds to a timeout period of 131071 seconds, calculated at the highest rate of 32768 kHz. If the reload value is set to zero, the Watchdog reset is immediately generated.</p>
<p><a class="el" href="_watchdog_8h.html#a1c0dfea7011b06f303d01afb631ffbdd" title="Function to close a Watchdog peripheral specified by the Watchdog handle.It stops (holds) the Watchdo...">Watchdog_close()</a> is <b>not</b> supported by this driver implementation. Once started, the Watchdog timer can only be stopped by a hardware reset.</p>
<p><b>No</b> CC13X4/CC26X4 specific command has been implemented. Any call to <a class="el" href="_watchdog_8h.html#a513c121c62f277318a7c35b0b2bdc869" title="Function performs implementation specific features on a given Watchdog_Handle. ">Watchdog_control()</a> will receive the return code Watchdog_STATUS_UNDEFINEDCMD.</p>
<p>The Watchdog module available on CC13X4/CC26X4 devices does not support reset masking or interrupt generation. Therefore, the two parameters <a class="el" href="struct_watchdog___params.html#a94b5d650f8beb7dce719360404039ccf">Watchdog_Params::resetMode</a> and <a class="el" href="struct_watchdog___params.html#a710aaa2504356ab3d3f9a27ac19ddb85">Watchdog_Params::callbackFxn</a> in the <a class="el" href="struct_watchdog___params.html">Watchdog_Params</a> struct are not supported and will be ignored by the Watchdog driver.</p>
<h1>Power Management</h1>
<p>Once started, the Watchdog will keep running in Active, Idle and Standby mode.</p>
<h1>Supported Functions</h1>
<p>| Generic API Function | API Function | Description | |---------------------------&mdash; |-------------------------------&mdash; |------------------------------------------------&mdash; | | <a class="el" href="_watchdog_8h.html#afaadfb59be17661ae95562f2081355e7" title="Initializes the Watchdog module. ">Watchdog_init()</a> | WatchdogCC26X4_init() | Initialize Watchdog driver | | <a class="el" href="_watchdog_8h.html#a26795f67f599b74de830ca7bf36bdced" title="Opens a Watchdog. ">Watchdog_open()</a> | WatchdogCC26X4_open() | Initialize Watchdog HW and set system dependencies | | <a class="el" href="_watchdog_8h.html#a396decd6b1807db10c636f9987c3be4c" title="Clears the Watchdog. ">Watchdog_clear()</a> | WatchdogCC26X4_clear() | Reload Watchdog counter | | <a class="el" href="_watchdog_8h.html#a63ea82dda83e42e236578b9810e56880" title="Sets the Watchdog reload value. ">Watchdog_setReload()</a> | WatchdogCC26X4_setReload() | Update Watchdog timer reload value in clock ticks | | <a class="el" href="_watchdog_8h.html#a7b93cd0bd3a6f11aa28b0c7219755979" title="Converts milliseconds to Watchdog clock ticks. ">Watchdog_convertMsToTicks()</a> | WatchdogCC26X4_convertMsToTicks() | Converts milliseconds to clock ticks |</p>
<dl class="section note"><dt>Note</dt><dd>All calls should go through the generic API. Please refer to <a class="el" href="_watchdog_8h.html">Watchdog.h</a> for a complete description of the generic APIs.</dd></dl>
<h1>Use Cases</h1>
<h2>Basic Watchdog</h2>
<p>In this basic watchdog example, the application is expected to start the Watchdog timer by calling <a class="el" href="_watchdog_8h.html#a26795f67f599b74de830ca7bf36bdced" title="Opens a Watchdog. ">Watchdog_open()</a>. If needed, <a class="el" href="_watchdog_8h.html#a63ea82dda83e42e236578b9810e56880" title="Sets the Watchdog reload value. ">Watchdog_setReload()</a> may be called to change the timeout period. If all monitored tasks are doing alright, <a class="el" href="_watchdog_8h.html#a396decd6b1807db10c636f9987c3be4c" title="Clears the Watchdog. ">Watchdog_clear()</a> should be called regularly to reload the counter so as to restart the timeout period and to avoid the Watchdog resetting the device. If the <a class="el" href="_watchdog_8h.html#a396decd6b1807db10c636f9987c3be4c" title="Clears the Watchdog. ">Watchdog_clear()</a> is missed and the Watchdog timer is allowed to timeout, the device will be reset.</p>
<p>The following code example shows how to correctly initialize the driver's parameters, start the Watchdog timer and modify at runtime the timeout period. </p><div class="fragment"><div class="line"><a class="code" href="struct_watchdog___config__.html">Watchdog_Handle</a> handle;</div><div class="line"><a class="code" href="struct_watchdog___params.html">Watchdog_Params</a> <a class="code" href="_driver___init_8h.html#af93f10d4f7393a01dff58c92f91d8cbc">params</a>;</div><div class="line">uint32_t tickValue;</div><div class="line"></div><div class="line"><a class="code" href="_watchdog_8h.html#afaadfb59be17661ae95562f2081355e7">Watchdog_init</a>();</div><div class="line"><a class="code" href="_watchdog_8h.html#a6a6f54cfdac33d3bf33464a212262afc">Watchdog_Params_init</a>(&amp;params);</div><div class="line">handle = <a class="code" href="_watchdog_8h.html#a26795f67f599b74de830ca7bf36bdced">Watchdog_open</a>(Watchdog_configIndex, &amp;params);</div><div class="line"><span class="comment">// set timeout period to 100 ms</span></div><div class="line">tickValue = <a class="code" href="_watchdog_8h.html#a7b93cd0bd3a6f11aa28b0c7219755979">Watchdog_convertMsToTicks</a>(handle, 100);</div><div class="line"><a class="code" href="_watchdog_8h.html#a63ea82dda83e42e236578b9810e56880">Watchdog_setReload</a>(handle, tickValue);</div></div><!-- fragment --> </div><div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_watchdog_8h_source.html">ti/drivers/Watchdog.h</a>&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/HwiP.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for WatchdogCC26X4.h:</div>
<div class="dyncontent">
<div class="center"><img src="_watchdog_c_c26_x4_8h__incl.png" border="0" usemap="#_watchdog_c_c26_x4_8h" alt=""/></div>
<map name="_watchdog_c_c26_x4_8h" id="_watchdog_c_c26_x4_8h">
<area shape="rect" id="node4" href="_watchdog_8h.html" title="Watchdog driver interface. " alt="" coords="129,80,289,107"/>
</map>
</div>
</div>
<p><a href="_watchdog_c_c26_x4_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_watchdog_c_c26_x4___h_w_attrs.html">WatchdogCC26X4_HWAttrs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Watchdog hardware attributes for CC26X4.  <a href="struct_watchdog_c_c26_x4___h_w_attrs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_watchdog_c_c26_x4___object.html">WatchdogCC26X4_Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Watchdog Object for CC26X4.  <a href="struct_watchdog_c_c26_x4___object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a48441e11f5cd10887f3a917749ea4532"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_watchdog___fxn_table.html">Watchdog_FxnTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_watchdog_c_c26_x4_8h.html#a48441e11f5cd10887f3a917749ea4532">WatchdogCC26X4_fxnTable</a></td></tr>
<tr class="memdesc:a48441e11f5cd10887f3a917749ea4532"><td class="mdescLeft">&#160;</td><td class="mdescRight">Watchdog function table for CC26X4.  <a href="#a48441e11f5cd10887f3a917749ea4532">More...</a><br /></td></tr>
<tr class="separator:a48441e11f5cd10887f3a917749ea4532"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a48441e11f5cd10887f3a917749ea4532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48441e11f5cd10887f3a917749ea4532">&sect;&nbsp;</a></span>WatchdogCC26X4_fxnTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_watchdog___fxn_table.html">Watchdog_FxnTable</a> WatchdogCC26X4_fxnTable</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Watchdog function table for CC26X4. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">© Copyright 1995-2023</a>, Texas Instruments Incorporated. All rights reserved. <br/>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
