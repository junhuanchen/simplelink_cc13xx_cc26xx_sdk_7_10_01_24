<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wi-Fi Coexistence &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Z-Stack User&#39;s Guide
 7.10.01 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="../zigbee-guide/debugging-index.html" />
    <link rel="prev" title="Reverting to a Factory Image" href="../zigbee-guide/revert-to-factory.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug coexistence coexistence-ieee";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../zigbee-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Z-Stack User's Guide

          </a>
              <div class="version">
                7.10.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/quickstart-intro-cc13xx_cc26xx.html">Introduction to the SimpleLink CC13xx/CC26xx SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/tirtos-index.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee/overview.html">SimpleLink CC13xx/CC26xx SDK Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee/developing_zigbee_applications.html">Developing Zigbee Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/custom-hardware-cc13xx_cc26xx.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/zigbee-ota-index.html">Zigbee Over-The-Air Firmware Upgrade</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Wi-Fi Coexistence</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#two-wire-coex-interface">Two-wire Coex Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coexistence-signaling">Coexistence Signaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee/packet_sniffer.html">Packet Sniffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/sysconfig-index.html">System Configuration (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/migration_guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/references-cc13xx_cc26xx.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zigbee-guide/glossary.html">Terms and Acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../zigbee-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Z-Stack User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../zigbee-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
      <li>Wi-Fi Coexistence</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="wi-fi-coexistence">
<span id="sec-ieee-coexistence"></span><h1>Wi-Fi Coexistence<a class="headerlink" href="#wi-fi-coexistence" title="Permalink to this headline">¶</a></h1>
<p>The coexistence (coex) feature is a means to organize wireless packet traffic for
communication protocols operating in the same frequency band. Instead of interfering
with each other’s transmissions, affecting the RF performance, two co-located devices
will have a dedicated communication interface to signal and determine access to the
shared frequency band.</p>
<p>IEEE 802.15.4-based stacks and Wi-Fi channels both exist in the 2.4 GHz band over the
same frequency space. When deploying both protocols in the same environments, careful
planning must be performed to make sure that they don’t interfere with each other.
Coexistence is particularly required when placing the Wi-Fi and 802.15.4 devices on
the same platform (for example, a combined gateway). In these cases, the isolation
between the antennas of the two devices is not enough to avoid impact on the
performance. Without a proper coexistence mechanism, the RX of the 802.15.4 device
will be affected by the Wi-Fi TX and vice versa. The coexistence mechanism protects the
RX using GPIOs interface between the devices and allows visibility of the Wi-Fi TX/RX
activity along with the ability to hold a Wi-Fi transmission.</p>
<p>The coex interface implemented for SimpleLink CC13xx/CC26xx devices is compatible with
Wi-Fi devices that support two-wire coexistence mode.  This approach is based on a shared
control module between the coexisting devices, to decide which device is permitted
to communicate in the shared frequency band. Many Wi-Fi devices implement their version
of such a module, and the implemented coex feature is based on the assumption that the
two-wire control module is embedded in the Wi-Fi device. The Wi-Fi device will therefore
have a host role in this coex device scheme, as it controls the two-wire logic. The
coexistence interface can be abstracted to a signal interface between the two devices,
as illustrated in the figure below. For an example of supported Wi-Fi devices, view the
available <a class="reference external" href="https://www.ti.com/wireless-connectivity/wi-fi/products.html#p2792=External%20MPU">WiLink Products</a></p>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="../_images/block-diagram_coex-ieee-interface-abstraction.png"><img alt="../_images/block-diagram_coex-ieee-interface-abstraction.png" src="../_images/block-diagram_coex-ieee-interface-abstraction.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-number">Figure 95. </span><span class="caption-text">Block-diagram of coexistence interface abstraction</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
<div class="legend">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Z-Stack also supports three-wire PTA coexistence, refer to the <a class="reference external" href="../../../ble5stack/ble_user_guide/html/coexistence/coexistence.html">Coexistence</a>
module for more information on this mode of operation</p>
</div>
</div>
</div>
<div class="section" id="two-wire-coex-interface">
<span id="sec-two-wire-interface"></span><h2>Two-wire Coex Interface<a class="headerlink" href="#two-wire-coex-interface" title="Permalink to this headline">¶</a></h2>
<p>The supported IEEE 802.15.4 two-wire coex mode can be illustrated as in the
block-diagram below. Seen from the 802.15.4 device, the REQUEST signal is
defined as an output while the GRANT signal is defined as an input.</p>
<div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="../_images/block-diagram_coex-2-wire.png"><img alt="../_images/block-diagram_coex-2-wire.png" src="../_images/block-diagram_coex-2-wire.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-number">Figure 96. </span><span class="caption-text">Block-diagram of coexistence mode <strong>2-Wire</strong></span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Two-wire coexistence modes are not supported on all Wi-Fi devices. For example,
the SimpleLink CC3135 and CC3235 Wi-Fi devices only support the 1-Wire REQUEST mode.</p>
</div>
<div class="section" id="coexistence-signaling">
<span id="sec-two-wire-coex-signaling"></span><h2>Coexistence Signaling<a class="headerlink" href="#coexistence-signaling" title="Permalink to this headline">¶</a></h2>
<p>The coexistence signaling approach for the 2-Wire mode, using the two available
signals, can be summarized as follows:</p>
<ul>
<li><p>Coex <strong>REQUEST</strong> signal:</p>
<blockquote>
<div><p>This is an output signal, controlled by the coex target. This signal is used to
request that the Wi-Fi device disables transmissions for a given time.  This is
used during high priority situations for which IEEE 802.15.4 communication
must proceed in order to maintain the network.  It connects to the PA_SD pin
of the WiLink device.</p>
</div></blockquote>
</li>
<li><p>Coex <strong>GRANT</strong> signal:</p>
<blockquote>
<div><p>This is an input signal, controlled by the coex host. This signal indicates
whether Wi-Fi transmissions are active so that the 802.15.4 device will not
execute simultaneous transmissions.  This connects to the WiLink RX line.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The terms signal <strong>assert</strong> and signal <strong>de-assert</strong> are used to describe the value
change of a signal to respectively <em>active</em> and <em>idle</em>. For an <em>active high</em>
signal, the signal is asserted by changing the signal value from low to high. For
an <em>active low</em> signal, the signal is asserted by changing the signal value from
high to low. For the opposite signal operation, de-assert, the signal value changes
from active to idle.</p>
<table class="docutils align-default" id="id7">
<caption><span class="caption-number">Table 8. </span><span class="caption-text">Assert and de-assert meaning for signal active/idle level</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 23%" />
<col style="width: 20%" />
<col style="width: 28%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Active Level</p></th>
<th class="head"><p>Idle Level</p></th>
<th class="head"><p>Assert</p></th>
<th class="head"><p>De-assert</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>High</strong></p></td>
<td><p>Low</p></td>
<td><p>Low → High</p></td>
<td><p>High → Low</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Low</strong></p></td>
<td><p>High</p></td>
<td><p>High → Low</p></td>
<td><p>Low → High</p></td>
</tr>
</tbody>
</table>
</div>
<p>In order to support time-shared signals, the coex feature is heavily dependent on
accurate <em>timing</em>. What makes this implementation compatible with a Wi-Fi device that
supports a two-wire interface, is the adherence to such timing requirements.</p>
</div>
<div class="section" id="configuration-options">
<span id="sec-two-wire-coex-config"></span><h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>The coex configuration options are made available from the RF driver module in
SysConfig (<em>TI Drivers</em> → <em>RF</em>).</p>
<div class="figure align-center" id="id8">
<a class="reference internal image-reference" href="../_images/syscfg_ieee-coex-config.png"><img alt="../_images/syscfg_ieee-coex-config.png" src="../_images/syscfg_ieee-coex-config.png" style="width: 80%;" /></a>
<p class="caption"><span class="caption-number">Figure 97. </span><span class="caption-text">Coexistence configuration options in SysConfig</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Depending on the application, use case, and what Wi-Fi device the SimpleLink
CC13xx/CC26xx IEEE 802.15.4 device is intended to coexist with, certain options
are up to the user to configure.</p>
<p><strong>Coex mode</strong>: Only two-wire mode is currently supported for the IEEE 802.15.4 PHY</p>
<p><strong>Coex signal idle level</strong>: The signal idle level can be configured as <em>low</em> or
<em>high</em>, which in other terms means that the same signal is either respectively
<em>active high</em> or <em>active low</em>. By default both REQUEST and GRANT are set to idle
level low.</p>
<p><strong>Coex pin mapping</strong>: The coex signal(s) used for the two-wire interface with the
Wi-Fi device can be mapped to any available DIO pins. This is configured in the pin
mux section of the RF module, as illustrated in the figure below.</p>
<div class="figure align-center" id="id9">
<a class="reference internal image-reference" href="../_images/syscfg_ieee-coex-pin-selection.png"><img alt="../_images/syscfg_ieee-coex-pin-selection.png" src="../_images/syscfg_ieee-coex-pin-selection.png" style="width: 80%;" /></a>
<p class="caption"><span class="caption-number">Figure 98. </span><span class="caption-text">Coexistence pin mapping</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Coex pin configuration while not in use</strong>: Options are given in regards to the pin
configuration for coexistence REQUEST &amp; GRANT pins while they are not being used.
For the lowest power operation it is recommended that the following selections
be made accordingly.</p>
<div class="figure align-center" id="id10">
<a class="reference internal image-reference" href="../_images/syscfg_ieee-coex-pin-configuration.png"><img alt="../_images/syscfg_ieee-coex-pin-configuration.png" src="../_images/syscfg_ieee-coex-pin-configuration.png" style="width: 80%;" /></a>
<p class="caption"><span class="caption-number">Figure 99. </span><span class="caption-text">Coexistence pin configuration</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>After finishing with SysConfig settings, be sure to add <em>IEEE_COEX_ENABLED</em> inside
<em>Project Properties</em> → <em>Build</em> → <em>Arm Compiler</em> → <em>Predefined Symbols</em>
to fully enabled two-wire coexistence operation.</p>
<div class="figure align-center" id="id11">
<a class="reference internal image-reference" href="../_images/project_ieee-coex-predefine.png"><img alt="../_images/project_ieee-coex-predefine.png" src="../_images/project_ieee-coex-predefine.png" style="width: 80%;" /></a>
<p class="caption"><span class="caption-number">Figure 100. </span><span class="caption-text">Coexistence predefined symbol</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../zigbee-guide/revert-to-factory.html" class="btn btn-neutral float-left" title="Reverting to a Factory Image" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../zigbee-guide/debugging-index.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2005-2022, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>