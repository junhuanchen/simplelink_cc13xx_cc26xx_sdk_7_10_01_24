<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TI Wi-SUN FAN NWP Interface Guide &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
TI Wi-SUN FAN 1.0 Stack User&#39;s Guide
 2.10.00.00 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example Application Guide" href="example-applications.html" />
    <link rel="prev" title="EAPOL Layer" href="../wisun-stack/networklayer.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug wisun-guide NWP_interface";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
TI Wi-SUN FAN 1.0 Stack User's Guide

          </a>
              <div class="version">
                2.10.00.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/wisun-quick-start.html">Wi-SUN Stack Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tirtos-index.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="freertos-index.html">FreeRTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="wisun-index.html">TI Wi-SUN FAN Stack</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TI Wi-SUN FAN NWP Interface Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clone-the-repository">Clone the Repository</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#run-automatic-setup-in-windows">Run Automatic Setup in Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-automatic-setup-in-linux">Run Automatic Setup in Linux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#packet-format">Packet Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spinel-header">Spinel Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spinel-command">Spinel Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-payload">Command Payload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spinel-properties">Spinel Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ti-wi-sun-fan-nwp-properties">TI Wi-SUN FAN NWP Properties</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prop-connected-devices">PROP_CONNECTED_DEVICES</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-sessions">Example Sessions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#init-sequence">Init Sequence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ncp-initialization">1. NCP Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#erasing-the-nv">2. Erasing the NV</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-the-network-properties">3. Setting the network properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bring-the-wi-sun-network-interface-up">4. Bring the Wi-SUN (network) interface up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bring-the-wi-sun-stack-up">5. Bring the Wi-SUN stack up</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accessing-the-globally-unique-dhcp-address-and-link-local-ipv6-address">6. Accessing the globally unique DHCP address and link local IPv6 address</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pinging-a-device-in-the-network">7. Pinging a device in the network</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ti-wi-sun-fan-nwp-vs-spinel">TI Wi-SUN FAN NWP vs. Spinel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#property-numbering">Property Numbering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#property-sections">Property Sections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example-applications.html">Example Application Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/custom-hardware-cc13xx_cc26xx.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="wisun-oad-index.html">MCUBoot Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysconfig-index.html">System Configuration (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration-guide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html#terms-and-acronyms">Terms and Acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">
SimpleLink™ CC13XX/CC26XX SDK
TI Wi-SUN FAN 1.0 Stack User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>TI Wi-SUN FAN NWP Interface Guide</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="ti-wi-sun-fan-nwp-interface-guide">
<span id="chap-wisun-nwp-guide"></span><h1>TI Wi-SUN FAN NWP Interface Guide<a class="headerlink" href="#ti-wi-sun-fan-nwp-interface-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>TI Wi-SUN FAN Network Processor (NWP) mode uses Spinel Host Control Protocol as
defined in the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller Protocol</a>. The Spinel interface specifies
a generic host processor (HOST) to Network co-processor (<a class="reference internal" href="references.html#term-NCP"><span class="xref std std-term">NCP</span></a>) interface for
networking protocols over UART. (The specification also illustrates the use of
Spinel interface for THREAD technology.)</p>
<p>TI Wi-SUN FAN NWP interface uses the generic SPINEL interface and extend its
use for TI Wi-SUN FAN Technology. This document specifies the changes to the
SPINEL specification for TI Wi-SUN FAN technology. For specifics, see the
chapter on <a class="reference internal" href="#sec-wisun-spinel-differences"><span class="std std-ref">TI Wi-SUN FAN NWP vs. Spinel</span></a>.</p>
<p>TI-WISUN FAN solution supports the SPINEL interface over UART interface (no SPI).</p>
</div>
<div class="section" id="clone-the-repository">
<h2>Clone the Repository<a class="headerlink" href="#clone-the-repository" title="Permalink to this headline">¶</a></h2>
<p>The repository can be cloned directly from github. (Link: <a class="reference external" href="https://github.com/TexasInstruments/ti-wisunfan-pyspinel">TI Wi-SUN FAN
pySpinel GitHub repo</a>.) Alternatively, a script in the SDK can be used for
automatic setup.</p>
<div class="section" id="run-automatic-setup-in-windows">
<h3>Run Automatic Setup in Windows<a class="headerlink" href="#run-automatic-setup-in-windows" title="Permalink to this headline">¶</a></h3>
<p>Within the tools folder of the SDK, there is a file called <code class="docutils literal notranslate"><span class="pre">setup_pyspinel.bat</span></code>.
Running this file will automatically clone and setup the TI git repository that
contains the NWP python files for your use.</p>
<ol class="arabic simple">
<li><p>Open the SDK and navigate to the tools folder <code class="docutils literal notranslate"><span class="pre">&lt;SDK_INSTALL_DIR&gt;\\tools</span></code>.</p></li>
<li><p>Run the file called <code class="docutils literal notranslate"><span class="pre">setup_pyspinel.bat</span></code> to setup the TI git repo. Click on
the file to start running it, and the repository will be setup inside of the
tools folder in your SDK.</p></li>
</ol>
</div>
<div class="section" id="run-automatic-setup-in-linux">
<h3>Run Automatic Setup in Linux<a class="headerlink" href="#run-automatic-setup-in-linux" title="Permalink to this headline">¶</a></h3>
<p>Within the tools folder of the SDK, there is a file called <code class="docutils literal notranslate"><span class="pre">setup_pyspinel.sh</span></code>.
Running this file will automatically clone and setup the TI git repository that
contains the NWP python files for your use.</p>
<ol class="arabic">
<li><p>Open the SDK and navigate to the tools folder <code class="docutils literal notranslate"><span class="pre">&lt;SDK_INSTALL_DIR&gt;\\tools</span></code>.</p></li>
<li><p>Run the file called <code class="docutils literal notranslate"><span class="pre">setup_pyspinel.bat</span></code> to setup the TI git repo. Run the
following command in a terminal to ensure that the execute permission is set
correctly on the script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="n">setup_pyspinel</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>Then run the script, and the repository will be automatically setup and cloned
into your SDK.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">setup_pyspinel</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
</div>
<div class="section" id="packet-format">
<h2>Packet Format<a class="headerlink" href="#packet-format" title="Permalink to this headline">¶</a></h2>
<p>A detailed specification of SPINEL implementation can be found at the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel
Host-Controller Protocol</a> web page. A brief overview is provided here for
reference.</p>
<p>The SPINEL interface encodes command and properties into a HDLC-Lite format to be
transferred over UART:</p>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../_images/packet-format.png"><img alt="../_images/packet-format.png" src="../_images/packet-format.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-number">Figure 25. </span><span class="caption-text">UART packet format</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="spinel-header">
<h3>Spinel Header<a class="headerlink" href="#spinel-header" title="Permalink to this headline">¶</a></h3>
<p>The spinel header has the following fields:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 14%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Flag (FLG)</p></td>
<td><p>2 bits</p></td>
<td><p>Always set to 0x2.</p></td>
</tr>
<tr class="row-odd"><td><p>Network Line Identifier (NLI)</p></td>
<td><p>2 bits</p></td>
<td><p>Always set to 00.</p></td>
</tr>
<tr class="row-even"><td><p>Transaction Identifier (TID)</p></td>
<td><p>4 bits</p></td>
<td><p>Transaction ID*.</p></td>
</tr>
</tbody>
</table>
<p>* For unsolicited and asynchronous messages, TID is set to 0. Other TIDs can be
used for matching request from Host to response from NCP. It is recommended to
keep only one TID active at any time with the <a class="reference internal" href="references.html#term-NCP"><span class="xref std std-term">NCP</span></a>.</p>
</div>
<div class="section" id="spinel-command">
<h3>Spinel Command<a class="headerlink" href="#spinel-command" title="Permalink to this headline">¶</a></h3>
<p>The following commands are supported in TI Wi-SUN NWP. The direction column
specifies which layer (HOST or <a class="reference internal" href="references.html#term-NCP"><span class="xref std std-term">NCP</span></a>) can issue a command. All commands are used
in a request/response manner. (In addition, <code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_SET</span></code> and
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_IS</span></code> can be used by Host and NCP to send asynchronous messages
from each other respectively.)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 62%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Nr</p></th>
<th class="head"><p>Spinel Command</p></th>
<th class="head"><p>Direction</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CDM 0</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_NOOP</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-odd"><td><p>CMD 1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_RESET</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-even"><td><p>CMD 2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_GET</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-odd"><td><p>CMD 3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_SET</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-even"><td><p>CMD 4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_INSERT</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-odd"><td><p>CMD 5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_REMOVE</span></code></p></td>
<td><p>Host-&gt;NCP</p></td>
</tr>
<tr class="row-even"><td><p>CMD 6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_IS</span></code></p></td>
<td><p>NCP-&gt;Host</p></td>
</tr>
<tr class="row-odd"><td><p>CMD 7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_INSERTED</span></code></p></td>
<td><p>NCP-&gt;Host</p></td>
</tr>
<tr class="row-even"><td><p>CMD 8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_REMOVED</span></code></p></td>
<td><p>NCP-&gt;Host</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="command-payload">
<h3>Command Payload<a class="headerlink" href="#command-payload" title="Permalink to this headline">¶</a></h3>
<p>The command payload is encoded based on specified encoding format as defined in
the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller Protocol</a>. The encoded format is assumed to be known
to both Host and NCP and hence is not transmitted over UART.</p>
</div>
<div class="section" id="spinel-properties">
<h3>Spinel Properties<a class="headerlink" href="#spinel-properties" title="Permalink to this headline">¶</a></h3>
<p>Properties are used to exchange information between the Host and the <a class="reference internal" href="references.html#term-NCP"><span class="xref std std-term">NCP</span></a>.
They are encoded either as basic types (uint16, EUI-64, IPv6 address etc..) or as
Array or structure of basic types. The basic types supported as defined in SPINEL
specification document is presented in the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller Protocol</a>
chapter 3.1 Primitive Types.</p>
<p>Each Property has the following specified:</p>
<ul class="simple">
<li><p><strong>Property Id</strong> - To uniquely identify the property (encoded as a packed
integer format that enables ID with value &lt; 127 to be sent as 1 byte while
using more bytes for higher values)</p></li>
<li><p><strong>Type</strong> - Read only, Write only, read-write, Insertable (adding value to an
array of parameters, e.g., adding EUI-64 to the list of MAC address to be
filtered)</p></li>
<li><p><strong>Encoding</strong> - Specifies how the property value will be encoded</p></li>
<li><p><strong>Required Capability</strong> - Supported by Router, Border Router or Any type of
devices</p></li>
<li><p><strong>Description</strong> - Specifies what the property represents and how it can be used.</p></li>
</ul>
</div>
<div class="section" id="ti-wi-sun-fan-nwp-properties">
<h3>TI Wi-SUN FAN NWP Properties<a class="headerlink" href="#ti-wi-sun-fan-nwp-properties" title="Permalink to this headline">¶</a></h3>
<p>The table lists all available properties in TI Wi-SUN FAN NWP.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 22%" />
<col style="width: 54%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property
Category</p></th>
<th class="head"><p>Property (ID)</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Role</p></th>
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CORE</p></td>
<td><p>PROP_PROTOCOL_VERSION (1)</p></td>
<td><p>Major and Minor version of the protocol.
Only supported value = 1.0.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“ii”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_NCP_VERSION (2)</p></td>
<td><p>Describes the firmware currently running on the NCP.</p>
<p>Returns stack name, version and build. Other info and build time.</p>
<p>&quot;TIWISUNFAN/1.0d26-25-gb684c7f; DEBUG; May 9 2016 18:22:04&quot;</p>
</td>
<td><p>BR and
RN</p></td>
<td><p>“U”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_INTERFACE_TYPE (3)</p></td>
<td><p>Identifies the network protocol for the NCP .
Will always return 4 (Wi-SUN FAN).</p></td>
<td><p>BR and
RN</p></td>
<td><p>“i”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_HWADDR (8)</p></td>
<td><p>Eight byte HW Address (EUI-64).</p></td>
<td><p>BR and
RN</p></td>
<td><p>“E”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td><p>PHY
generic</p></td>
<td><p>PROP_PHY_CCA_THRESHOLD (36)</p></td>
<td><p>Value will be rounded to the nearest supported value.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“c”
(int8)</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_TX_POWER (37)</p></td>
<td><p>PHY transmit power.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“c”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-even"><td><p>PHY
TI Wi-SUN
specific</p></td>
<td><p>PROP_PHY_REGION (80)</p></td>
<td><p>1 - NA, 2 - JP, 3 - EU, 7 - BZ.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”
(uint8)</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_MODE_ID (81)</p></td>
<td><p>Supported values: 1-7.
(If a PHY Mode Id is not supported for the chosen Region
a PROP_LAST_STATUS will be thrown with INVALID_PARAMETER)</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”
(uint8)</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_PHY_UNICAST_CHANNEL_LIST
(82)</p></td>
<td><p>Bit mask of max size 17 bytes (representing 129 channels).
Each bit represents if the channel is present or not.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“D”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_BROADCAST_CHANNEL_LIST (83)</p></td>
<td><p>Bit mask of max size 17 bytes (representing 129 channels).
Each bit represents if the channel is present or not.</p></td>
<td><p>BR</p></td>
<td><p>“D”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_PHY_ASYNC_CHANNEL_LIST (84)</p></td>
<td><p>Bit mask of max size 17 bytes (representing 129 channels).
Each bit represents if the channel is present or not.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“D”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_CH_SPACING (5376)</p></td>
<td><p>Channel spacing in MHz.
(If a channel spacing is not supported for the chosen Region/PhyModeId,
a PROP_LAST_STATUS will be thrown with INVALID_PARAMETER)</p></td>
<td><p>BR and
RN</p></td>
<td><p>“S”
(uint6)</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_PHY_CHO_CENTER_FREQ (5377)</p></td>
<td><p>Channel 0 center frequency structure with value {Ch0-MHz, Ch0-KHz}.
E.g. a ch0 center frequency of 902.2 MHz will be encoded as a
structure of {902,200}.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“t(SS)”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td><p>MAC
generic</p></td>
<td><p>PROP_MAC_15_4_PANID (54)</p></td>
<td><p>MAC PAN ID of the device. For Wi-SUN networks, this needs to be set
only on the BR. Router devices will select network based on Network
Name.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“S”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-even"><td><p>MAC
TI Wi-SUN
specific</p></td>
<td><p>PROP_MAC_UC_DWELL_INTERVAL (5462)</p></td>
<td><p>Unicast dwell interval (0 - 255 ms).</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_BC_DWELL_INTERVAL (5463)</p></td>
<td><p>Broadcast dwell interval (0 - 255 ms).</p></td>
<td><p>BR</p></td>
<td><p>“C”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_BC_INTERVAL (5464)</p></td>
<td><p>Broadcast interval (0 - 0xFFFFFF ms).</p></td>
<td><p>BR</p></td>
<td><p>“L”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_UC_CHANNEL_FUNCTION (5465)</p></td>
<td><p>0 - Fixed, 1 - Hopping based on DH1CF (other values are reserved).</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_BC_CHANNEL_FUNCTION (5466)</p></td>
<td><p>0 - Fixed, 1 - Hopping based on DH1CF (other values are reserved).</p></td>
<td><p>BR</p></td>
<td><p>“C”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_MAC_FILTER_LIST (5467)</p></td>
<td><p>When read, it provides an array of EUI Address.
CMD_VALUE_INSERTED return value of EUI-64 inserted
or “all zeros” to inform that operation failed.</p></td>
<td><p>BR and
RN</p></td>
<td><p>A(E)</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_FILTER_MODE (5468)</p></td>
<td><p>0 - Disabled, 1 - Whitelist, 2 - Blacklist</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
<tr class="row-odd"><td><p>NET
generic</p></td>
<td><p>PROP_NET_IF_UP (65)</p></td>
<td><p>Network interface up/down status. Non-zero (set to 1)
indicates up, zero indicates down.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“b”</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_NET_STACK_UP (66)</p></td>
<td><p>Wi-SUN stack operational status. Non-zero (set to 1)
indicates up, zero indicates down.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“b”</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_NET_ROLE (67)</p></td>
<td><p>Indicates router or border router role. 0 - Border Router, 1 - Router</p></td>
<td><p>BR and
RN</p></td>
<td><p>“C”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_NET_NETWORK_NAME (68)</p></td>
<td><p>UTF8 encoded string. Max size 32 bytes.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“U”</p></td>
<td><p>Read-write
SysConfig
or NWP.</p></td>
</tr>
<tr class="row-odd"><td><p>NET
TI Wi-SUN
specific</p></td>
<td><p>PROP_NET_STATE (91)</p></td>
<td><p>Router device join state:</p>
<ul class="simple">
<li><p>1: Scanning for Suitable Network,</p></li>
<li><p>2: Authentication In Progress,</p></li>
<li><p>3: Waiting for PAN Configuration</p></li>
<li><p>4: Routing layer - Parent Selection In Progress, Acquiring GUA IPv6 address through DHCPv6</p></li>
<li><p>5: Successfully Joined the Border router</p></li>
</ul>
</td>
<td><p>BR and
RN</p></td>
<td><p>“C”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>IPv6</p></td>
<td><p>PROP_DODAG_ROUTE_DEST (95)</p></td>
<td><p>In order to get the path of a destination from the border router, a route destination IPv6
address must exist.</p></td>
<td><p>BR</p></td>
<td><p>“6”</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
<tr class="row-odd"><td><p>PROP_DODAG_ROUTE (96)</p></td>
<td><p>Can be used by a border router host to read the entire path to a specific device in the
network. When using with CMD_VALUE_GET, specify the path cost as 0 and specify the target
device IP address.</p>
<p>Return: Array of IPv6 addresses that serve as the path to the device and the total path
cost. (First address is the BR address.) If no DODAG route exists, returns only the
target device address and path cost of 0.</p>
</td>
<td><p>BR</p></td>
<td><p>“SA(6)”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td><p>PROP_IPV6_ADDRESS_TABLE (99)</p></td>
<td><p>Array of structures containing:</p>
<ul class="simple">
<li><p>“6”: IPv6 Address</p></li>
<li><p>“C”: Network Prefix Length</p></li>
<li><p>“L”: Valid Lifetime</p></li>
<li><p>“L”: Preferred Lifetime</p></li>
<li><p>“C”: Flags</p></li>
</ul>
</td>
<td><p>BR and
RN</p></td>
<td><p>“A(t
(6CLLC)”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td><p>PROP_NUM_CONNECTED_DEVICES (101)</p></td>
<td><p>Returns the number of devices in the RPL tree associated with the BR.</p></td>
<td><p>BR</p></td>
<td><p>“S”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-even"><td><p>PROP_CONNECTED_DEVICES (102)</p></td>
<td><p>Returns a list of connected devices. See description below.</p></td>
<td><p>BR</p></td>
<td><p>“CA(6)”</p></td>
<td><p>Read-only</p></td>
</tr>
<tr class="row-odd"><td><p>Stream</p></td>
<td><p>PROP_STREAM_NET (114)</p></td>
<td><p>Received IPv6 Packet or IPv6 packet to be sent. Currently, only support for ping command.
See TI Wi-SUN FAN pyspinel host scripts to test this command.</p></td>
<td><p>BR and
RN</p></td>
<td><p>“dD”</p></td>
<td><p>Read-write
NWP only.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="prop-connected-devices">
<h4>PROP_CONNECTED_DEVICES<a class="headerlink" href="#prop-connected-devices" title="Permalink to this headline">¶</a></h4>
<p>To get the list of connected devices the HOST can issue a GET command to this
property.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">HOST</span><span class="p">:</span>  <span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_CONNECTED_DEVICES</span>
<span class="n">NCP</span><span class="p">:</span> <span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_CONNECTED_DEVICES</span><span class="p">:[</span><span class="n">BLOCK_ID</span> <span class="n">IPv6Address1</span> <span class="n">IPv6Address2</span> <span class="n">IPv6Address1</span> <span class="o">..</span><span class="n">TargetIPv6Address</span><span class="p">]</span>
</pre></div>
</div>
<p>In order to limit the max length of NCP messages, the BLOCK ID is used to keep
tabs of the addresses. (Each IPv6 address is 16 bytes.)</p>
<p>BLOCK ID has two possible values (MSB):</p>
<ul class="simple">
<li><p>0: Last block</p></li>
<li><p>1: Not last block. (Resend the PROP_CONNECTED_DEVICES command to get the next block.)</p></li>
</ul>
<div class="figure align-center" id="id4">
<img alt="../_images/prop_connected_devices_example.png" src="../_images/prop_connected_devices_example.png" />
<p class="caption"><span class="caption-number">Figure 26. </span><span class="caption-text">Request blocks until last block has been sent.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
<div class="section" id="example-sessions">
<h2>Example Sessions<a class="headerlink" href="#example-sessions" title="Permalink to this headline">¶</a></h2>
<p>Refer to README.md in the <a class="reference external" href="https://github.com/TexasInstruments/ti-wisunfan-pyspinel">TI Wi-SUN FAN pySpinel GitHub repo</a> for a
walk-through of commands provided to be run on the host. These pyspinel commands
get translated to spinel commands and properties described in this document, to
facilitate host NWP communication.</p>
<div class="section" id="init-sequence">
<h3>Init Sequence<a class="headerlink" href="#init-sequence" title="Permalink to this headline">¶</a></h3>
<p>The initialization sequence with Wi-SUN stack NCP is referenced from the
“Attaching to a network” sequence (Section C.2) of the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller
Protocol</a> . We make the assumption that the NCP is not currently associated
with a network. (If there is a need to clear up network information in the NV area, refer to <a class="reference internal" href="#sec-wisun-erase-nv"><span class="std std-ref">2. Erasing the NV</span></a>)</p>
<div class="section" id="ncp-initialization">
<h4>1. NCP Initialization<a class="headerlink" href="#ncp-initialization" title="Permalink to this headline">¶</a></h4>
<p>Check the protocol version to see whether it’s supported. Expected return is 1.0.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_PROTOCOL_VERSION</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_PROTOCOL_VERSION</span>
</pre></div>
</div>
</div></blockquote>
<p>Check the NCP version to see if a firmware update may be necessary:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_NCP_VERSION</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_NCP_VERSION</span>
</pre></div>
</div>
</div></blockquote>
<p>Check interface type to make sure that it is what we expect. Expected return is 4.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_INTERFACE_TYPE</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_INTERFACE_TYPE</span>
</pre></div>
</div>
</div></blockquote>
<p>Read the HW address of the device:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_HWADDR</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_HWADDR</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="erasing-the-nv">
<span id="sec-wisun-erase-nv"></span><h4>2. Erasing the NV<a class="headerlink" href="#erasing-the-nv" title="Permalink to this headline">¶</a></h4>
<p>NV is used to store security related information like different keys and network
information. If there is a need to clear up the NV before the device joins the
network for a fresh start, <code class="docutils literal notranslate"><span class="pre">CMD_NV_ERASE</span></code> from host to NCP can be issued.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">CMD_NV_ERASE</span></code> will only clear the NV content and not the
router/border router image. To achieve this, do a mass erase of internal flash
then flash the image again.</p>
</div>
<div class="section" id="setting-the-network-properties">
<h4>3. Setting the network properties<a class="headerlink" href="#setting-the-network-properties" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For TI Wi-SUN stacks running as NCP, SysConfig can be used to set certain
network parameters before compiling the router and Border router images.
Some properties, as shown in the sequence below, can be set to a different
value through NWP interface if needed, before bringing up the Wi-SUN stack
interface and Wi-SUN stack up. Some properties can only be set through NWP
interface.</p>
</div>
<p>If a different configuration than given in SysConfig is used, network properties
can be set with the following commands:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_GET</span><span class="p">:</span><span class="n">PROP_XYZ</span>
<span class="n">CMD_VALUE_SET</span><span class="p">:</span><span class="n">PROP_XYZ</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_XYZ</span><span class="p">:</span><span class="n">TRUE</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">PROP_XYZ</span></code> can be replaced with one of the properties in
<a class="reference internal" href="#table-wisun-prop"><span class="std std-numref">Table 4.</span></a>. Please note that properties need to be set before
the network interface is started (<code class="docutils literal notranslate"><span class="pre">PROP_NET_IF_UP</span></code>).</p>
<span id="table-wisun-prop"></span><table class="docutils align-default" id="id5">
<caption><span class="caption-number">Table 4. </span><span class="caption-text">Properties that can be set with <code class="docutils literal notranslate"><span class="pre">CMD_VALUE_SET</span></code>.</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 19%" />
<col style="width: 27%" />
<col style="width: 41%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property Category</p></th>
<th class="head"><p>Property</p></th>
<th class="head"><p>Configuration mode</p></th>
<th class="head"><p>Role</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PHY - generic</p></td>
<td><p>PROP_PHY_CCA_THRESHOLD</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_TX_POWER</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-even"><td><p>PHY - Wi-SUN specific</p></td>
<td><p>PROP_PHY_UNICAST_CHANNEL_LIST</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_PHY_BROADCAST_CHANNEL_LIST</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_PHY_ASYNC_CHANNEL_LIST</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-odd"><td><p>MAC - generic</p></td>
<td><p>PROP_MAC_15_4_PANID</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR</p></td>
</tr>
<tr class="row-even"><td><p>MAC - Wi-SUN specific</p></td>
<td><p>PROP_MAC_UC_DWELL_INTERVAL</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_BC_DWELL_INTERVAL</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_BC_INTERVAL</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_UC_CHANNEL_FUNCTION</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_BC_CHANNEL_FUNCTION</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PROP_MAC_MAC_FILTER_LIST</p></td>
<td><p>NWP interface only</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PROP_MAC_FILTER_MODE</p></td>
<td><p>NWP interface only</p></td>
<td><p>BR and RN</p></td>
</tr>
<tr class="row-odd"><td><p>Net</p></td>
<td><p>PROP_NET_NETWORK_NAME</p></td>
<td><p>SysConfig or NWP interface during initialization</p></td>
<td><p>BR and RN</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bring-the-wi-sun-network-interface-up">
<h4>4. Bring the Wi-SUN (network) interface up<a class="headerlink" href="#bring-the-wi-sun-network-interface-up" title="Permalink to this headline">¶</a></h4>
<p>This process is common for BR and RN and must be done on all devices.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_SET</span><span class="p">:</span><span class="n">PROP_NET_IF_UP</span><span class="p">:</span><span class="n">TRUE</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_NET_IF_UP</span><span class="p">:</span><span class="n">TRUE</span>
</pre></div>
</div>
</div>
<div class="section" id="bring-the-wi-sun-stack-up">
<h4>5. Bring the Wi-SUN stack up<a class="headerlink" href="#bring-the-wi-sun-stack-up" title="Permalink to this headline">¶</a></h4>
<p>This process is common for BR and RN and must be done on all devices.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_SET</span><span class="p">:</span><span class="n">PROP_NET_STACK_UP</span><span class="p">:</span><span class="n">TRUE</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_NET_STACK_UP</span><span class="p">:</span><span class="n">TRUE</span>
</pre></div>
</div>
<p>On a RN device, getting an immediate response of True means the NCP received the
command and is in the process of connecting to the border router. You can follow
the <code class="docutils literal notranslate"><span class="pre">PROP_NET_STATE</span></code> value to get an indication of the connection process.</p>
</div>
<div class="section" id="accessing-the-globally-unique-dhcp-address-and-link-local-ipv6-address">
<h4>6. Accessing the globally unique DHCP address and link local IPv6 address<a class="headerlink" href="#accessing-the-globally-unique-dhcp-address-and-link-local-ipv6-address" title="Permalink to this headline">¶</a></h4>
<p>Prompt the NCP to send information of the IPv6 addresses to the host. Subsequently
the pySpinel host script parses the information and displays the same.</p>
<p>More information about this command is found in the README.md in the <a class="reference external" href="https://github.com/TexasInstruments/ti-wisunfan-pyspinel">TI Wi-SUN
FAN pySpinel GitHub repo</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_SET</span><span class="p">:</span><span class="n">PROP_IPV6_ADDRESS_TABLE</span><span class="p">:</span><span class="n">TRUE</span>
</pre></div>
</div>
</div>
<div class="section" id="pinging-a-device-in-the-network">
<h4>7. Pinging a device in the network<a class="headerlink" href="#pinging-a-device-in-the-network" title="Permalink to this headline">¶</a></h4>
<p>Once the network is established we can send a ping.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CMD_VALUE_SET</span><span class="p">:</span><span class="n">PROP_STREAM_NET</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_STREAM_NET</span><span class="p">:</span><span class="n">TRUE</span>
<span class="n">CMD_VALUE_IS</span><span class="p">:</span><span class="n">PROP_STREAM_NET</span>
</pre></div>
</div>
<p>If the received command has the fail status, the device is not yet ready.</p>
</div>
</div>
</div>
<div class="section" id="ti-wi-sun-fan-nwp-vs-spinel">
<span id="sec-wisun-spinel-differences"></span><h2>TI Wi-SUN FAN NWP vs. Spinel<a class="headerlink" href="#ti-wi-sun-fan-nwp-vs-spinel" title="Permalink to this headline">¶</a></h2>
<p>The specification is based on the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller Protocol</a> with the
following changes.</p>
<p>Notations used:</p>
<ul class="simple">
<li><p>Normative, implies that the specification is used as such</p></li>
<li><p>Modified, implies section has been modifies for use in TI Wi-SUN FAN</p></li>
<li><p>Not relevant, implies that the section is not relevant for TI Wi-SUN FAN</p></li>
<li><p>New, newly introduced for TI Wi-SUN FAN</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 64%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Section No</p></th>
<th class="head"><p>Section Name</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Introduction</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Frame Format</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Data Packing</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Commands</p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-even"><td><p>4.1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_NOOP</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>4.2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_RESET</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>4.3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_GET</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>4.4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_SET</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>4.5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_INSERT</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>4.6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_REMOVE</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>4.7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_IS</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>4.8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_INSERTED</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>4.9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_VALUE_REMOVED</span></code></p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">CMD_NV_ERASE</span></code></p></td>
<td><p>New</p></td>
</tr>
<tr class="row-even"><td><p>4.10-4.15</p></td>
<td><p>CMD 18-23</p></td>
<td><p>Not relevant</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Properties</p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-even"><td><p>5.1</p></td>
<td><p>Property Methods</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>5.2</p></td>
<td><p>Property Types</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>5.3</p></td>
<td><p><a class="reference internal" href="#sec-wisun-property-numbering"><span class="std std-ref">Property Numbering</span></a></p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-odd"><td><p>5.4</p></td>
<td><p><a class="reference internal" href="#sec-wisun-property-sections"><span class="std std-ref">Property Sections</span></a></p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-even"><td><p>5.5-5.11</p></td>
<td><p>Properties</p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Status Codes</p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-even"><td><p>7-13</p></td>
<td><p>Technology: Thread - Security Considerations</p></td>
<td><p>Not relevant</p></td>
</tr>
<tr class="row-odd"><td><p>Appendix A</p></td>
<td><p>Framing Protocol</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>Appendix B</p></td>
<td><p>Test Vectors</p></td>
<td><p>Modified</p></td>
</tr>
<tr class="row-odd"><td><p>B.1</p></td>
<td><p>Test Vector: Packet Unsigned Integer</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>B.2</p></td>
<td><p>Test Vector: Reset Command</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>B.3</p></td>
<td><p>Test Vector: Reset Notification</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-even"><td><p>B.4-B.12</p></td>
<td><p>Other Test Vectors</p></td>
<td><p>Not relevant</p></td>
</tr>
<tr class="row-odd"><td><p>Appendix C</p></td>
<td><p>Example Sessions</p></td>
<td><p>Not relevant</p></td>
</tr>
<tr class="row-even"><td><p>Appendix D</p></td>
<td><p>Glossary</p></td>
<td><p>Normative</p></td>
</tr>
<tr class="row-odd"><td><p>Appendix E</p></td>
<td><p>Acknowledgments</p></td>
<td><p>Normative</p></td>
</tr>
</tbody>
</table>
<div class="section" id="property-numbering">
<span id="sec-wisun-property-numbering"></span><h3>Property Numbering<a class="headerlink" href="#property-numbering" title="Permalink to this headline">¶</a></h3>
<p>The property numbering Strategy used is based on current defined property
numbering as per the <a class="reference external" href="https://datatracker.ietf.org/doc/html/draft-rquattle-spinel-unified-00">Spinel Host-Controller Protocol</a>. Properties that are
common with Wi-SUN are reused with the same numbering. Additional properties
specific to Wi-SUN or Modified to suit needs to TI Wi-SUN FAN solution have been
assigned numbers from the Technology Specific section. This means that all Thread
technology specific parameters defined in specification will not be valid for
Wi-SUN and will be replaced to those corresponding to Wi-SUN FAN.</p>
</div>
<div class="section" id="property-sections">
<span id="sec-wisun-property-sections"></span><h3>Property Sections<a class="headerlink" href="#property-sections" title="Permalink to this headline">¶</a></h3>
<p>All core property sections are retained and the technology specific section are
reallocated to Wi-SUN as defined below. The Primary range is allocated to more
frequently needed parameters to save bytes transferred through UART in accordance
with the Spinel specification.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../wisun-stack/networklayer.html" class="btn btn-neutral float-left" title="EAPOL Layer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="example-applications.html" class="btn btn-neutral float-right" title="Example Application Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>