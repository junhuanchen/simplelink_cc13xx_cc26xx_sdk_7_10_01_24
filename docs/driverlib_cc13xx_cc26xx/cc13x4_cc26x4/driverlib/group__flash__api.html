<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>CC26xx Driver Library: [flash.h] Flash</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC26xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__flash__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">[flash.h] Flash<div class="ingroups"><a class="el" href="group__system__control__group.html">System Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa1d1b6c1345a8c66a505cd7321b8588c"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a> (void)</td></tr>
<tr class="memdesc:gaa1d1b6c1345a8c66a505cd7321b8588c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of a flash sector in number of bytes.  <a href="#gaa1d1b6c1345a8c66a505cd7321b8588c">More...</a><br /></td></tr>
<tr class="separator:gaa1d1b6c1345a8c66a505cd7321b8588c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47a87d4753facd8d55e0d0e542e5d518"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a> (void)</td></tr>
<tr class="memdesc:ga47a87d4753facd8d55e0d0e542e5d518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the flash.  <a href="#ga47a87d4753facd8d55e0d0e542e5d518">More...</a><br /></td></tr>
<tr class="separator:ga47a87d4753facd8d55e0d0e542e5d518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91b9b5c21521dffa9a296aff60d6d61a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a">FlashPowerModeSet</a> (uint32_t ui32PowerMode, uint32_t ui32BankGracePeriod, uint32_t ui32PumpGracePeriod)</td></tr>
<tr class="memdesc:ga91b9b5c21521dffa9a296aff60d6d61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set power mode.  <a href="#ga91b9b5c21521dffa9a296aff60d6d61a">More...</a><br /></td></tr>
<tr class="separator:ga91b9b5c21521dffa9a296aff60d6d61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4723ad9993c19b938240f374fbb362e3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3">FlashPowerModeGet</a> (void)</td></tr>
<tr class="memdesc:ga4723ad9993c19b938240f374fbb362e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current configured power mode.  <a href="#ga4723ad9993c19b938240f374fbb362e3">More...</a><br /></td></tr>
<tr class="separator:ga4723ad9993c19b938240f374fbb362e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38e87a3a78cd05dec83c404ff0ccc0c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2">FlashProtectionSet</a> (uint32_t ui32SectorAddress, uint32_t ui32ProtectMode)</td></tr>
<tr class="memdesc:ga38e87a3a78cd05dec83c404ff0ccc0c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set sector protection.  <a href="#ga38e87a3a78cd05dec83c404ff0ccc0c2">More...</a><br /></td></tr>
<tr class="separator:ga38e87a3a78cd05dec83c404ff0ccc0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca0d39806f2d9bec6a341712d242647d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet</a> (uint32_t ui32SectorAddress)</td></tr>
<tr class="memdesc:gaca0d39806f2d9bec6a341712d242647d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sector protection.  <a href="#gaca0d39806f2d9bec6a341712d242647d">More...</a><br /></td></tr>
<tr class="separator:gaca0d39806f2d9bec6a341712d242647d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6ceb528432984b641ee26078e088675"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave</a> (uint32_t ui32SectorAddress)</td></tr>
<tr class="memdesc:gae6ceb528432984b641ee26078e088675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save sector protection to make it permanent.  <a href="#gae6ceb528432984b641ee26078e088675">More...</a><br /></td></tr>
<tr class="separator:gae6ceb528432984b641ee26078e088675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb317aef819e9cf87004c01bae348e3a"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a> (void)</td></tr>
<tr class="memdesc:gabb317aef819e9cf87004c01bae348e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the Flash state machine has detected an error.  <a href="#gabb317aef819e9cf87004c01bae348e3a">More...</a><br /></td></tr>
<tr class="separator:gabb317aef819e9cf87004c01bae348e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6b1508684423627208260179b41cc29"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a> (void)</td></tr>
<tr class="memdesc:gae6b1508684423627208260179b41cc29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the Flash state machine is ready.  <a href="#gae6b1508684423627208260179b41cc29">More...</a><br /></td></tr>
<tr class="separator:gae6b1508684423627208260179b41cc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74bdcd6572e86f9994bd8dfa40bb5391"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga74bdcd6572e86f9994bd8dfa40bb5391">FlashIntRegister</a> (void(*pfnHandler)(void))</td></tr>
<tr class="memdesc:ga74bdcd6572e86f9994bd8dfa40bb5391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an interrupt handler for the flash interrupt in the dynamic interrupt table.  <a href="#ga74bdcd6572e86f9994bd8dfa40bb5391">More...</a><br /></td></tr>
<tr class="separator:ga74bdcd6572e86f9994bd8dfa40bb5391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08e4f26916855879bd89ae0f10fe57fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga08e4f26916855879bd89ae0f10fe57fb">FlashIntUnregister</a> (void)</td></tr>
<tr class="memdesc:ga08e4f26916855879bd89ae0f10fe57fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters the interrupt handler for the flash interrupt in the dynamic interrupt table.  <a href="#ga08e4f26916855879bd89ae0f10fe57fb">More...</a><br /></td></tr>
<tr class="separator:ga08e4f26916855879bd89ae0f10fe57fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79633db6b99c70206ff1ee614acb4223"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga79633db6b99c70206ff1ee614acb4223">FlashIntEnable</a> (uint32_t ui32IntFlags)</td></tr>
<tr class="memdesc:ga79633db6b99c70206ff1ee614acb4223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables flash controller interrupt sources.  <a href="#ga79633db6b99c70206ff1ee614acb4223">More...</a><br /></td></tr>
<tr class="separator:ga79633db6b99c70206ff1ee614acb4223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf92a537fd38ec2943dc3a726111a4eac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gaf92a537fd38ec2943dc3a726111a4eac">FlashIntDisable</a> (uint32_t ui32IntFlags)</td></tr>
<tr class="memdesc:gaf92a537fd38ec2943dc3a726111a4eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables individual flash controller interrupt sources.  <a href="#gaf92a537fd38ec2943dc3a726111a4eac">More...</a><br /></td></tr>
<tr class="separator:gaf92a537fd38ec2943dc3a726111a4eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e630f086cb373a656582a2c2738443b"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga8e630f086cb373a656582a2c2738443b">FlashIntStatus</a> (void)</td></tr>
<tr class="memdesc:ga8e630f086cb373a656582a2c2738443b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current interrupt status.  <a href="#ga8e630f086cb373a656582a2c2738443b">More...</a><br /></td></tr>
<tr class="separator:ga8e630f086cb373a656582a2c2738443b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dd9c64a60e5645a50507d831279f85d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear</a> (uint32_t ui32IntFlags)</td></tr>
<tr class="memdesc:ga6dd9c64a60e5645a50507d831279f85d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears flash controller interrupt source.  <a href="#ga6dd9c64a60e5645a50507d831279f85d">More...</a><br /></td></tr>
<tr class="separator:ga6dd9c64a60e5645a50507d831279f85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace3e1af81dafa8192dc1cd583d246ce9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase</a> (uint32_t ui32SectorAddress)</td></tr>
<tr class="memdesc:gace3e1af81dafa8192dc1cd583d246ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase a flash sector.  <a href="#gace3e1af81dafa8192dc1cd583d246ce9">More...</a><br /></td></tr>
<tr class="separator:gace3e1af81dafa8192dc1cd583d246ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d891d79df6dbba0288b15a8c30c1331"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram</a> (uint8_t *pui8DataBuffer, uint32_t ui32Address, uint32_t ui32Count)</td></tr>
<tr class="memdesc:ga0d891d79df6dbba0288b15a8c30c1331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Programs unprotected flash sectors in the main bank.  <a href="#ga0d891d79df6dbba0288b15a8c30c1331">More...</a><br /></td></tr>
<tr class="separator:ga0d891d79df6dbba0288b15a8c30c1331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1138abe16257199fbacb5822542919e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X</a> (uint8_t *pui8DataBuffer, uint32_t ui32Address, uint32_t ui32Count)</td></tr>
<tr class="separator:gad1138abe16257199fbacb5822542919e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab26816f75d67b77c1c37acf0e58b1c25"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gab26816f75d67b77c1c37acf0e58b1c25">FlashProgramNowait</a> (uint32_t ui32StartAddress, uint8_t *pui8DataBuffer, uint8_t ui8NoOfBytes)</td></tr>
<tr class="memdesc:gab26816f75d67b77c1c37acf0e58b1c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts programming within unprotected main bank flash sector and returns.  <a href="#gab26816f75d67b77c1c37acf0e58b1c25">More...</a><br /></td></tr>
<tr class="separator:gab26816f75d67b77c1c37acf0e58b1c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacecbeef915333831a97d054df9e8fc40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#gacecbeef915333831a97d054df9e8fc40">FlashEfuseReadRow</a> (uint32_t *pui32EfuseData, uint32_t ui32RowAddress)</td></tr>
<tr class="memdesc:gacecbeef915333831a97d054df9e8fc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads efuse data from specified row.  <a href="#gacecbeef915333831a97d054df9e8fc40">More...</a><br /></td></tr>
<tr class="separator:gacecbeef915333831a97d054df9e8fc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09fccd53e3a5c8eb359618faa2c837cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga09fccd53e3a5c8eb359618faa2c837cf">FlashDisableSectorsForWrite</a> (void)</td></tr>
<tr class="memdesc:ga09fccd53e3a5c8eb359618faa2c837cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables all sectors for erase and programming on the active bank.  <a href="#ga09fccd53e3a5c8eb359618faa2c837cf">More...</a><br /></td></tr>
<tr class="separator:ga09fccd53e3a5c8eb359618faa2c837cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga74317d740c4f9d1fd97657e624cb16d2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a> { <br />
&#160;&#160;<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a> = 0x0021, 
<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a> = 0x0011, 
<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a> = 0x0001, 
<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d">FAPI_ERASE_SECTOR</a> = 0x0042, 
<br />
&#160;&#160;<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a5e5cc34b5c3f813e07209b74ab347c5a">FAPI_ERASE_BANK</a> = 0x0052, 
<a class="el" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a> = 0x0005
<br />
 }<tr class="memdesc:ga74317d740c4f9d1fd97657e624cb16d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defined values for Flash State Machine commands.  <a href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga74317d740c4f9d1fd97657e624cb16d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabb317aef819e9cf87004c01bae348e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb317aef819e9cf87004c01bae348e3a">&sect;&nbsp;</a></span>FlashCheckFsmForError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t FlashCheckFsmForError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the Flash state machine has detected an error. </p>
<p>This function returns the status of the Flash State Machine indicating if an error is detected or not. Primary use is to check if an Erase or Program operation has failed.</p>
<dl class="section note"><dt>Note</dt><dd>Please note that code can not execute in flash while any part of the flash is being programmed or erased. This function must be called from ROM or SRAM while any part of the flash is being programmed or erased.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns status of Flash state machine:<ul>
<li><a class="el" href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a></li>
<li><a class="el" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span>(HWREG(NVMNW_BASE + NVMNW_O_STATCMD) &amp; NVMNW_STATCMD_CMDPASS_M)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="ttc" id="group__flash__api_html_ga2873808d6fc3c3627b7b882f5d8416d9"><div class="ttname"><a href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a></div><div class="ttdeci">#define FAPI_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> flash.h:104</div></div>
<div class="ttc" id="group__flash__api_html_ga58b3728c010c8de7007a1a625c61b5e4"><div class="ttname"><a href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:109</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae6b1508684423627208260179b41cc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6b1508684423627208260179b41cc29">&sect;&nbsp;</a></span>FlashCheckFsmForReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t FlashCheckFsmForReady </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the Flash state machine is ready. </p>
<p>This function returns the status of the Flash State Machine indicating if it is ready to accept a new command or not. Primary use is to check if an Erase or Program operation has finished.</p>
<dl class="section note"><dt>Note</dt><dd>Please note that code can not execute in flash while any part of the flash is being programmed or erased. This function must be called from ROM or SRAMh while any part of the flash is being programmed or erased.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns readiness status of Flash state machine:<ul>
<li><a class="el" href="group__flash__api.html#ga6dc7f17a0e39cb30c6b27926ae88e2a6">FAPI_STATUS_FSM_READY</a></li>
<li><a class="el" href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a> </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span>(HWREG(NVMNW_BASE + NVMNW_O_STATCMD) &amp; NVMNW_STATCMD_CMDDONE_M)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="group__flash__api.html#ga6dc7f17a0e39cb30c6b27926ae88e2a6">FAPI_STATUS_FSM_READY</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a>);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div><div class="ttc" id="group__flash__api_html_ga6dc7f17a0e39cb30c6b27926ae88e2a6"><div class="ttname"><a href="group__flash__api.html#ga6dc7f17a0e39cb30c6b27926ae88e2a6">FAPI_STATUS_FSM_READY</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_READY</div><div class="ttdef"><b>Definition:</b> flash.h:106</div></div>
<div class="ttc" id="group__flash__api_html_gac803ba38608b907c9a37edbaea6f60d5"><div class="ttname"><a href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_BUSY</div><div class="ttdef"><b>Definition:</b> flash.h:105</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga09fccd53e3a5c8eb359618faa2c837cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09fccd53e3a5c8eb359618faa2c837cf">&sect;&nbsp;</a></span>FlashDisableSectorsForWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashDisableSectorsForWrite </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables all sectors for erase and programming on the active bank. </p>
<p>This function is depreciated</p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>.</p>
<div class="fragment"><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;{</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// depreciated</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="gacecbeef915333831a97d054df9e8fc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacecbeef915333831a97d054df9e8fc40">&sect;&nbsp;</a></span>FlashEfuseReadRow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FlashEfuseReadRow </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32EfuseData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32RowAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads efuse data from specified row. </p>
<p>This function will read one efuse row. It is assumed that any previous efuse operation has finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32EfuseData</td><td>is pointer to variable to be updated with efuse data. </td></tr>
    <tr><td class="paramname">ui32RowAddress</td><td>is the efuse row number to be read. First row is row number 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the efuse read operation.<ul>
<li><code>false</code> : OK status.</li>
<li><code>true</code> : Error status </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>.</p>
<div class="fragment"><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;{</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordtype">bool</span> bStatus;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="comment">// Make sure the clock for the efuse is enabled</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    HWREG(FLASH_BASE + FLASH_O_CFG) &amp;= ~FLASH_CFG_DIS_EFUSECLK;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">// Set timing for EFUSE read operations.</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    HWREG(FLASH_BASE + FLASH_O_EFUSEREAD) |= ((5 &lt;&lt; FLASH_EFUSEREAD_READCLOCK_S) &amp;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            FLASH_EFUSEREAD_READCLOCK_M);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">// Clear status register.</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    HWREG(FLASH_BASE + FLASH_O_EFUSEERROR) = 0;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="comment">// Select the FuseROM block 0.</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    HWREG(FLASH_BASE + FLASH_O_EFUSEADDR) = 0x00000000;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="comment">// Start the read operation.</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    HWREG(FLASH_BASE + FLASH_O_EFUSE) =</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        (<a class="code" href="group__flash__api.html#ga6d8daca18c4c60e1b0121564562452d1">DUMPWORD_INSTR</a> &lt;&lt; FLASH_EFUSE_INSTRUCTION_S) |</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        (ui32RowAddress &amp; FLASH_EFUSE_DUMPWORD_M);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// Wait for operation to finish.</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">while</span>(!(HWREG(FLASH_BASE + FLASH_O_EFUSEERROR) &amp; FLASH_EFUSEERROR_DONE))</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">// Check if error reported.</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span>(HWREG(FLASH_BASE + FLASH_O_EFUSEERROR) &amp; FLASH_EFUSEERROR_CODE_M)</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="comment">// Set error status.</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        bStatus = 1;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="comment">// Clear data.</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        *pui32EfuseData = 0;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="comment">// Set ok status.</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        bStatus = 0;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="comment">// No error. Get data from data register.</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        *pui32EfuseData = HWREG(FLASH_BASE + FLASH_O_DATALOWER);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">// Disable the efuse clock to conserve power</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    HWREG(FLASH_BASE + FLASH_O_CFG) |= FLASH_CFG_DIS_EFUSECLK;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">// Return the data.</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">return</span>(bStatus);</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div><div class="ttc" id="group__flash__api_html_ga6d8daca18c4c60e1b0121564562452d1"><div class="ttname"><a href="group__flash__api.html#ga6d8daca18c4c60e1b0121564562452d1">DUMPWORD_INSTR</a></div><div class="ttdeci">#define DUMPWORD_INSTR</div><div class="ttdef"><b>Definition:</b> flash.h:214</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga6dd9c64a60e5645a50507d831279f85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6dd9c64a60e5645a50507d831279f85d">&sect;&nbsp;</a></span>FlashIntClear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FlashIntClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IntFlags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears flash controller interrupt source. </p>
<p>The flash controller interrupt source is cleared, so that it no longer asserts. This must be done in the interrupt handler to keep it from being called again immediately upon exit.</p>
<dl class="section note"><dt>Note</dt><dd>Due to write buffers and synchronizers in the system it may take several clock cycles from a register write clearing an event in a module and until the event is actually cleared in the NVIC of the system CPU. It is recommended to clear the event source early in the interrupt service routine (ISR) to allow the event clear to propagate to the NVIC before returning from the ISR. At the same time, an early event clear allows new events of the same type to be pended instead of ignored if the event is cleared later in the ISR. It is the responsibility of the programmer to make sure that enough time has passed before returning from the ISR to avoid false re-triggering of the cleared event. A simple, although not necessarily optimal, way of clearing an event before returning from the ISR is:<ol type="1">
<li>Write to clear event (interrupt source). (buffered write)</li>
<li>Dummy read from the event source module. (making sure the write has propagated)</li>
<li>Wait two system CPU clock cycles (user code or two NOPs). (allowing cleared event to propagate through any synchronizers)</li>
</ol>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32IntFlags</td><td>is the bit mask of the interrupt sources to be cleared. Can be any of:<ul>
<li><a class="el" href="group__flash__api.html#ga201d0825606d7729926f2b097d2530fd">FLASH_INT_FSM_DONE</a></li>
<li><a class="el" href="group__flash__api.html#gabaa640ffb2859dfdfed0d0670842539d">FLASH_INT_RV</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    HWREG(NVMNW_BASE  + NVMNW_O_ICLR) = NVMNW_ICLR_DONE_CLR;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div></div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga6dd9c64a60e5645a50507d831279f85d_cgraph.png" border="0" usemap="#group__flash__api_ga6dd9c64a60e5645a50507d831279f85d_cgraph" alt=""/></div>
<map name="group__flash__api_ga6dd9c64a60e5645a50507d831279f85d_cgraph" id="group__flash__api_ga6dd9c64a60e5645a50507d831279f85d_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9" title="Erase a flash sector. " alt="" coords="199,432,333,459"/>
<area shape="rect" id="node10" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331" title="Programs unprotected flash sectors in the main bank. " alt="" coords="795,432,907,459"/>
<area shape="rect" id="node16" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e" title="FlashProgram4X" alt="" coords="201,686,331,712"/>
<area shape="rect" id="node17" href="group__flash__api.html#gab26816f75d67b77c1c37acf0e58b1c25" title="Starts programming within unprotected main bank flash sector and returns. " alt="" coords="187,736,345,763"/>
<area shape="rect" id="node18" href="group__flash__api.html#gacecbeef915333831a97d054df9e8fc40" title="Reads efuse data from specified row. " alt="" coords="189,787,343,814"/>
<area shape="rect" id="node19" href="group__flash__api.html#ga09fccd53e3a5c8eb359618faa2c837cf" title="Disables all sectors for erase and programming on the active bank. " alt="" coords="161,838,371,864"/>
<area shape="rect" id="node3" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="1012,230,1160,256"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518" title="Get the size of the flash. " alt="" coords="419,230,525,256"/>
<area shape="rect" id="node11" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="1011,382,1161,408"/>
<area shape="rect" id="node14" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="993,534,1179,560"/>
<area shape="rect" id="node15" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="998,584,1174,611"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="574,78,729,104"/>
<area shape="rect" id="node6" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="573,128,729,155"/>
<area shape="rect" id="node7" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="779,179,923,206"/>
<area shape="rect" id="node8" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="777,230,924,256"/>
<area shape="rect" id="node9" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675" title="Save sector protection to make it permanent. " alt="" coords="574,280,729,307"/>
<area shape="rect" id="node12" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="972,432,1200,459"/>
<area shape="rect" id="node13" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="975,483,1197,510"/>
</map>
</div>

</div>
</div>
<a id="gaf92a537fd38ec2943dc3a726111a4eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf92a537fd38ec2943dc3a726111a4eac">&sect;&nbsp;</a></span>FlashIntDisable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FlashIntDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IntFlags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables individual flash controller interrupt sources. </p>
<p>This function disables the flash controller interrupt sources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32IntFlags</td><td>is the bit mask of the interrupt sources to be disabled. The parameter is the bitwise OR of any of the following:<ul>
<li><a class="el" href="group__flash__api.html#ga201d0825606d7729926f2b097d2530fd">FLASH_INT_FSM_DONE</a> : FSM Done interrupt.</li>
<li><a class="el" href="group__flash__api.html#gabaa640ffb2859dfdfed0d0670842539d">FLASH_INT_RV</a> : Read verify error interrupt.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    HWREG(NVMNW_BASE  + NVMNW_O_IMASK) = NVMNW_IMASK_DONE_DISABLED;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ga79633db6b99c70206ff1ee614acb4223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79633db6b99c70206ff1ee614acb4223">&sect;&nbsp;</a></span>FlashIntEnable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FlashIntEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IntFlags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enables flash controller interrupt sources. </p>
<p>This function enables the flash controller interrupt sources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32IntFlags</td><td>is the bit mask of the interrupt sources to be enabled. The parameter is the bitwise OR of any of the following:<ul>
<li><a class="el" href="group__flash__api.html#ga201d0825606d7729926f2b097d2530fd">FLASH_INT_FSM_DONE</a> : FSM Done interrupt.</li>
<li><a class="el" href="group__flash__api.html#gabaa640ffb2859dfdfed0d0670842539d">FLASH_INT_RV</a> : Read verify error interrupt.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    HWREG(NVMNW_BASE  + NVMNW_O_IMASK) = NVMNW_IMASK_DONE_ENABLED;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ga74bdcd6572e86f9994bd8dfa40bb5391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74bdcd6572e86f9994bd8dfa40bb5391">&sect;&nbsp;</a></span>FlashIntRegister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FlashIntRegister </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>pfnHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers an interrupt handler for the flash interrupt in the dynamic interrupt table. </p>
<dl class="section note"><dt>Note</dt><dd>Only use this function if you want to use the dynamic vector table (in SRAM)!</dd></dl>
<p>This function registers a function as the interrupt handler for a specific interrupt and enables the corresponding interrupt in the interrupt controller.</p>
<p>Specific FLASH interrupts must be enabled via <a class="el" href="group__flash__api.html#ga79633db6b99c70206ff1ee614acb4223">FlashIntEnable()</a>. It is the interrupt handler's responsibility to clear the interrupt source.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pfnHandler</td><td>is a pointer to the function to be called when the flash interrupt occurs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers. </dd></dl>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;{</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// Register the interrupt handler.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a>(INT_FLASH, pfnHandler);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// Enable the flash interrupt.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a>(INT_FLASH);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="ttc" id="group__interrupt__api_html_ga0a32aafea7f4904d2a64ee18b45f96c9"><div class="ttname"><a href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a></div><div class="ttdeci">void IntRegister(uint32_t ui32Interrupt, void(*pfnHandler)(void))</div><div class="ttdoc">Registers a function as an interrupt handler in the dynamic vector table. </div><div class="ttdef"><b>Definition:</b> interrupt.c:151</div></div>
<div class="ttc" id="group__interrupt__api_html_ga49fc9c3d1a0f8c42a20249f8c5d360ce"><div class="ttname"><a href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a></div><div class="ttdeci">void IntEnable(uint32_t ui32Interrupt)</div><div class="ttdoc">Enables an interrupt or system exception. </div><div class="ttdef"><b>Definition:</b> interrupt.c:281</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga74bdcd6572e86f9994bd8dfa40bb5391_cgraph.png" border="0" usemap="#group__flash__api_ga74bdcd6572e86f9994bd8dfa40bb5391_cgraph" alt=""/></div>
<map name="group__flash__api_ga74bdcd6572e86f9994bd8dfa40bb5391_cgraph" id="group__flash__api_ga74bdcd6572e86f9994bd8dfa40bb5391_cgraph">
<area shape="rect" id="node2" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9" title="Registers a function as an interrupt handler in the dynamic vector table. " alt="" coords="181,5,275,32"/>
<area shape="rect" id="node3" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce" title="Enables an interrupt or system exception. " alt="" coords="187,56,269,83"/>
</map>
</div>

</div>
</div>
<a id="ga8e630f086cb373a656582a2c2738443b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e630f086cb373a656582a2c2738443b">&sect;&nbsp;</a></span>FlashIntStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t FlashIntStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current interrupt status. </p>
<p>This function returns the interrupt status for the Flash.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the current interrupt status as values described in <a class="el" href="group__flash__api.html#ga79633db6b99c70206ff1ee614acb4223">FlashIntEnable()</a>. </dd></dl>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    uint32_t ui32IntFlags;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    ui32IntFlags = 0;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (HWREG(NVMNW_BASE  + NVMNW_O_RIS) &amp; NVMNW_RIS_DONE_M)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        ui32IntFlags = NVMNW_RIS_DONE_SET;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        ui32IntFlags = NVMNW_RIS_DONE_CLR;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span>(ui32IntFlags);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ga08e4f26916855879bd89ae0f10fe57fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08e4f26916855879bd89ae0f10fe57fb">&sect;&nbsp;</a></span>FlashIntUnregister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FlashIntUnregister </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unregisters the interrupt handler for the flash interrupt in the dynamic interrupt table. </p>
<p>This function does the actual unregistering of the interrupt handler. It clears the handler to be called when a FLASH interrupt occurs. This function also masks off the interrupt in the interrupt controller so that the interrupt handler no longer is called.</p>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers. </dd></dl>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// Disable the interrupts.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a>(INT_FLASH);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// Unregister the interrupt handler.</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a>(INT_FLASH);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div><div class="ttc" id="group__interrupt__api_html_ga5dffc81c27c005f83e9bfc30f775982a"><div class="ttname"><a href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a></div><div class="ttdeci">void IntUnregister(uint32_t ui32Interrupt)</div><div class="ttdoc">Unregisters an interrupt handler in the dynamic vector table. </div><div class="ttdef"><b>Definition:</b> interrupt.c:187</div></div>
<div class="ttc" id="group__interrupt__api_html_ga9af6b00884dc44e92b3d05ff821b5334"><div class="ttname"><a href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a></div><div class="ttdeci">void IntDisable(uint32_t ui32Interrupt)</div><div class="ttdoc">Disables an interrupt or system exception. </div><div class="ttdef"><b>Definition:</b> interrupt.c:325</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga08e4f26916855879bd89ae0f10fe57fb_cgraph.png" border="0" usemap="#group__flash__api_ga08e4f26916855879bd89ae0f10fe57fb_cgraph" alt=""/></div>
<map name="group__flash__api_ga08e4f26916855879bd89ae0f10fe57fb_cgraph" id="group__flash__api_ga08e4f26916855879bd89ae0f10fe57fb_cgraph">
<area shape="rect" id="node2" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334" title="Disables an interrupt or system exception. " alt="" coords="205,5,293,32"/>
<area shape="rect" id="node3" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a" title="Unregisters an interrupt handler in the dynamic vector table. " alt="" coords="196,56,303,83"/>
<area shape="rect" id="node4" href="interrupt_8c.html#ac62d95950fb9f007b01e80b27290ee43" title="The default interrupt handler. " alt="" coords="351,56,489,83"/>
</map>
</div>

</div>
</div>
<a id="ga4723ad9993c19b938240f374fbb362e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4723ad9993c19b938240f374fbb362e3">&sect;&nbsp;</a></span>FlashPowerModeGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashPowerModeGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current configured power mode. </p>
<p>This function is depreciated</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the current configured power mode. The defined power modes are:<ul>
<li><a class="el" href="group__flash__api.html#ga69c58a61d1dbc838aef4577287b5f2b3">FLASH_PWR_ACTIVE_MODE</a></li>
<li><a class="el" href="group__flash__api.html#gafe91f48cdd9efd3f1c220764b3e756e7">FLASH_PWR_OFF_MODE</a></li>
<li><a class="el" href="group__flash__api.html#ga13370e6184d9809c3cf2b63db858f49d">FLASH_PWR_DEEP_STDBY_MODE</a> (Not to be used. This mode is deprecated.) </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;{</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// depreciated</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__flash__api.html#ga1b0f4ed91254c5de6af25204d2496e08">FAPI_STATUS_NOSUPPORT_ERROR</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div><div class="ttc" id="group__flash__api_html_ga1b0f4ed91254c5de6af25204d2496e08"><div class="ttname"><a href="group__flash__api.html#ga1b0f4ed91254c5de6af25204d2496e08">FAPI_STATUS_NOSUPPORT_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_NOSUPPORT_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:113</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga91b9b5c21521dffa9a296aff60d6d61a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91b9b5c21521dffa9a296aff60d6d61a">&sect;&nbsp;</a></span>FlashPowerModeSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashPowerModeSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32PowerMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32BankGracePeriod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32PumpGracePeriod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set power mode. </p>
<p>This function is depreciated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32PowerMode</td><td>is the wanted power mode. The defined flash power modes are:<ul>
<li><a class="el" href="group__flash__api.html#ga69c58a61d1dbc838aef4577287b5f2b3">FLASH_PWR_ACTIVE_MODE</a></li>
<li><a class="el" href="group__flash__api.html#gafe91f48cdd9efd3f1c220764b3e756e7">FLASH_PWR_OFF_MODE</a></li>
<li><a class="el" href="group__flash__api.html#ga13370e6184d9809c3cf2b63db858f49d">FLASH_PWR_DEEP_STDBY_MODE</a> (Not to be used. This mode is deprecated.) </li>
</ul>
</td></tr>
    <tr><td class="paramname">ui32BankGracePeriod</td><td>is the starting count value for the bank grace period down counter. </td></tr>
    <tr><td class="paramname">ui32PumpGracePeriod</td><td>is the starting count value for the pump grace period down counter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// depreciaed</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    return ;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ga0d891d79df6dbba0288b15a8c30c1331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d891d79df6dbba0288b15a8c30c1331">&sect;&nbsp;</a></span>FlashProgram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashProgram </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pui8DataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Programs unprotected flash sectors in the main bank. </p>
<p>This function programs a sequence of bytes into the on-chip flash. Programming each location consists of the result of an AND operation of the new data and the existing data; in other words bits that contain 1 can remain 1 or be changed to 0, but bits that are 0 cannot be changed to 1. Therefore, a byte can be programmed multiple times as long as these rules are followed; if a program operation attempts to change a 0 bit to a 1 bit, that bit will not have its value changed.</p>
<p>This function does not return until the data has been programmed or a programming error occurs.</p>
<dl class="section note"><dt>Note</dt><dd>It is recommended to disable cache and line buffer before programming the flash. Cache and line buffer are not automatically updated if a flash program causes a mismatch between new flash content and old content in cache and line buffer. Remember to enable cache and line buffer when the program operation completes. See <a class="el" href="group__vims__api.html#ga89c051790e55c02d41884f43f9a3a82c">VIMSModeSafeSet()</a>, <a class="el" href="group__vims__api.html#gab4b55e753335553abd2d3aa13f2f10bb">VIMSLineBufDisable()</a>, and <a class="el" href="group__vims__api.html#gaf1db2091144659ec5c1fd972a09f9275">VIMSLineBufEnable()</a> for more information.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Please note that code can not execute in flash while any part of the flash is being programmed or erased. The application must disable interrupts that have interrupt routines in flash. This function calls a ROM function which handles the actual program operation.</dd></dl>
<p>The <code>pui8DataBuffer</code> pointer can not point to flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui8DataBuffer</td><td>is a pointer to the data to be programmed. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>is the starting address in flash to be programmed. </td></tr>
    <tr><td class="paramname">ui32Count</td><td>is the number of bytes to be programmed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns status of the flash programming:<ul>
<li><a class="el" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> : Success.</li>
<li><a class="el" href="group__flash__api.html#ga7d203641570dd4058f88fae7ca494584">FAPI_STATUS_INCORRECT_DATABUFFER_LENGTH</a> : Too many bytes were requested.</li>
<li><a class="el" href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a> : A programming error is encountered. </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>, <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// The below code part constitutes the variant of the FlashProgram() function</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// that is located in ROM. The source code of this variant is not visible in</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// internal or external driverlib. The source code is only compiled during a ROM</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// build.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">// The two above code parts (seperated by compile switches) constitute wrapper</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">// functions which both call this ROM variant of the function.</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="comment">// The ROM variant is called by referrencing it directly through the ROM API table.</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    uint32_t ui32StartIndex;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    uint32_t ui32StopIndex;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    uint8_t ui8BankWidth;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    uint8_t ui8NoOfBytes;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    uint32_t ui32ErrorReturn;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    uint32_t ui32SectorNum;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    uint32_t ui32BankNum;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    uint32_t ui32Region;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    uint32_t bank0Size;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    uint32_t ui32NoOfSectorsBank0;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a> StateMachineCmd;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    uint32_t sectorSize;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    sectorSize = <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// Check the arguments.</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// onlt main region and non-main CCFG</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    ui32BankNum = 0;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span>  ( (ui32Address + ui32Count) &lt;= (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a>()) )</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        bank0Size = ((HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_S) * sectorSize;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (ui32Address &gt;= bank0Size)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            ui32BankNum = 1;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_MAIN ;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        ui32NoOfSectorsBank0 = (HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_S;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32Address &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;              ( (ui32Address + ui32Count) &lt;= (CCFG_BASE_DEFAULT + sectorSize) ) )</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">// the address is CCFG in non-main region (bank 0)</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        ui32BankNum = 0;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32Address &gt;= (FCFG1_BASE) ) &amp;&amp;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;              ( (ui32Address + ui32Count) &lt;= (FCFG1_BASE + sectorSize) ) )</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="comment">// the address is FCFG1 in non-main region, ( bank 1 )</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        ui32BankNum = 1;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// Set the status to indicate success.</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    ui32ErrorReturn = <a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// Find flash bank width in number of bytes.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    ui8BankWidth = (((HWREG(NVMNW_BASE + NVMNW_O_GBLINFO1) &amp;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                      NVMNW_GBLINFO1_DATAWIDTH_M ) &gt;&gt;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                      NVMNW_GBLINFO1_DATAWIDTH_S) &gt;&gt; 3);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// dataIndex =0 for all modes (1X,2X,4X)</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    HWREG(NVMNW_BASE + NVMNW_O_CMDDATAINDEX) = 0x0000;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">while</span> ( ui32Count)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="comment">// Clear the Status register.</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(<a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a>);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// set up WEPROT register</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="comment">// based on the flash address to figure out WEPROT register for each state machine command</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">if</span> ( ui32Region == NVMNW_CMDCTL_REGIONSEL_MAIN)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        {   <span class="comment">// for main region</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="comment">// based on the flash address, get the sector number on fly</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            ui32SectorNum = (ui32Address - FLASHMEM_BASE) / sectorSize;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="comment">// for main flash region</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="comment">// Unprotect sector to be erased.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="comment">// sectorNum = sectorAddr / sectorSize</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="comment">// if sectorNum &lt; 256 (number of sector in bank0)</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="comment">//  set bankNum =0</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="comment">// else set bankNum =1</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="comment">// if sectorNum&lt;32, it is the first 32 sector, it is 2K protect, use the rgister A</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="comment">//      registerA = 1&lt;&lt;sectorNum</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="comment">// if sector&gt;=32 and sector&lt;256, select bank0, registerB</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">//      registerB = 1&lt;&lt; ( (sectorNum-32)/8 + 4)</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="comment">//  if (sector&gt;256)</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="comment">//      select Bank=1, registerB = 1&lt;&lt; (sectorNum-256)/8</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <span class="comment">// set up Dynamic Write/Erase Protect to unprotect mode (clear the bit)</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">if</span> ( ui32SectorNum &lt; 32)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTA) &amp;= ~(1 &lt;&lt; ui32SectorNum);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ui32SectorNum &lt; ui32NoOfSectorsBank0)</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;=  ~( 1 &lt;&lt; ((ui32SectorNum-32)/8 + 4));</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;= ~( 1 &lt;&lt; ((ui32SectorNum - ui32NoOfSectorsBank0)/8));</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address &amp; ( bank0Size -1) )&gt;&gt; 4;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        {   <span class="comment">// for NON-main region (CCFG) and FCFG1</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">if</span> ( ui32BankNum == 0)</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                ui32SectorNum = (ui32Address - CCFG_BASE_DEFAULT) / sectorSize;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTNM) &amp;=  ~( 1 &lt;&lt; (ui32SectorNum ));</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address - CCFG_BASE_DEFAULT )&gt;&gt; 4;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="comment">// the address is FCFG1 in non-main region</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                ui32SectorNum = (ui32Address - FCFG1_BASE) / sectorSize;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTNM) &amp;=  ~( 1 &lt;&lt; (ui32SectorNum ));</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address - FCFG1_BASE )&gt;&gt; 4;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">// set up NW control register</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">            21   enable data verification for 1T only</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">            19   Stair Step Erase =0</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">            18   erase mask disable 0</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">            17   Program mask disable (0)</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">            16   ECC override (no ECC) 0</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">            15   address translate overrid =1</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">            14   post verify enable (1)</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">            13   preverify enable (1)</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">            12:9 regionsel = 1 (main region)/Non-Main</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">            8:4  bank selection = 0 or 1</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">            3:0  N/A (only for mode change)</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        HWREG(NVMNW_BASE + NVMNW_O_CMDCTL) = (NVMNW_CMDCTL_BANKSEL_BANK0 &lt;&lt;(ui32BankNum)) |</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                              NVMNW_CMDCTL_DATAVEREN |</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                              (ui32Region) |</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                                              NVMNW_CMDCTL_ADDRXLATEOVR_OVERRIDE |</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                              NVMNW_CMDCTL_POSTVEREN_ENABLE |</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                              NVMNW_CMDCTL_PREVEREN_ENABLE ;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// based on the ui32Address alignment and ui32Count to figure oue</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">// 1. if ui32Address is 4X Flashword aligned and ui32Count&gt;=4X flashword</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">//      goto 4X program mode</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// 2. if ui32Address is 2X Flashword aligned and ui32Count&gt;=2X flashword</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="comment">//      goto 2X program mode</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">// 3. otherwise</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">//      goto 1X program mode (default mode)</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">if</span> ( (( ui32Address &amp; ( <a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a> -1 ) ) == 0x00 ) &amp;&amp;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;             ( ui32Count &gt;= <a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a> ) )</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        {   <span class="comment">// 4X program mode</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            ui8NoOfBytes = <a class="code" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a> (pui8DataBuffer,ui32Address,<a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (( ui32Address &amp; ( <a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a> -1 ) ) == 0x00 ) &amp;&amp;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                  ( ui32Count &gt;= <a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a> ) )</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        {   <span class="comment">// 2X program mode</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            ui8NoOfBytes = <a class="code" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a> (pui8DataBuffer,ui32Address,<a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        {   <span class="comment">// 1X program mode</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="comment">// Setup the start position within the write data registers.</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            ui32StartIndex = ui32Address &amp; (uint32_t)(ui8BankWidth - 1);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="comment">// setup number of bytes to program</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            ui8NoOfBytes = ui8BankWidth - ui32StartIndex;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordflow">if</span>(ui8NoOfBytes &gt; ui32Count)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                ui8NoOfBytes = ui32Count;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="comment">// Setup the stop position within the write data registers.</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            ui32StopIndex = ui32StartIndex + (uint32_t)(ui8NoOfBytes - 1);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="comment">// Write each byte to the Flash Data registers</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <a class="code" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW</a>(pui8DataBuffer,ui32Address,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                                       ui32StartIndex,ui32StopIndex);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// Issue the Program command to the FSM.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(StateMachineCmd);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="comment">// Wait until the word has been programmed.</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a>() == <a class="code" href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a>)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="comment">// Exit if an access violation occurred.</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        ui32ErrorReturn = <a class="code" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a>();</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span>(ui32ErrorReturn != <a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a>)</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="comment">// Prepare for next data burst.</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        ui32Count       -= ui8NoOfBytes;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        ui32Address     += ui8NoOfBytes;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        pui8DataBuffer  += ui8NoOfBytes;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="comment">// Check if next data burst require change of target bank</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span>( (ui32Region == NVMNW_CMDCTL_REGIONSEL_MAIN) &amp;&amp;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            (ui32BankNum == 0) &amp;&amp; (ui32Address &gt;= bank0Size))</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="comment">// Change target bank.</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            ui32BankNum = 1;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// Return status of operation.</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">return</span>(ui32ErrorReturn);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div><div class="ttc" id="flash_8c_html_aef40db97ae13451d743febcce8a1a561"><div class="ttname"><a href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a></div><div class="ttdeci">static uint32_t FlashCopyMultiFlashWordToHW(uint8_t *pBuf, uint32_t FlashAddr, uint32_t numBytes)</div><div class="ttdef"><b>Definition:</b> flash.c:587</div></div>
<div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:176</div></div>
<div class="ttc" id="group__flash__api_html_gab6229caada9a2df915b00679a77f1eb9"><div class="ttname"><a href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a></div><div class="ttdeci">#define FLASHWORDSIZE_TWO</div><div class="ttdef"><b>Definition:</b> flash.h:166</div></div>
<div class="ttc" id="group__flash__api_html_gae6b1508684423627208260179b41cc29"><div class="ttname"><a href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForReady(void)</div><div class="ttdoc">Checks if the Flash state machine is ready. </div><div class="ttdef"><b>Definition:</b> flash.h:407</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a></div><div class="ttdoc">Program 1 Flash word mode. </div><div class="ttdef"><b>Definition:</b> flash.h:178</div></div>
<div class="ttc" id="group__flash__api_html_ga2873808d6fc3c3627b7b882f5d8416d9"><div class="ttname"><a href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a></div><div class="ttdeci">#define FAPI_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> flash.h:104</div></div>
<div class="ttc" id="group__flash__api_html_ga47a87d4753facd8d55e0d0e542e5d518"><div class="ttname"><a href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a></div><div class="ttdeci">static uint32_t FlashSizeGet(void)</div><div class="ttdoc">Get the size of the flash. </div><div class="ttdef"><b>Definition:</b> flash.h:249</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a></div><div class="ttdoc">Clear status. </div><div class="ttdef"><b>Definition:</b> flash.h:181</div></div>
<div class="ttc" id="group__flash__api_html_ga74317d740c4f9d1fd97657e624cb16d2"><div class="ttname"><a href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a></div><div class="ttdeci">tFlashStateCommandsType</div><div class="ttdoc">Defined values for Flash State Machine commands. </div><div class="ttdef"><b>Definition:</b> flash.h:174</div></div>
<div class="ttc" id="group__flash__api_html_ga62e0a76e78ef806edd99fb5aa20fdd6e"><div class="ttname"><a href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a></div><div class="ttdeci">#define FLASHWORDSIZE_FOUR</div><div class="ttdef"><b>Definition:</b> flash.h:165</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:177</div></div>
<div class="ttc" id="flash_8c_html_a6649430b8d8a9f0fa7f159dbb76fd0ea"><div class="ttname"><a href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW</a></div><div class="ttdeci">static uint32_t FlashCopyOneFlashWordToHW(uint8_t *pBuf, uint32_t FlashAddr, uint32_t startIdx, uint32_t endIdx)</div><div class="ttdef"><b>Definition:</b> flash.c:542</div></div>
<div class="ttc" id="group__flash__api_html_gabb317aef819e9cf87004c01bae348e3a"><div class="ttname"><a href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForError(void)</div><div class="ttdoc">Checks if the Flash state machine has detected an error. </div><div class="ttdef"><b>Definition:</b> flash.h:377</div></div>
<div class="ttc" id="group__flash__api_html_gac803ba38608b907c9a37edbaea6f60d5"><div class="ttname"><a href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_BUSY</div><div class="ttdef"><b>Definition:</b> flash.h:105</div></div>
<div class="ttc" id="flash_8c_html_a65a79b18e1d8aac07316edff4fd37c96"><div class="ttname"><a href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a></div><div class="ttdeci">static void IssueFsmCommand(tFlashStateCommandsType eCommand)</div><div class="ttdef"><b>Definition:</b> flash.c:1217</div></div>
<div class="ttc" id="group__flash__api_html_gaeebd047aab907390b464d1eccfe71f1a"><div class="ttname"><a href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:110</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga0d891d79df6dbba0288b15a8c30c1331_cgraph.png" border="0" usemap="#group__flash__api_ga0d891d79df6dbba0288b15a8c30c1331_cgraph" alt=""/></div>
<map name="group__flash__api_ga0d891d79df6dbba0288b15a8c30c1331_cgraph" id="group__flash__api_ga0d891d79df6dbba0288b15a8c30c1331_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="840,153,988,180"/>
<area shape="rect" id="node3" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518" title="Get the size of the flash. " alt="" coords="226,77,333,104"/>
<area shape="rect" id="node9" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="204,128,355,155"/>
<area shape="rect" id="node10" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="165,179,393,205"/>
<area shape="rect" id="node11" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="169,229,390,256"/>
<area shape="rect" id="node12" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="186,280,373,307"/>
<area shape="rect" id="node13" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="191,331,367,357"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="442,52,597,79"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="441,103,597,129"/>
<area shape="rect" id="node6" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="647,153,791,180"/>
<area shape="rect" id="node7" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="645,204,792,231"/>
<area shape="rect" id="node8" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675" title="Save sector protection to make it permanent. " alt="" coords="442,255,597,281"/>
</map>
</div>

</div>
</div>
<a id="gad1138abe16257199fbacb5822542919e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1138abe16257199fbacb5822542919e">&sect;&nbsp;</a></span>FlashProgram4X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashProgram4X </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pui8DataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>.</p>
<div class="fragment"><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                                                                           {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="comment">// The below code part constitutes the variant of the FlashProgram() function</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">// that is located in ROM. The source code of this variant is not visible in</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// internal or external driverlib. The source code is only compiled during a ROM</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// build.</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// The two above code parts (seperated by compile switches) constitute wrapper</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">// functions which both call this ROM variant of the function.</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">// The ROM variant is called by referrencing it directly through the ROM API table.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    uint32_t ui32StartIndex;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    uint32_t ui32StopIndex;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    uint8_t ui8BankWidth;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    uint8_t ui8NoOfBytes;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    uint32_t ui32ErrorReturn;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    uint32_t ui32SectorNum;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    uint32_t ui32BankNum;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    uint32_t ui32Region;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    uint32_t bank0Size;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    uint32_t ui32NoOfSectorsBank0;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a> StateMachineCmd;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    uint32_t sectorSize;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    sectorSize = <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// Check the arguments.</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// onlt main region and non-main CCFG</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    ui32BankNum = 0;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">if</span>  ( (ui32Address + ui32Count) &lt;= (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a>()) )</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {   <span class="comment">// get bank-0 size</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        bank0Size = ((HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_S) * sectorSize;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">if</span> (ui32Address &gt;= bank0Size)</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            ui32BankNum = 1;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_MAIN ;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        ui32NoOfSectorsBank0 = (HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_S;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32Address &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;             ( (ui32Address + ui32Count) &lt;= (CCFG_BASE_DEFAULT + sectorSize ) ) )</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        ui32BankNum = 0;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32Address &gt;= (FCFG1_BASE) ) &amp;&amp;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;         ( (ui32Address + ui32Count) &lt;= (FCFG1_BASE + sectorSize) ) )</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="comment">// the address is FCFG1 in non-main region, ( bank 1 )</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        ui32BankNum = 1;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// Set the status to indicate success.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    ui32ErrorReturn = <a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="comment">// Find flash bank width in number of bytes.</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    ui8BankWidth = (((HWREG(NVMNW_BASE + NVMNW_O_GBLINFO1) &amp;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                      NVMNW_GBLINFO1_DATAWIDTH_M ) &gt;&gt;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                      NVMNW_GBLINFO1_DATAWIDTH_S) &gt;&gt; 3);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="comment">// dataIndex =0 for all modes (1X,2X,4X)</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    HWREG(NVMNW_BASE + NVMNW_O_CMDDATAINDEX) = 0x0000;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">while</span> ( ui32Count)</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="comment">// Clear the Status register.</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(<a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a>);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="comment">// set up WEPROT register</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="comment">// based on the flash address to figure out WEPROT register for each state machine command</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> ( ui32Region == NVMNW_CMDCTL_REGIONSEL_MAIN)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        {   <span class="comment">// for main region</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="comment">// based on the flash address, get the sector number on fly</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            ui32SectorNum = (ui32Address - FLASHMEM_BASE) / sectorSize;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="comment">// for main flash region</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="comment">// Unprotect sector to be erased.</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="comment">// sectorNum = sectorAddr / sectorSize</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="comment">// if sectorNum &lt; 256 (number of sector in bank0)</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="comment">//  set bankNum =0</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="comment">// else set bankNum =1</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="comment">// if sectorNum&lt;32, it is the first 32 sector, it is 2K protect, use the rgister A</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="comment">//      registerA = 1&lt;&lt;sectorNum</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="comment">// if sector&gt;=32 and sector&lt;256, select bank0, registerB</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="comment">//      registerB = 1&lt;&lt; ( (sectorNum-32)/8 + 4)</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="comment">//  if (sector&gt;256)</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="comment">//      select Bank=1, registerB = 1&lt;&lt; (sectorNum-256)/8</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="comment">// set up Dynamic Write/Erase Protect to unprotect mode (clear the bit)</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <span class="keywordflow">if</span> ( ui32SectorNum &lt; 32)</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTA) &amp;= ~(1 &lt;&lt; ui32SectorNum);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ui32SectorNum &lt; ui32NoOfSectorsBank0)</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;=  ~( 1 &lt;&lt; ((ui32SectorNum-32)/8 + 4));</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            }</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;= ~( 1 &lt;&lt; ((ui32SectorNum - ui32NoOfSectorsBank0)/8));</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            }</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address &amp; ( bank0Size -1) )&gt;&gt; 4;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        {   <span class="comment">// for NON-main region (CCFG)</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">if</span> ( ui32BankNum ==0 )</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                ui32SectorNum = (ui32Address - CCFG_BASE_DEFAULT) / sectorSize;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTNM) &amp;=  ~( 1 &lt;&lt; (ui32SectorNum));</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address - CCFG_BASE_DEFAULT )&gt;&gt; 4;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                <span class="comment">// the address is FCFG1 in non-main region</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                ui32SectorNum = (ui32Address - FCFG1_BASE) / sectorSize;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTNM) &amp;=  ~( 1 &lt;&lt; (ui32SectorNum ));</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32Address - FCFG1_BASE )&gt;&gt; 4;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="comment">// set up NW control register</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">            21   enable the data verification for 1T only</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">            19   Stair Step Erase =0</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">            18   erase mask disable 0</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">            17   Program mask disable (0)</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">            16   ECC override (no ECC) 0</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">            15   address translate overrid =1</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">            14   post verify enable (1)</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">            13   preverify enable (1)</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">            12:9 regionsel = 1 (main region)/Non-Main</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">            8:4  bank selection = 0 or 1</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">            3:0  N/A (only for mode change)</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        HWREG(NVMNW_BASE + NVMNW_O_CMDCTL) = (NVMNW_CMDCTL_BANKSEL_BANK0 &lt;&lt;(ui32BankNum)) |</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                              NVMNW_CMDCTL_DATAVEREN |</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                              (ui32Region) |</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                              NVMNW_CMDCTL_ADDRXLATEOVR_OVERRIDE |</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                              NVMNW_CMDCTL_POSTVEREN_ENABLE |</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                              NVMNW_CMDCTL_PREVEREN_ENABLE ;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="comment">// based on the ui32Address alignment and ui32Count to figure oue</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="comment">// 1. if ui32Address is 4X Flashword aligned and ui32Count&gt;=4X flashword</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="comment">//      goto 4X program mode</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="comment">// 2. if ui32Address is 2X Flashword aligned and ui32Count&gt;=2X flashword</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="comment">//      goto 2X program mode</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="comment">// 3. otherwise</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="comment">//      goto 1X program mode (default mode)</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">if</span> ( (( ui32Address &amp; ( <a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a> -1 ) ) == 0x00 ) &amp;&amp;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;             ( ui32Count &gt;= <a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a> ) )</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        {   <span class="comment">// 4X program mode</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            ui8NoOfBytes = <a class="code" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a> (pui8DataBuffer,ui32Address,<a class="code" href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (( ui32Address &amp; ( <a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a> -1 ) ) == 0x00 ) &amp;&amp;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                  ( ui32Count &gt;= <a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a> ) )</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        {   <span class="comment">// 2X program mode</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            ui8NoOfBytes = <a class="code" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a> (pui8DataBuffer,ui32Address,<a class="code" href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a>);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a>;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        {   <span class="comment">// 1X program mode</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            <span class="comment">// Setup the start position within the write data registers.</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            ui32StartIndex = ui32Address &amp; (uint32_t)(ui8BankWidth - 1);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="comment">// setup number of bytes to program</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            ui8NoOfBytes = ui8BankWidth - ui32StartIndex;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <span class="keywordflow">if</span>(ui8NoOfBytes &gt; ui32Count)</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                ui8NoOfBytes = ui32Count;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="comment">// Setup the stop position within the write data registers.</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            ui32StopIndex = ui32StartIndex + (uint32_t)(ui8NoOfBytes - 1);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="comment">// Write each byte to the Flash Data registers</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <a class="code" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW</a>(pui8DataBuffer,ui32Address,</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                       ui32StartIndex,ui32StopIndex);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            StateMachineCmd = <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a>;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="comment">// Issue the Program command to the FSM.</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(StateMachineCmd);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="comment">// Wait until the word has been programmed.</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">while</span>(<a class="code" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a>() == <a class="code" href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a>)</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="comment">// Exit if an access violation occurred.</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        ui32ErrorReturn = <a class="code" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a>();</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">if</span>(ui32ErrorReturn != <a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a>)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="comment">// Prepare for next data burst.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        ui32Count       -= ui8NoOfBytes;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        ui32Address     += ui8NoOfBytes;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        pui8DataBuffer  += ui8NoOfBytes;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="comment">// Check if next data burst require change of target bank</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">if</span>( (ui32Region == NVMNW_CMDCTL_REGIONSEL_MAIN) &amp;&amp;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            (ui32BankNum == 0) &amp;&amp; (ui32Address &gt;= bank0Size))</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="comment">// Change target bank.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            ui32BankNum = 1;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// Return status of operation.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">return</span>(ui32ErrorReturn);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;}</div><div class="ttc" id="flash_8c_html_aef40db97ae13451d743febcce8a1a561"><div class="ttname"><a href="flash_8c.html#aef40db97ae13451d743febcce8a1a561">FlashCopyMultiFlashWordToHW</a></div><div class="ttdeci">static uint32_t FlashCopyMultiFlashWordToHW(uint8_t *pBuf, uint32_t FlashAddr, uint32_t numBytes)</div><div class="ttdef"><b>Definition:</b> flash.c:587</div></div>
<div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:176</div></div>
<div class="ttc" id="group__flash__api_html_gab6229caada9a2df915b00679a77f1eb9"><div class="ttname"><a href="group__flash__api.html#gab6229caada9a2df915b00679a77f1eb9">FLASHWORDSIZE_TWO</a></div><div class="ttdeci">#define FLASHWORDSIZE_TWO</div><div class="ttdef"><b>Definition:</b> flash.h:166</div></div>
<div class="ttc" id="group__flash__api_html_gae6b1508684423627208260179b41cc29"><div class="ttname"><a href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForReady(void)</div><div class="ttdoc">Checks if the Flash state machine is ready. </div><div class="ttdef"><b>Definition:</b> flash.h:407</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a></div><div class="ttdoc">Program 1 Flash word mode. </div><div class="ttdef"><b>Definition:</b> flash.h:178</div></div>
<div class="ttc" id="group__flash__api_html_ga2873808d6fc3c3627b7b882f5d8416d9"><div class="ttname"><a href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a></div><div class="ttdeci">#define FAPI_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> flash.h:104</div></div>
<div class="ttc" id="group__flash__api_html_ga47a87d4753facd8d55e0d0e542e5d518"><div class="ttname"><a href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a></div><div class="ttdeci">static uint32_t FlashSizeGet(void)</div><div class="ttdoc">Get the size of the flash. </div><div class="ttdef"><b>Definition:</b> flash.h:249</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a></div><div class="ttdoc">Clear status. </div><div class="ttdef"><b>Definition:</b> flash.h:181</div></div>
<div class="ttc" id="group__flash__api_html_ga74317d740c4f9d1fd97657e624cb16d2"><div class="ttname"><a href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a></div><div class="ttdeci">tFlashStateCommandsType</div><div class="ttdoc">Defined values for Flash State Machine commands. </div><div class="ttdef"><b>Definition:</b> flash.h:174</div></div>
<div class="ttc" id="group__flash__api_html_ga62e0a76e78ef806edd99fb5aa20fdd6e"><div class="ttname"><a href="group__flash__api.html#ga62e0a76e78ef806edd99fb5aa20fdd6e">FLASHWORDSIZE_FOUR</a></div><div class="ttdeci">#define FLASHWORDSIZE_FOUR</div><div class="ttdef"><b>Definition:</b> flash.h:165</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:177</div></div>
<div class="ttc" id="flash_8c_html_a6649430b8d8a9f0fa7f159dbb76fd0ea"><div class="ttname"><a href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW</a></div><div class="ttdeci">static uint32_t FlashCopyOneFlashWordToHW(uint8_t *pBuf, uint32_t FlashAddr, uint32_t startIdx, uint32_t endIdx)</div><div class="ttdef"><b>Definition:</b> flash.c:542</div></div>
<div class="ttc" id="group__flash__api_html_gabb317aef819e9cf87004c01bae348e3a"><div class="ttname"><a href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForError(void)</div><div class="ttdoc">Checks if the Flash state machine has detected an error. </div><div class="ttdef"><b>Definition:</b> flash.h:377</div></div>
<div class="ttc" id="group__flash__api_html_gac803ba38608b907c9a37edbaea6f60d5"><div class="ttname"><a href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_BUSY</div><div class="ttdef"><b>Definition:</b> flash.h:105</div></div>
<div class="ttc" id="flash_8c_html_a65a79b18e1d8aac07316edff4fd37c96"><div class="ttname"><a href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a></div><div class="ttdeci">static void IssueFsmCommand(tFlashStateCommandsType eCommand)</div><div class="ttdef"><b>Definition:</b> flash.c:1217</div></div>
<div class="ttc" id="group__flash__api_html_gaeebd047aab907390b464d1eccfe71f1a"><div class="ttname"><a href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:110</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_gad1138abe16257199fbacb5822542919e_cgraph.png" border="0" usemap="#group__flash__api_gad1138abe16257199fbacb5822542919e_cgraph" alt=""/></div>
<map name="group__flash__api_gad1138abe16257199fbacb5822542919e_cgraph" id="group__flash__api_gad1138abe16257199fbacb5822542919e_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="776,106,924,133"/>
<area shape="rect" id="node3" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518" title="Get the size of the flash. " alt="" coords="183,157,289,184"/>
<area shape="rect" id="node10" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="775,284,925,310"/>
<area shape="rect" id="node11" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="736,341,964,368"/>
<area shape="rect" id="node12" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="739,404,961,430"/>
<area shape="rect" id="node13" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="757,461,943,488"/>
<area shape="rect" id="node14" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="762,512,938,538"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="338,81,493,108"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="337,132,493,158"/>
<area shape="rect" id="node6" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="543,68,687,94"/>
<area shape="rect" id="node7" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="541,182,688,209"/>
<area shape="rect" id="node8" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675" title="Save sector protection to make it permanent. " alt="" coords="338,233,493,260"/>
<area shape="rect" id="node9" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331" title="Programs unprotected flash sectors in the main bank. " alt="" coords="559,334,671,361"/>
</map>
</div>

</div>
</div>
<a id="gab26816f75d67b77c1c37acf0e58b1c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab26816f75d67b77c1c37acf0e58b1c25">&sect;&nbsp;</a></span>FlashProgramNowait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashProgramNowait </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32StartAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pui8DataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ui8NoOfBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts programming within unprotected main bank flash sector and returns. </p>
<p>This function is depreciated</p>
<p>The <code>pui8DataBuffer</code> pointer can not point to flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32StartAddress</td><td>is the start address in flash to program. </td></tr>
    <tr><td class="paramname">pui8DataBuffer</td><td>is a pointer to the data to be programmed. </td></tr>
    <tr><td class="paramname">ui8NoOfBytes</td><td>is the number of bytes to program.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the flash programming start:<ul>
<li><a class="el" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> : Success.</li>
<li><a class="el" href="group__flash__api.html#ga7d203641570dd4058f88fae7ca494584">FAPI_STATUS_INCORRECT_DATABUFFER_LENGTH</a> : Too many bytes were requested. </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>.</p>
<div class="fragment"><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;{</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Return the function status.</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__flash__api.html#ga1b0f4ed91254c5de6af25204d2496e08">FAPI_STATUS_NOSUPPORT_ERROR</a>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div><div class="ttc" id="group__flash__api_html_ga1b0f4ed91254c5de6af25204d2496e08"><div class="ttname"><a href="group__flash__api.html#ga1b0f4ed91254c5de6af25204d2496e08">FAPI_STATUS_NOSUPPORT_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_NOSUPPORT_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:113</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaca0d39806f2d9bec6a341712d242647d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca0d39806f2d9bec6a341712d242647d">&sect;&nbsp;</a></span>FlashProtectionGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashProtectionGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SectorAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get sector protection. </p>
<p>This return the protection mode for the specified flash bank sector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SectorAddress</td><td>is the start address of the desired sector.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the sector protection:<ul>
<li><a class="el" href="group__flash__api.html#gaf44f9f2b6b312304306f901f9a6e72cc">FLASH_NO_PROTECT</a></li>
<li><a class="el" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a> </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, and <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    uint32_t ui32SectorProtect;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    uint32_t ui32SectorNumber;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    uint32_t ui32Mask,ui32result;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    uint32_t region;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// Check the arguments.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// only Bank 0 first 32 sectors are protected</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// for CCFG which is in non-main region</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// sector address should be aligned on sector size</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// inverted logic: in CCFG</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> ((ui32SectorAddress &amp; (<a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() - 1)) != 00)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (ui32SectorAddress &lt; (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() * 32))</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// FLASH_O_WEPROT_B0_31_0_BY1 only first 32 sectors are static protected</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        region = NVMNW_CMDCTL_REGIONSEL_MAIN ;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        ui32SectorNumber = (ui32SectorAddress - FLASHMEM_BASE) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        ui32Mask = 1 &lt;&lt; (ui32SectorNumber);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32SectorAddress &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            ( ui32SectorAddress &lt; (CCFG_BASE_DEFAULT + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() ) ) )</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="comment">// non main region only one sector for each region</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        ui32Mask = FLASH_WEPROT_AUX_BY1_WEPROT_B0_CCFG_BY1_M;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span> (region == NVMNW_CMDCTL_REGIONSEL_MAIN )</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        ui32result = HWREG(FLASH_BASE + FLASH_O_WEPROT_B0_31_0_BY1) &amp; ui32Mask;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        ui32result = HWREG(FLASH_BASE + FLASH_O_WEPROT_AUX_BY1) &amp; ui32Mask;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (ui32result)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        ui32SectorProtect = <a class="code" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        ui32SectorProtect = <a class="code" href="group__flash__api.html#gaf44f9f2b6b312304306f901f9a6e72cc">FLASH_NO_PROTECT</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> ui32SectorProtect;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_ga78e4e78e6e095f136c3ba1c24ddacd74"><div class="ttname"><a href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ALIGN_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:111</div></div>
<div class="ttc" id="group__flash__api_html_gaf44f9f2b6b312304306f901f9a6e72cc"><div class="ttname"><a href="group__flash__api.html#gaf44f9f2b6b312304306f901f9a6e72cc">FLASH_NO_PROTECT</a></div><div class="ttdeci">#define FLASH_NO_PROTECT</div><div class="ttdef"><b>Definition:</b> flash.h:144</div></div>
<div class="ttc" id="group__flash__api_html_ga38bf916cb2546347087909a1fe51bc00"><div class="ttname"><a href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a></div><div class="ttdeci">#define FLASH_WRITE_PROTECT</div><div class="ttdef"><b>Definition:</b> flash.h:145</div></div>
<div class="ttc" id="group__flash__api_html_gaeebd047aab907390b464d1eccfe71f1a"><div class="ttname"><a href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:110</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_gaca0d39806f2d9bec6a341712d242647d_cgraph.png" border="0" usemap="#group__flash__api_gaca0d39806f2d9bec6a341712d242647d_cgraph" alt=""/></div>
<map name="group__flash__api_gaca0d39806f2d9bec6a341712d242647d_cgraph" id="group__flash__api_gaca0d39806f2d9bec6a341712d242647d_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="200,5,348,32"/>
</map>
</div>

</div>
</div>
<a id="gae6ceb528432984b641ee26078e088675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6ceb528432984b641ee26078e088675">&sect;&nbsp;</a></span>FlashProtectionSave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashProtectionSave </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SectorAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save sector protection to make it permanent. </p>
<p>This function will save the current protection mode for the specified flash bank sector.</p>
<p>This function must only be executed from ROM or SRAM.</p>
<dl class="section note"><dt>Note</dt><dd>A write protected sector will become permanent write protected!! A device reset will not change the write protection!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SectorAddress</td><td>is the start address of the sector to be protected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the sector protection:<ul>
<li><a class="el" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> : Success.</li>
<li><a class="el" href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a> : An erase error is encountered. </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    uint32_t ui32SectorProtect;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    uint32_t ui32SectorNumber;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    uint32_t ui32Mask;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    uint32_t ui32ErrorReturn;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    uint32_t ui32CcfgSectorAddr;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    uint32_t ccfgVal;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// Check the arguments.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// only Bank 0 first 32 sectors are protected</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// for CCFG which is in non-main region</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// sector address should be aligned on sector size</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> ((ui32SectorAddress &amp; (<a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() - 1)) != 00)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (ui32SectorAddress &lt; (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() * 32))</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// FLASH_O_WEPROT_B0_31_0_BY1 only first 32 sectors are static protected</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        ui32SectorNumber = (ui32SectorAddress - FLASHMEM_BASE) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        ui32Mask = 1 &lt;&lt; (ui32SectorNumber);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        ui32CcfgSectorAddr = CCFG_BASE_DEFAULT + CCFG_O_CCFG_WEPROT_31_0_BY2K;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32SectorAddress &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            ( ui32SectorAddress &lt; (CCFG_BASE_DEFAULT + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() ) ) )</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="comment">// non main region only one sector for each region</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        ui32Mask = CCFG_ERASE_CONF_1_WEPROT_CCFG_N_M;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        ui32CcfgSectorAddr = CCFG_BASE_DEFAULT + CCFG_O_ERASE_CONF_1;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// read from Flash static protection register</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    ui32SectorProtect = <a class="code" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet</a>(ui32SectorAddress) ;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    ui32ErrorReturn = <a class="code" href="group__flash__api.html#gac8d3cee2ad642a8e7a8155112cc25953">FAPI_STATUS_UNPROTECT_ERROR</a> ;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// CCFG change</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">//  unprotected (1) ==&gt; protect (0) (allow)</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">//  protected (0)   ==&gt; protect (0) (no chnage with FlashProgram call)</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">//  unprotected (1) ==&gt; unprotect (1) (no action, no FlashProgram call)</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">//  protected (0)   ==&gt; unprotect (1) (no possible without erase, no Flashprogram Call)</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span>(ui32SectorProtect == <a class="code" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a>)</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// Find sector number for specified sector. (conversion)</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment">//  write 1: unprotected</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="comment">//  write 0: protected</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">//  from unprotected mode ==&gt; protected mode</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment">//  from protected mode ==&gt; unprotected mode (need reset ??)</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="comment">//  only change one bit from unprotec (CCFG value=1 ) to protect (CCFG value =0)</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">// read from the CCFG</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        ccfgVal = HWREG(ui32CcfgSectorAddr);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">// clear the bit to protetc the sector</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        ccfgVal &amp;= (~ui32Mask);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        ui32SectorProtect = ~ui32Mask;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="comment">// write the cleared bit back to CCFG</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment">// need to reset to take effect</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        ui32ErrorReturn = <a class="code" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram</a>((uint8_t*)&amp;ccfgVal, ui32CcfgSectorAddr,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                       <a class="code" href="flash_8c.html#ae7dcf259421ea88b25355cdd9c4ab597">CCFG_SIZE_SECT_PROT</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// Return status.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span>(ui32ErrorReturn);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="ttc" id="group__flash__api_html_gac8d3cee2ad642a8e7a8155112cc25953"><div class="ttname"><a href="group__flash__api.html#gac8d3cee2ad642a8e7a8155112cc25953">FAPI_STATUS_UNPROTECT_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_UNPROTECT_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:115</div></div>
<div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_gaca0d39806f2d9bec6a341712d242647d"><div class="ttname"><a href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet</a></div><div class="ttdeci">uint32_t FlashProtectionGet(uint32_t ui32SectorAddress)</div><div class="ttdoc">Get sector protection. </div><div class="ttdef"><b>Definition:</b> flash.c:220</div></div>
<div class="ttc" id="group__flash__api_html_ga78e4e78e6e095f136c3ba1c24ddacd74"><div class="ttname"><a href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ALIGN_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:111</div></div>
<div class="ttc" id="flash_8c_html_ae7dcf259421ea88b25355cdd9c4ab597"><div class="ttname"><a href="flash_8c.html#ae7dcf259421ea88b25355cdd9c4ab597">CCFG_SIZE_SECT_PROT</a></div><div class="ttdeci">#define CCFG_SIZE_SECT_PROT</div><div class="ttdef"><b>Definition:</b> flash.c:84</div></div>
<div class="ttc" id="group__flash__api_html_ga38bf916cb2546347087909a1fe51bc00"><div class="ttname"><a href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a></div><div class="ttdeci">#define FLASH_WRITE_PROTECT</div><div class="ttdef"><b>Definition:</b> flash.h:145</div></div>
<div class="ttc" id="group__flash__api_html_ga0d891d79df6dbba0288b15a8c30c1331"><div class="ttname"><a href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram</a></div><div class="ttdeci">uint32_t FlashProgram(uint8_t *pui8DataBuffer, uint32_t ui32Address, uint32_t ui32Count)</div><div class="ttdoc">Programs unprotected flash sectors in the main bank. </div><div class="ttdef"><b>Definition:</b> flash.c:629</div></div>
<div class="ttc" id="group__flash__api_html_gaeebd047aab907390b464d1eccfe71f1a"><div class="ttname"><a href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:110</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_gae6ceb528432984b641ee26078e088675_cgraph.png" border="0" usemap="#group__flash__api_gae6ceb528432984b641ee26078e088675_cgraph" alt=""/></div>
<map name="group__flash__api_gae6ceb528432984b641ee26078e088675_cgraph" id="group__flash__api_gae6ceb528432984b641ee26078e088675_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="848,223,996,250"/>
<area shape="rect" id="node3" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="649,71,795,98"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331" title="Programs unprotected flash sectors in the main bank. " alt="" coords="208,299,320,326"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518" title="Get the size of the flash. " alt="" coords="429,172,535,199"/>
<area shape="rect" id="node9" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="407,426,557,452"/>
<area shape="rect" id="node10" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="368,476,596,503"/>
<area shape="rect" id="node11" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="371,223,593,250"/>
<area shape="rect" id="node12" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="389,274,575,300"/>
<area shape="rect" id="node13" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="394,375,570,402"/>
<area shape="rect" id="node6" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="645,122,799,148"/>
<area shape="rect" id="node7" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="644,172,800,199"/>
<area shape="rect" id="node8" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="650,223,794,250"/>
</map>
</div>

</div>
</div>
<a id="ga38e87a3a78cd05dec83c404ff0ccc0c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38e87a3a78cd05dec83c404ff0ccc0c2">&sect;&nbsp;</a></span>FlashProtectionSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FlashProtectionSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SectorAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ProtectMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set sector protection. </p>
<p>This function will set the specified protection on specified flash bank sector. A sector can either have no protection or have write protection which guards for both program and erase of that sector. Sector protection can only be changed from <a class="el" href="group__flash__api.html#gaf44f9f2b6b312304306f901f9a6e72cc">FLASH_NO_PROTECT</a> to <a class="el" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a>! After write protecting a sector this sector can only be set back to unprotected by a device reset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SectorAddress</td><td>is the start address of the sector to protect. </td></tr>
    <tr><td class="paramname">ui32ProtectMode</td><td>is the enumerated sector protection mode.<ul>
<li><a class="el" href="group__flash__api.html#gaf44f9f2b6b312304306f901f9a6e72cc">FLASH_NO_PROTECT</a></li>
<li><a class="el" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    uint32_t ui32SectorNumber;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    uint32_t ui32Mask;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    uint32_t ui32SetMask;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    uint32_t region;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Check the arguments.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// only Bank 0 first 32 sectors are protected</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// for CCFG which is in non-main region</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// sector address should be aligned on sector size</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> ((ui32SectorAddress &amp; (<a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() - 1)) != 00)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">//return FAPI_STATUS_ADDRESS_ALIGN_ERROR;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (ui32SectorAddress &lt; (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() * 32))</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">// FLASH_O_WEPROT_B0_31_0_BY1 only first 32 sectors are static protected</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        region = NVMNW_CMDCTL_REGIONSEL_MAIN ;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        ui32SectorNumber = (ui32SectorAddress - FLASHMEM_BASE) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        ui32Mask = 1 &lt;&lt; (ui32SectorNumber);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32SectorAddress &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;             ( ui32SectorAddress &lt; (CCFG_BASE_DEFAULT + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() ) ) )</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// the address is CCFG in non-main region</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">// non main region only one sector for each region</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        ui32Mask = FLASH_WEPROT_AUX_BY1_WEPROT_B0_CCFG_BY1_M;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">//return FAPI_STATUS_ADDRESS_ERROR;</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span>(ui32ProtectMode == <a class="code" href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a>)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {   <span class="comment">// set the corresponding bit</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        ui32SetMask = ui32Mask;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {   <span class="comment">// clear the corresponding bit</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        ui32SetMask = 0;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (region == NVMNW_CMDCTL_REGIONSEL_MAIN )</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {   <span class="comment">// clear the bit based on mask and set the bit</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        HWREG(FLASH_BASE + FLASH_O_WEPROT_B0_31_0_BY1) &amp;= ~ui32Mask;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        HWREG(FLASH_BASE + FLASH_O_WEPROT_B0_31_0_BY1) |= ui32SetMask;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {   <span class="comment">// clear the bit based on mask and set the bit</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        HWREG(FLASH_BASE + FLASH_O_WEPROT_AUX_BY1) &amp;= ~ui32Mask;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        HWREG(FLASH_BASE + FLASH_O_WEPROT_AUX_BY1) |= ui32SetMask;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_ga38bf916cb2546347087909a1fe51bc00"><div class="ttname"><a href="group__flash__api.html#ga38bf916cb2546347087909a1fe51bc00">FLASH_WRITE_PROTECT</a></div><div class="ttdeci">#define FLASH_WRITE_PROTECT</div><div class="ttdef"><b>Definition:</b> flash.h:145</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga38e87a3a78cd05dec83c404ff0ccc0c2_cgraph.png" border="0" usemap="#group__flash__api_ga38e87a3a78cd05dec83c404ff0ccc0c2_cgraph" alt=""/></div>
<map name="group__flash__api_ga38e87a3a78cd05dec83c404ff0ccc0c2_cgraph" id="group__flash__api_ga38e87a3a78cd05dec83c404ff0ccc0c2_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="197,5,345,32"/>
</map>
</div>

</div>
</div>
<a id="gace3e1af81dafa8192dc1cd583d246ce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace3e1af81dafa8192dc1cd583d246ce9">&sect;&nbsp;</a></span>FlashSectorErase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FlashSectorErase </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SectorAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase a flash sector. </p>
<p>This function will erase the specified flash sector. The function will not return until the flash sector has been erased or an error condition occurred. If flash top sector is erased the function will program the the device security data bytes with default values. The device security data located in the customer configuration area of the flash top sector, must have valid values at all times. These values affect the configuration of the device during boot.</p>
<dl class="section warning"><dt>Warning</dt><dd>Please note that code can not execute in flash while any part of the flash is being programmed or erased. The application must disable interrupts that have interrupt routines in flash. This function calls a ROM function which handles the actual program operation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SectorAddress</td><td>is the starting address in flash of the sector to be erased.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the sector erase:<ul>
<li><a class="el" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> : Success.</li>
<li><a class="el" href="group__flash__api.html#ga7d203641570dd4058f88fae7ca494584">FAPI_STATUS_INCORRECT_DATABUFFER_LENGTH</a> : Invalid argument.</li>
<li><a class="el" href="group__flash__api.html#ga58b3728c010c8de7007a1a625c61b5e4">FAPI_STATUS_FSM_ERROR</a> : A programming error is encountered. </li>
</ul>
</dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga6dd9c64a60e5645a50507d831279f85d">FlashIntClear()</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// The below code part constitutes the variant of the FlashSectorErase()</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// function that is located in ROM. The source code of this variant is not</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// visible in internal or external driverlib. The source code is</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// only compiled during a ROM build.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// The two above code parts (seperated by compile switches) constitute wrapper</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// functions which both call this ROM variant of the function.</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// The ROM variant is called by referrencing it directly through the ROM API table.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    uint32_t ui32ErrorReturn;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    uint32_t ui32SectorNumber;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    uint32_t ui32NoOfSectorsBank0;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    uint32_t ui32BankNum;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    uint32_t ui32Region;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    uint32_t bank0Size;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">if</span> ((ui32SectorAddress &amp; (<a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() - 1)) != 00)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span>  ( ui32SectorAddress &lt; (FLASHMEM_BASE + <a class="code" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a>()) )</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        bank0Size = ((HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                       NVMNW_BANK0INFO0_MAINSIZE_S) * <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// address is in the main region</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_MAIN ;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        ui32SectorNumber = (ui32SectorAddress - FLASHMEM_BASE) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32SectorAddress &gt;= (CCFG_BASE_DEFAULT) ) &amp;&amp;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            ( ui32SectorAddress &lt; (CCFG_BASE_DEFAULT + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() ) ) )</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="comment">// the address is CCFG in non-main region, bank 0</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        ui32SectorNumber = (ui32SectorAddress - CCFG_BASE_DEFAULT) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        ui32BankNum = 0;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( ui32SectorAddress &gt;= (FCFG1_BASE) ) &amp;&amp;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            ( ui32SectorAddress &lt; (FCFG1_BASE + <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>() ) ) )</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment">// the address is FCFG1 in non-main region, bank 1</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        ui32Region = NVMNW_CMDCTL_REGIONSEL_NONMAIN ;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        ui32SectorNumber = (ui32SectorAddress - FCFG1_BASE) / <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        ui32BankNum = 1;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    {   <span class="comment">// address is wrong</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Clear the Status register.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(<a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> ( ui32Region == NVMNW_CMDCTL_REGIONSEL_MAIN )</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">// for main flash region</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// Unprotect sector to be erased.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="comment">// sectorNum = sectorAddr / sectorSize</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// if sectorNum &lt; 256 (number of sector in bank0)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">//  set bankNum =0</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="comment">// else set bankNum =1</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// if sectorNum&lt;32, it is the first 32 sector, it is 2K protect, use the rgister A</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="comment">//      registerA = 1&lt;&lt;sectorNum</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">// if sector&gt;=32 and sector&lt;256, select bank0, registerB</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="comment">//      registerB = 1&lt;&lt; ( (sectorNum-32)/8 + 4)</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment">//  if (sector&gt;256)</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">//      select Bank=1, registerB = 1&lt;&lt; (sectorNum-256)/8</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        ui32NoOfSectorsBank0 = (HWREG(NVMNW_BASE + NVMNW_O_BANK0INFO0) &amp;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_M) &gt;&gt;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                NVMNW_BANK0INFO0_MAINSIZE_S;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">if</span> (ui32SectorNumber &lt; ui32NoOfSectorsBank0)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            ui32BankNum = 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            ui32BankNum = 1;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">// set up Dynamic Write/Erase Protect to unprotect mode (clear the bit)</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span> ( ui32SectorNumber &lt; 32)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTA) &amp;= ~(1 &lt;&lt; ui32SectorNumber);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ui32SectorNumber &lt; ui32NoOfSectorsBank0)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;=  ~( 1 &lt;&lt; ((ui32SectorNumber-32)/8 + 4));</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTB) &amp;= ~( 1 &lt;&lt; ((ui32SectorNumber - ui32NoOfSectorsBank0)/8));</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = ( ( ui32SectorAddress - FLASHMEM_BASE ) &amp; (bank0Size -1) ) &gt;&gt; 4 ;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">// for NON-MAIN CCFG /FCFG1 region</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">// set up Dynamic Write/Erase Protect to unprotect mode (clear the bit)</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        HWREG(NVMNW_BASE + NVMNW_O_CMDWEPROTNM) &amp;=  ~( 1 &lt;&lt; (ui32SectorNumber) );</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment">// set up the command address, translate to Flash word adress</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">// address is relative to each bank, translate to Flash word address</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> ( ui32BankNum == 0 )</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        {   <span class="comment">// CCFG bank 0</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32SectorAddress - CCFG_BASE_DEFAULT )&gt;&gt; 4;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        {   <span class="comment">// FCFG1 bank 1</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            HWREG(NVMNW_BASE + NVMNW_O_CMDADDR ) = (ui32SectorAddress - FCFG1_BASE )&gt;&gt; 4;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// set up control register</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">        19   Stair Step Erase =0</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">        18   erase mask disable 0</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">        17   Program mask disable (0)</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">        16   ECC override (no ECC) 0</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">        15   address translate overrid = 1</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">        14   post verify enable (1)</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">        13   preverify enable (1)</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">        12:9 regionsel = (main region) /Non-main</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">        8:4  bank selection = 0 /1</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">        3:0  N/A (only for mode change)</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    HWREG(NVMNW_BASE + NVMNW_O_CMDCTL) = NVMNW_CMDCTL_BANKSEL_BANK0 &lt;&lt;(ui32BankNum) |</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                         ui32Region |</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                         NVMNW_CMDCTL_ADDRXLATEOVR_OVERRIDE |</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                         NVMNW_CMDCTL_POSTVEREN_ENABLE |</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                         NVMNW_CMDCTL_PREVEREN_ENABLE ;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Issue the sector erase command to the FSM.</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a>(<a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d">FAPI_ERASE_SECTOR</a>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// Wait for erase to finish.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a>() == <a class="code" href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a>)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// Update status.</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    ui32ErrorReturn = <a class="code" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a>();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// check if the it is CCFG region</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> ( ( ui32Region == NVMNW_CMDCTL_REGIONSEL_NONMAIN ) &amp;&amp;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;         ( ui32BankNum == 0 ) &amp;&amp;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         ( ui32ErrorReturn == <a class="code" href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a> ) )</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// program security data to default vaues in the customer configuration</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">// are within the flash CCFG sector</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">// Program security data to default values in the customer configuration</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// area within the flash CCFG.</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        ui32ErrorReturn = <a class="code" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram</a>((uint8_t *)<a class="code" href="flash_8c.html#a236aeb661b703bfcf2138a145eee3992">g_pui8CcfgDefaultSec</a>,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                 (ui32SectorAddress + <a class="code" href="flash_8c.html#a0deec414b65f0ff3eed4090622aa88db">CCFG_OFFSET_SECURITY</a>),</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                 <a class="code" href="flash_8c.html#a9ef3757a6660f8f31335f751d3a400cb">CCFG_SIZE_SECURITY</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// Return status of operation.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span>(ui32ErrorReturn);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d">FAPI_ERASE_SECTOR</a></div><div class="ttdoc">Erase sector. </div><div class="ttdef"><b>Definition:</b> flash.h:179</div></div>
<div class="ttc" id="flash_8c_html_a0deec414b65f0ff3eed4090622aa88db"><div class="ttname"><a href="flash_8c.html#a0deec414b65f0ff3eed4090622aa88db">CCFG_OFFSET_SECURITY</a></div><div class="ttdeci">#define CCFG_OFFSET_SECURITY</div><div class="ttdef"><b>Definition:</b> flash.c:81</div></div>
<div class="ttc" id="group__flash__api_html_ga78e4e78e6e095f136c3ba1c24ddacd74"><div class="ttname"><a href="group__flash__api.html#ga78e4e78e6e095f136c3ba1c24ddacd74">FAPI_STATUS_ADDRESS_ALIGN_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ALIGN_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:111</div></div>
<div class="ttc" id="group__flash__api_html_gae6b1508684423627208260179b41cc29"><div class="ttname"><a href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForReady(void)</div><div class="ttdoc">Checks if the Flash state machine is ready. </div><div class="ttdef"><b>Definition:</b> flash.h:407</div></div>
<div class="ttc" id="flash_8c_html_a9ef3757a6660f8f31335f751d3a400cb"><div class="ttname"><a href="flash_8c.html#a9ef3757a6660f8f31335f751d3a400cb">CCFG_SIZE_SECURITY</a></div><div class="ttdeci">#define CCFG_SIZE_SECURITY</div><div class="ttdef"><b>Definition:</b> flash.c:83</div></div>
<div class="ttc" id="group__flash__api_html_ga2873808d6fc3c3627b7b882f5d8416d9"><div class="ttname"><a href="group__flash__api.html#ga2873808d6fc3c3627b7b882f5d8416d9">FAPI_STATUS_SUCCESS</a></div><div class="ttdeci">#define FAPI_STATUS_SUCCESS</div><div class="ttdef"><b>Definition:</b> flash.h:104</div></div>
<div class="ttc" id="group__flash__api_html_ga47a87d4753facd8d55e0d0e542e5d518"><div class="ttname"><a href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet</a></div><div class="ttdeci">static uint32_t FlashSizeGet(void)</div><div class="ttdoc">Get the size of the flash. </div><div class="ttdef"><b>Definition:</b> flash.h:249</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a></div><div class="ttdoc">Clear status. </div><div class="ttdef"><b>Definition:</b> flash.h:181</div></div>
<div class="ttc" id="group__flash__api_html_gabb317aef819e9cf87004c01bae348e3a"><div class="ttname"><a href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError</a></div><div class="ttdeci">static uint32_t FlashCheckFsmForError(void)</div><div class="ttdoc">Checks if the Flash state machine has detected an error. </div><div class="ttdef"><b>Definition:</b> flash.h:377</div></div>
<div class="ttc" id="group__flash__api_html_gac803ba38608b907c9a37edbaea6f60d5"><div class="ttname"><a href="group__flash__api.html#gac803ba38608b907c9a37edbaea6f60d5">FAPI_STATUS_FSM_BUSY</a></div><div class="ttdeci">#define FAPI_STATUS_FSM_BUSY</div><div class="ttdef"><b>Definition:</b> flash.h:105</div></div>
<div class="ttc" id="group__flash__api_html_ga0d891d79df6dbba0288b15a8c30c1331"><div class="ttname"><a href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram</a></div><div class="ttdeci">uint32_t FlashProgram(uint8_t *pui8DataBuffer, uint32_t ui32Address, uint32_t ui32Count)</div><div class="ttdoc">Programs unprotected flash sectors in the main bank. </div><div class="ttdef"><b>Definition:</b> flash.c:629</div></div>
<div class="ttc" id="flash_8c_html_a236aeb661b703bfcf2138a145eee3992"><div class="ttname"><a href="flash_8c.html#a236aeb661b703bfcf2138a145eee3992">g_pui8CcfgDefaultSec</a></div><div class="ttdeci">const uint8_t g_pui8CcfgDefaultSec[]</div><div class="ttdef"><b>Definition:</b> flash.c:99</div></div>
<div class="ttc" id="flash_8c_html_a65a79b18e1d8aac07316edff4fd37c96"><div class="ttname"><a href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96">IssueFsmCommand</a></div><div class="ttdeci">static void IssueFsmCommand(tFlashStateCommandsType eCommand)</div><div class="ttdef"><b>Definition:</b> flash.c:1217</div></div>
<div class="ttc" id="group__flash__api_html_gaeebd047aab907390b464d1eccfe71f1a"><div class="ttname"><a href="group__flash__api.html#gaeebd047aab907390b464d1eccfe71f1a">FAPI_STATUS_ADDRESS_ERROR</a></div><div class="ttdeci">#define FAPI_STATUS_ADDRESS_ERROR</div><div class="ttdef"><b>Definition:</b> flash.h:110</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_gace3e1af81dafa8192dc1cd583d246ce9_cgraph.png" border="0" usemap="#group__flash__api_gace3e1af81dafa8192dc1cd583d246ce9_cgraph" alt=""/></div>
<map name="group__flash__api_gace3e1af81dafa8192dc1cd583d246ce9_cgraph" id="group__flash__api_gace3e1af81dafa8192dc1cd583d246ce9_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="781,99,929,125"/>
<area shape="rect" id="node3" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518" title="Get the size of the flash. " alt="" coords="188,200,295,227"/>
<area shape="rect" id="node9" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331" title="Programs unprotected flash sectors in the main bank. " alt="" coords="564,377,676,404"/>
<area shape="rect" id="node10" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="780,428,931,455"/>
<area shape="rect" id="node13" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="762,479,949,505"/>
<area shape="rect" id="node14" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="767,529,943,556"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="343,276,498,303"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="343,327,499,353"/>
<area shape="rect" id="node6" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="548,73,692,100"/>
<area shape="rect" id="node7" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="547,124,693,151"/>
<area shape="rect" id="node8" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675" title="Save sector protection to make it permanent. " alt="" coords="343,175,498,201"/>
<area shape="rect" id="node11" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="741,327,969,353"/>
<area shape="rect" id="node12" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="745,377,966,404"/>
</map>
</div>

</div>
</div>
<a id="gaa1d1b6c1345a8c66a505cd7321b8588c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1d1b6c1345a8c66a505cd7321b8588c">&sect;&nbsp;</a></span>FlashSectorSizeGet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t FlashSectorSizeGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get size of a flash sector in number of bytes. </p>
<p>This function will return the size of a flash sector in number of bytes.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns size of a flash sector in number of bytes. </dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, <a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet()</a>, <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, <a class="el" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2">FlashProtectionSet()</a>, <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>, and <a class="el" href="group__flash__api.html#ga47a87d4753facd8d55e0d0e542e5d518">FlashSizeGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    uint32_t ui32SectorSizeInKbyte;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    ui32SectorSizeInKbyte = (HWREG(NVMNW_BASE + NVMNW_O_GBLINFO0) &amp;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                             NVMNW_GBLINFO0_SECTORSIZE_M) &gt;&gt;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                             NVMNW_GBLINFO0_SECTORSIZE_S;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Return flash sector size in number of bytes.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> (ui32SectorSizeInKbyte);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ga47a87d4753facd8d55e0d0e542e5d518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47a87d4753facd8d55e0d0e542e5d518">&sect;&nbsp;</a></span>FlashSizeGet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t FlashSizeGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of the flash. </p>
<p>This function returns the size of the flash main bank in number of bytes.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the flash size in number of bytes. </dd></dl>

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    uint32_t ui32NoOfSectors;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// get the number of sectors from the FLASH:FLASH_SIZE register</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    ui32NoOfSectors = (( HWREG(FLASH_BASE + FLASH_O_FLASH_SIZE) &amp;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        FLASH_FLASH_SIZE_SECTORS_M ) &gt;&gt;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        FLASH_FLASH_SIZE_SECTORS_S ) &lt;&lt; FLASH_FLASH_SIZE_SECTORS_S;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// Return flash size in number of bytes</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> (ui32NoOfSectors * <a class="code" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a>());</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="ttc" id="group__flash__api_html_gaa1d1b6c1345a8c66a505cd7321b8588c"><div class="ttname"><a href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c">FlashSectorSizeGet</a></div><div class="ttdeci">static uint32_t FlashSectorSizeGet(void)</div><div class="ttdoc">Get size of a flash sector in number of bytes. </div><div class="ttdef"><b>Definition:</b> flash.h:226</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__flash__api_ga47a87d4753facd8d55e0d0e542e5d518_cgraph.png" border="0" usemap="#group__flash__api_ga47a87d4753facd8d55e0d0e542e5d518_cgraph" alt=""/></div>
<map name="group__flash__api_ga47a87d4753facd8d55e0d0e542e5d518_cgraph" id="group__flash__api_ga47a87d4753facd8d55e0d0e542e5d518_cgraph">
<area shape="rect" id="node2" href="group__flash__api.html#gaa1d1b6c1345a8c66a505cd7321b8588c" title="Get size of a flash sector in number of bytes. " alt="" coords="599,145,747,172"/>
<area shape="rect" id="node3" href="group__flash__api.html#ga91b9b5c21521dffa9a296aff60d6d61a" title="Set power mode. " alt="" coords="161,44,315,71"/>
<area shape="rect" id="node4" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3" title="Get current configured power mode. " alt="" coords="160,95,316,121"/>
<area shape="rect" id="node5" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2" title="Set sector protection. " alt="" coords="365,145,509,172"/>
<area shape="rect" id="node6" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d" title="Get sector protection. " alt="" coords="364,196,511,223"/>
<area shape="rect" id="node7" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675" title="Save sector protection to make it permanent. " alt="" coords="161,247,315,273"/>
<area shape="rect" id="node8" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331" title="Programs unprotected flash sectors in the main bank. " alt="" coords="381,297,493,324"/>
<area shape="rect" id="node9" href="flash_8c.html#a65a79b18e1d8aac07316edff4fd37c96" title="IssueFsmCommand" alt="" coords="597,196,748,223"/>
<area shape="rect" id="node10" href="flash_8c.html#aef40db97ae13451d743febcce8a1a561" title="FlashCopyMultiFlashWordToHW" alt="" coords="559,247,787,273"/>
<area shape="rect" id="node11" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea" title="FlashCopyOneFlashWordToHW" alt="" coords="562,297,783,324"/>
<area shape="rect" id="node12" href="group__flash__api.html#gae6b1508684423627208260179b41cc29" title="Checks if the Flash state machine is ready. " alt="" coords="579,348,766,375"/>
<area shape="rect" id="node13" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a" title="Checks if the Flash state machine has detected an error. " alt="" coords="585,399,761,425"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6d8daca18c4c60e1b0121564562452d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d8daca18c4c60e1b0121564562452d1">&sect;&nbsp;</a></span>DUMPWORD_INSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUMPWORD_INSTR&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gacecbeef915333831a97d054df9e8fc40">FlashEfuseReadRow()</a>.</p>

</div>
</div>
<a id="ga78e4e78e6e095f136c3ba1c24ddacd74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78e4e78e6e095f136c3ba1c24ddacd74">&sect;&nbsp;</a></span>FAPI_STATUS_ADDRESS_ALIGN_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_ADDRESS_ALIGN_ERROR&#160;&#160;&#160;0x00000006</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet()</a>, <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>

</div>
</div>
<a id="gaeebd047aab907390b464d1eccfe71f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeebd047aab907390b464d1eccfe71f1a">&sect;&nbsp;</a></span>FAPI_STATUS_ADDRESS_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_ADDRESS_ERROR&#160;&#160;&#160;0x00000005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, <a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet()</a>, <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>

</div>
</div>
<a id="ga1a49674f1f9451f319d78ca7581a0405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a49674f1f9451f319d78ca7581a0405">&sect;&nbsp;</a></span>FAPI_STATUS_BANK_NUM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_BANK_NUM_ERROR&#160;&#160;&#160;0x00000007</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac803ba38608b907c9a37edbaea6f60d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac803ba38608b907c9a37edbaea6f60d5">&sect;&nbsp;</a></span>FAPI_STATUS_FSM_BUSY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_FSM_BUSY&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady()</a>, <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>

</div>
</div>
<a id="ga58b3728c010c8de7007a1a625c61b5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58b3728c010c8de7007a1a625c61b5e4">&sect;&nbsp;</a></span>FAPI_STATUS_FSM_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_FSM_ERROR&#160;&#160;&#160;0x00000004</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError()</a>.</p>

</div>
</div>
<a id="ga6dc7f17a0e39cb30c6b27926ae88e2a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6dc7f17a0e39cb30c6b27926ae88e2a6">&sect;&nbsp;</a></span>FAPI_STATUS_FSM_READY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_FSM_READY&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gae6b1508684423627208260179b41cc29">FlashCheckFsmForReady()</a>.</p>

</div>
</div>
<a id="ga7d203641570dd4058f88fae7ca494584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d203641570dd4058f88fae7ca494584">&sect;&nbsp;</a></span>FAPI_STATUS_INCORRECT_DATABUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_INCORRECT_DATABUFFER_LENGTH&#160;&#160;&#160;0x00000003</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1b0f4ed91254c5de6af25204d2496e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b0f4ed91254c5de6af25204d2496e08">&sect;&nbsp;</a></span>FAPI_STATUS_NOSUPPORT_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_NOSUPPORT_ERROR&#160;&#160;&#160;0x00000008</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#ga4723ad9993c19b938240f374fbb362e3">FlashPowerModeGet()</a>, and <a class="el" href="group__flash__api.html#gab26816f75d67b77c1c37acf0e58b1c25">FlashProgramNowait()</a>.</p>

</div>
</div>
<a id="ga2873808d6fc3c3627b7b882f5d8416d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2873808d6fc3c3627b7b882f5d8416d9">&sect;&nbsp;</a></span>FAPI_STATUS_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_SUCCESS&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gabb317aef819e9cf87004c01bae348e3a">FlashCheckFsmForError()</a>, <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>, and <a class="el" href="group__flash__api.html#gace3e1af81dafa8192dc1cd583d246ce9">FlashSectorErase()</a>.</p>

</div>
</div>
<a id="gac8d3cee2ad642a8e7a8155112cc25953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8d3cee2ad642a8e7a8155112cc25953">&sect;&nbsp;</a></span>FAPI_STATUS_UNPROTECT_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAPI_STATUS_UNPROTECT_ERROR&#160;&#160;&#160;0x00000009</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>.</p>

</div>
</div>
<a id="ga7f6fcfbdc7d963f0f2e687780a0b02f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f6fcfbdc7d963f0f2e687780a0b02f4">&sect;&nbsp;</a></span>FBFALLBACK_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FBFALLBACK_ACTIVE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2f7037e4d47531bc6a874c966a2f281c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f7037e4d47531bc6a874c966a2f281c">&sect;&nbsp;</a></span>FBFALLBACK_DEEP_STDBY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FBFALLBACK_DEEP_STDBY&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3d23b1919dbee1427b31a14d6b49c355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d23b1919dbee1427b31a14d6b49c355">&sect;&nbsp;</a></span>FBFALLBACK_SLEEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FBFALLBACK_SLEEP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga47caf6e78c8395eb37404df84cd99928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47caf6e78c8395eb37404df84cd99928">&sect;&nbsp;</a></span>FCFG1_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FCFG1_OFFSET&#160;&#160;&#160;0x0800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga201d0825606d7729926f2b097d2530fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga201d0825606d7729926f2b097d2530fd">&sect;&nbsp;</a></span>FLASH_INT_FSM_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INT_FSM_DONE&#160;&#160;&#160;0x00400000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gabaa640ffb2859dfdfed0d0670842539d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabaa640ffb2859dfdfed0d0670842539d">&sect;&nbsp;</a></span>FLASH_INT_RV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INT_RV&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf44f9f2b6b312304306f901f9a6e72cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf44f9f2b6b312304306f901f9a6e72cc">&sect;&nbsp;</a></span>FLASH_NO_PROTECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_NO_PROTECT&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet()</a>.</p>

</div>
</div>
<a id="ga69c58a61d1dbc838aef4577287b5f2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69c58a61d1dbc838aef4577287b5f2b3">&sect;&nbsp;</a></span>FLASH_PWR_ACTIVE_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PWR_ACTIVE_MODE&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga13370e6184d9809c3cf2b63db858f49d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13370e6184d9809c3cf2b63db858f49d">&sect;&nbsp;</a></span>FLASH_PWR_DEEP_STDBY_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PWR_DEEP_STDBY_MODE&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafe91f48cdd9efd3f1c220764b3e756e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe91f48cdd9efd3f1c220764b3e756e7">&sect;&nbsp;</a></span>FLASH_PWR_OFF_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PWR_OFF_MODE&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga38bf916cb2546347087909a1fe51bc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38bf916cb2546347087909a1fe51bc00">&sect;&nbsp;</a></span>FLASH_WRITE_PROTECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_WRITE_PROTECT&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#gaca0d39806f2d9bec6a341712d242647d">FlashProtectionGet()</a>, <a class="el" href="group__flash__api.html#gae6ceb528432984b641ee26078e088675">FlashProtectionSave()</a>, and <a class="el" href="group__flash__api.html#ga38e87a3a78cd05dec83c404ff0ccc0c2">FlashProtectionSet()</a>.</p>

</div>
</div>
<a id="ga069c962685b078639e14558757883ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga069c962685b078639e14558757883ab8">&sect;&nbsp;</a></span>FLASHWORD_MASKBIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASHWORD_MASKBIT&#160;&#160;&#160;(0x03)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW()</a>.</p>

</div>
</div>
<a id="ga558a931e9cd08e5760769eef18c95d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga558a931e9cd08e5760769eef18c95d02">&sect;&nbsp;</a></span>FLASHWORD_SHIFTBIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASHWORD_SHIFTBIT&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW()</a>.</p>

</div>
</div>
<a id="ga62e0a76e78ef806edd99fb5aa20fdd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62e0a76e78ef806edd99fb5aa20fdd6e">&sect;&nbsp;</a></span>FLASHWORDSIZE_FOUR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASHWORDSIZE_FOUR&#160;&#160;&#160;(0x40)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, and <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>.</p>

</div>
</div>
<a id="gad1a197b96133b94ac87ddd9c919d4320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1a197b96133b94ac87ddd9c919d4320">&sect;&nbsp;</a></span>FLASHWORDSIZE_ONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASHWORDSIZE_ONE&#160;&#160;&#160;(0x10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="flash_8c.html#a6649430b8d8a9f0fa7f159dbb76fd0ea">FlashCopyOneFlashWordToHW()</a>.</p>

</div>
</div>
<a id="gab6229caada9a2df915b00679a77f1eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6229caada9a2df915b00679a77f1eb9">&sect;&nbsp;</a></span>FLASHWORDSIZE_TWO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASHWORDSIZE_TWO&#160;&#160;&#160;(0x20)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="group__flash__api.html#ga0d891d79df6dbba0288b15a8c30c1331">FlashProgram()</a>, and <a class="el" href="group__flash__api.html#gad1138abe16257199fbacb5822542919e">FlashProgram4X()</a>.</p>

</div>
</div>
<a id="ga3c77a7686e32fcfb7b36a2851f779e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c77a7686e32fcfb7b36a2851f779e4b">&sect;&nbsp;</a></span>FSM_REG_WRT_DISABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_REG_WRT_DISABLE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3f8903789663ddf20ac89601409154a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f8903789663ddf20ac89601409154a9">&sect;&nbsp;</a></span>FSM_REG_WRT_ENABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSM_REG_WRT_ENABLE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8286e11aef4f06d606aa1384b6506147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8286e11aef4f06d606aa1384b6506147">&sect;&nbsp;</a></span>FW_PWRMODE_DEPRECATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FW_PWRMODE_DEPRECATED&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab6b9780e514057c34bed08a076f10a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6b9780e514057c34bed08a076f10a99">&sect;&nbsp;</a></span>FW_WRT_TRIMMED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FW_WRT_TRIMMED&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga74317d740c4f9d1fd97657e624cb16d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74317d740c4f9d1fd97657e624cb16d2">&sect;&nbsp;</a></span>tFlashStateCommandsType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defined values for Flash State Machine commands. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda"></a>FAPI_PROGRAM_FOURWORD&#160;</td><td class="fielddoc"><p>Program 4 Flash Word Mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d"></a>FAPI_PROGRAM_TWOWORD&#160;</td><td class="fielddoc"><p>Program 4 Flash Word Mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95"></a>FAPI_PROGRAM_ONEWORD&#160;</td><td class="fielddoc"><p>Program 1 Flash word mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d"></a>FAPI_ERASE_SECTOR&#160;</td><td class="fielddoc"><p>Erase sector. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2a5e5cc34b5c3f813e07209b74ab347c5a"></a>FAPI_ERASE_BANK&#160;</td><td class="fielddoc"><p>Erase bank. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8"></a>FAPI_CLEAR_STATUS&#160;</td><td class="fielddoc"><p>Clear status. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a>   = 0x0021, </div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a>    = 0x0011, </div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a>    = 0x0001, </div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d">FAPI_ERASE_SECTOR</a>       = 0x0042, </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a5e5cc34b5c3f813e07209b74ab347c5a">FAPI_ERASE_BANK</a>         = 0x0052, </div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a>       = 0x0005, </div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;} <a class="code" href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a>;</div><div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a10c9a3529c2aba44bc370bdb3c07cfda">FAPI_PROGRAM_FOURWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:176</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2ac146eee92f7f72da6b43cb2773fb425d">FAPI_ERASE_SECTOR</a></div><div class="ttdoc">Erase sector. </div><div class="ttdef"><b>Definition:</b> flash.h:179</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a54eeb27310f602a64d67de3d68da8d95">FAPI_PROGRAM_ONEWORD</a></div><div class="ttdoc">Program 1 Flash word mode. </div><div class="ttdef"><b>Definition:</b> flash.h:178</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a18661cecd3a92e9decbed779e2f9f8a8">FAPI_CLEAR_STATUS</a></div><div class="ttdoc">Clear status. </div><div class="ttdef"><b>Definition:</b> flash.h:181</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a5e5cc34b5c3f813e07209b74ab347c5a"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a5e5cc34b5c3f813e07209b74ab347c5a">FAPI_ERASE_BANK</a></div><div class="ttdoc">Erase bank. </div><div class="ttdef"><b>Definition:</b> flash.h:180</div></div>
<div class="ttc" id="group__flash__api_html_ga74317d740c4f9d1fd97657e624cb16d2"><div class="ttname"><a href="group__flash__api.html#ga74317d740c4f9d1fd97657e624cb16d2">tFlashStateCommandsType</a></div><div class="ttdeci">tFlashStateCommandsType</div><div class="ttdoc">Defined values for Flash State Machine commands. </div><div class="ttdef"><b>Definition:</b> flash.h:174</div></div>
<div class="ttc" id="group__flash__api_html_gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d"><div class="ttname"><a href="group__flash__api.html#gga74317d740c4f9d1fd97657e624cb16d2a03e9d91b0da085ab8f2dc1478905270d">FAPI_PROGRAM_TWOWORD</a></div><div class="ttdoc">Program 4 Flash Word Mode. </div><div class="ttdef"><b>Definition:</b> flash.h:177</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy Copyright 2015 - 2023 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
