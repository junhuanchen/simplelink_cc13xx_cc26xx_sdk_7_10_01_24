<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thread Networking Protocol &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Thread User&#39;s Guide
 1.10.00.00 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Custom Hardware" href="../cc13xx_cc26xx/custom-hardware-cc13xx_cc26xx.html" />
    <link rel="prev" title="Thread Product Certification" href="product-certification.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug thread thread-protocol";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../thread-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Thread User's Guide

          </a>
              <div class="version">
                1.10.00.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/quickstart-intro-cc13xx_cc26xx.html">Introduction to the SimpleLink CC13xx/CC26xx SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="ti-openthread-intro.html">TI-OpenThread Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/tirtos-index.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/software-development-index.html">Developing Thread Applications</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Thread Networking Protocol</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#thread-devices">Thread Devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-roles">Device Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-types">Device Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-modes">Device Modes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#addressing">Addressing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#network-setup">Network Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commissioning">Commissioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attaching">Attaching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#network-maintenance">Network Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#advertisements">Advertisements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-routers">Dynamic Routers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partitions">Partitions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#thread-applications">Thread Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/custom-hardware-cc13xx_cc26xx.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/packet-sniffer-index.html">Packet Sniffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/border-router-index.html">Linux Border Router Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/oad-index.html">Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/sysconfig-index.html">System Configuration (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thread-guide/migration-index.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Terms and Definitions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../thread-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Thread User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../thread-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
      <li>Thread Networking Protocol</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="thread-networking-protocol">
<span id="chap-thread-protocol"></span><h1>Thread Networking Protocol<a class="headerlink" href="#thread-networking-protocol" title="Permalink to this headline">¶</a></h1>
<p>This chapter gives a brief overview of the Thread networking protocol.
As mentioned in <a class="reference internal" href="ti-openthread-intro.html#chap-tiop-introduction"><span class="std std-ref">TI-OpenThread Introduction</span></a>, Thread is an IP-based, mesh
networking protocol that runs on 802.15.4 radios, with the goal of providing the
best way to connect and control products in the home.
Some notable benefits of Thread are briefly discussed below.</p>
<p>Thread natively supports IPv6 (via 6LoWPAN). This allows Thread devices
to communicate with other IP-based devices and make use of other industry-proven
IP-based standards.</p>
<p>Thread is a distributed protocol, so there is no single point of
failure. Routes within the network are repaired as needed, and the number of
routing devices dynamically changes to optimize network traffic.</p>
<p>Thread uses the 802.15.4 specification for its MAC and PHY layers, which is a
favorable choice for home and building automation types of applications. This
provides a strong base for low-power wireless networks.</p>
<div class="section" id="thread-devices">
<span id="sec-thread-device-types"></span><h2>Thread Devices<a class="headerlink" href="#thread-devices" title="Permalink to this headline">¶</a></h2>
<p>This section explains the different Thread devices and their roles within a
Thread network.</p>
<p>In the following sections we will explain:</p>
<ul class="simple">
<li><p>the roles a device can take on</p></li>
<li><p>the two different device types</p></li>
<li><p>what modes each device type uses to fill a role</p></li>
</ul>
<div class="section" id="device-roles">
<span id="sec-thread-protocol-device-roles"></span><h3>Device Roles<a class="headerlink" href="#device-roles" title="Permalink to this headline">¶</a></h3>
<p>Thread devices can take on different roles within a Thread Network; End Device,
Router, Router-Eligible End Device, Leader, or Border Router. All devices start
as End Devices and are promoted from there as the network requires.</p>
<p><strong>End Devices</strong> connect to a single Router. All traffic to and from the
End Device goes through its parent Router. If the End Device loses the
connection to its parent Router, it will attempt to find a new parent Router.</p>
<p><strong>Routers</strong> connect to other Routers and act as parents to End Devices. These
devices transmit, receive, and forward messages around the mesh network.
Routers may be parents to multiple End Devices (up to 511), and act as proxies
for their children when doing networking activities like responding to address
queries. Routers maintain their next hop and cost to all other Routers in the
network. Routers maintain a persistent copy of the active network information
(known as the Active Operational Dataset) received from the Leader. Their other
maintenance related duties are discussed in
<a class="reference internal" href="#sec-thread-protocol-network-maintenance"><span class="std std-ref">Network Maintenance</span></a>.</p>
<p><strong>REEDs</strong>, or Router-Eligible End Devices, are End Devices with Router
capabilities. They do not route messages; just like End Devices, they primarily
send/receive traffic from their parent. As the name suggests, REEDs are
eligible to become Routers and perform some Router-like tasks, which are
discussed in <a class="reference internal" href="#sec-thread-protocol-network-maintenance"><span class="std std-ref">Network Maintenance</span></a>.</p>
<p>The <strong>Leader</strong> of a Thread Network is a Router that has been elected to make
decisions for the Thread Network. These decisions are choices like: the current
active commissioner, Router upgrading, and more. The Leader is elected by being
the first Router within a partition (<a class="reference internal" href="#sec-thread-protocol-partitions"><span class="std std-ref">Partitions</span></a>).</p>
<p><strong>Border Routers</strong> are Routers on the Thread Network with an off-mesh route.
Border Routers act as the bridge between the Thread IPv6 network and an adjacent
IPv6 network like WiFi or Ethernet networks. Border Routers offer globally
routable IPv6 prefixes configurable with <a class="reference internal" href="glossary.html#term-SLAAC"><span class="xref std std-term">SLAAC</span></a> or <a class="reference internal" href="glossary.html#term-DHCPv6"><span class="xref std std-term">DHCPv6</span></a>.</p>
</div>
<div class="section" id="device-types">
<span id="sec-thread-protocol-device-types"></span><h3>Device Types<a class="headerlink" href="#device-types" title="Permalink to this headline">¶</a></h3>
<p>A Thread device can be either a Full Thread Device (FTD) or a Minimal Thread
Device (MTD).</p>
<p>An FTD has its receiver always on and can act as an End Device, a Router, a
Leader, or a Border Router. There are two types of FTD End Devices: Full End
Devices (FED) and Router-Eligible End Devices (REED). An FED will remain an End
Device while a REED could change to a Router. As mentioned previously, all
devices initially attach as End Devices. Throughout the lifetime of the network,
conditions may require that more or fewer Routers are needed. To accommodate
this, a REED may change to a Router, or a Router may change to a REED. Although
an End Device receives all unicast messages from its parent, an FED may
additionally receive multicast messages from neighboring Routers.</p>
<p>An MTD is limited to only End Device roles: Minimal End Device (MED) or Sleepy
End Device (SED). An MED will have its receiver always on (thus not required to
poll its parent for messages), while an SED will have its receiver on only when
it expects to receive messages (e.g. after polling its parent).</p>
<p>Below shows an example of a Thread network.</p>
<div class="figure align-center" id="id2">
<span id="example-thread-network"></span><a class="reference internal image-reference" href="../_images/example-network.png"><img alt="../_images/example-network.png" src="../_images/example-network.png" style="width: 523.1999999999999px; height: 627.0px;" /></a>
<p class="caption"><span class="caption-number">Figure 35. </span><span class="caption-text">Example Thread Network</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="device-modes">
<span id="sec-thread-protocol-device-modes"></span><h3>Device Modes<a class="headerlink" href="#device-modes" title="Permalink to this headline">¶</a></h3>
<p>For a Thread device in a network, its device type and role can be associated
with which bits are set in its mode byte. Currently there are 4 bits which may
be set, R, S, D, and N, described below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 4%" />
<col style="width: 29%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>R</p></td>
<td><p>RX on while idle</p></td>
<td><p>Set this value to have the receiver always on.
Clearing this enables the radio to sleep.</p></td>
</tr>
<tr class="row-even"><td><p>S</p></td>
<td><p>Secure IEEE 802.15.4
data requests</p></td>
<td><p>Set this value to enable encryption on data
requests to the parent router. Clearing this
may introduce a weak link in the network. Data
requests are only sent when the radio can sleep.</p></td>
</tr>
<tr class="row-odd"><td><p>D</p></td>
<td><p>Full Function Device</p></td>
<td><p>Indication that this device should act as an
802.15.4 FFD. This is required for FTDs.</p></td>
</tr>
<tr class="row-even"><td><p>N</p></td>
<td><p>Full Network Data</p></td>
<td><p>Set this to indicate that this device should
receive all network data, stable and unstable.</p></td>
</tr>
</tbody>
</table>
<p>Device modes are tied to how that device will behave once it is attached to a
Thread Network. When an FTD attaches to a Thread
Network it will attach as a Full End Device (<a class="reference internal" href="glossary.html#term-FED"><span class="xref std std-term">FED</span></a>) or a Router-Eligible
End Device (<a class="reference internal" href="glossary.html#term-REED"><span class="xref std std-term">REED</span></a>). If the FTD attaches as a REED, the Thread network
will make the decision to promote that device to an Active Router role if
network topology or routing requires. When an MTD attaches to a Thread Network,
it will attach as either a Minimal End Device (<a class="reference internal" href="glossary.html#term-MED"><span class="xref std std-term">MED</span></a>) or a Sleepy End
Device (<a class="reference internal" href="glossary.html#term-SED"><span class="xref std std-term">SED</span></a>). If an MTD attaches as a SED, the parent Router is required
to buffer messages for the SED until it wakes up and polls.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 23%" />
<col style="width: 11%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Device
Type</p></th>
<th class="head"><p>Device Role</p></th>
<th class="head"><p>Device
Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Full
Thread
Device
(FTD)</p></td>
<td><p>Router-Eligible
End Device
(REED)</p></td>
<td><p>RSDN</p></td>
<td><p>A router that is acting as an End
Device. This node may be promoted to
a Router role as the network demands.</p></td>
</tr>
<tr class="row-odd"><td><p>Full End Device
(FED)</p></td>
<td><p>RSD</p></td>
<td><p>A Full Thread Device that has been
limited to the End Device mode.</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>Minimal
Thread
Device
(MTD)</p></td>
<td><p>Minimal End
Device (MED)</p></td>
<td><p>RS</p></td>
<td><p>A Minimal Thread Device that has been
limited to End Device mode.</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Sleepy End
Device (SED)</p></td>
<td><p>S</p></td>
<td rowspan="2"><p>An End device that is allowed to turn
its receiver off during sleep.</p></td>
</tr>
<tr class="row-even"><td><p>” “</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="addressing">
<span id="sec-thread-protocol-addressing"></span><h2>Addressing<a class="headerlink" href="#addressing" title="Permalink to this headline">¶</a></h2>
<p>Each Thread device is associated with a set of IPv6 addresses, providing
multiple ways of addressing a device for different purposes.</p>
<p>There are two “properties” of a given address: scope and type.</p>
<p>Address <strong>scope</strong> is link-local or realm-local. Link-local scope consists of
addresses of devices which can be reached within a single radio transmission.
Realm-local (or mesh-local) scope consists of addresses of devices within the
same network partition.</p>
<p>Address <strong>type</strong> is unicast or multicast. A unicast address is used to send to a
single device, and a multicast address is used to send to a designated group of
devices who have subscribed to said multicast address.</p>
<p>The scope and type of an address can be determined by the address itself. A
link-local address will have the first two bytes as <strong>fe80</strong> (i.e. it has a
prefix of <strong>fe80::/16</strong>), and a mesh-local address will have the first byte as
<strong>fd</strong> (i.e. it has a prefix of <strong>fd00::/8</strong>). There are four default multicast
addresses, which are described in the table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Scope</p></th>
<th class="head"><p>IPv6 address</p></th>
<th class="head"><p>Default subscriptions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>Link-local</p></td>
<td><p>ff02::1</p></td>
<td><p>All nodes</p></td>
</tr>
<tr class="row-odd"><td><p>ff02::2</p></td>
<td><p>All Routers</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>Realm-local</p></td>
<td><p>ff03::1</p></td>
<td><p>All nodes</p></td>
</tr>
<tr class="row-odd"><td><p>ff03::2</p></td>
<td><p>All Routers</p></td>
</tr>
</tbody>
</table>
<p>(A helpful reference for understanding notation of IPv6 addresses may be found
in <a class="reference external" href="https://tools.ietf.org/html/rfc4291#section-2.2">RFC4291</a>).</p>
<p>Mesh-local addresses are those which are reachable within the same Thread
network. As such, these are the addresses which Thread applications should use
when sending messages to each other. Other address types are used mainly for
management and administrative purposes, such as neighbor discovery.</p>
<p>One common unicast address used is the Routing Locator (RLOC). This is an IPv6
unicast address identifying the location of a device within the network. It is
composed of the mesh-local prefix and an Interface Identifier (IID) which
includes the RLOC16 (e.g. [64-bit mesh-local prefix] +
0000:00FF:FE00:<strong>RLOC16</strong>). The RLOC16 encodes a Router ID and a Child ID. Each
Router is assigned a unique Router ID (with Child ID of 0); each End Device is
assigned its parent’s Router ID and a unique Child ID (non-zero). Note that the
application does not explicitly use RLOC16; it will use some mesh-local EID, and
the network layer will map this to an RLOC16 (based on an EID-to-RLOC cache it
maintains). When these addresses are assigned are described in
<a class="reference internal" href="#sec-thread-protocol-attaching"><span class="std std-ref">Attaching</span></a>. Below shows an example of RLOC16, and in a
network.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>3</p></td>
<td><p>4</p></td>
<td><p>5</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
<td><p>8</p></td>
<td><p>9</p></td>
<td><p>10</p></td>
<td><p>11</p></td>
<td><p>12</p></td>
<td><p>13</p></td>
<td><p>14</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-even"><td colspan="6"><p>Router ID</p></td>
<td><p>R</p></td>
<td colspan="9"><p>Child ID</p></td>
</tr>
</tbody>
</table>
<div class="figure align-center" id="id3">
<span id="rloc16-example"></span><a class="reference internal image-reference" href="../_images/rloc16.png"><img alt="../_images/rloc16.png" src="../_images/rloc16.png" style="width: 617.6px; height: 336.8px;" /></a>
<p class="caption"><span class="caption-number">Figure 36. </span><span class="caption-text">RLOC16 in a Network</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>If an End Device joins a new parent, it will be assigned a new RLOC16 (using the
Router ID of its new parent, and the Child ID the new parent assigns).</p>
</div>
<div class="section" id="network-setup">
<span id="sec-thread-protocol-network-setup"></span><h2>Network Setup<a class="headerlink" href="#network-setup" title="Permalink to this headline">¶</a></h2>
<p>A Thread device may either join or form a new network (based on its
configurations). In either case, it scans each channel for existing networks.
Afterwards, it may attempt to join a network it recognizes (e.g. extended
PAN ID, network name) or form a new one.</p>
<p>Forming a network, a device must set values for various parameters:</p>
<ul class="simple">
<li><p>PAN ID</p></li>
<li><p>Extended PAN ID</p></li>
<li><p>Network Name</p></li>
<li><p>Mesh-local Prefix</p></li>
<li><p>Master key</p></li>
<li><p>Commissioning credential</p></li>
</ul>
<p>PAN ID and extended PAN ID should be unique on a given channel (as required by
802.15.4).</p>
<p>Joining a network consists of commissioning and attaching.</p>
<div class="section" id="commissioning">
<span id="sec-thread-protocol-commissioning"></span><h3>Commissioning<a class="headerlink" href="#commissioning" title="Permalink to this headline">¶</a></h3>
<p>Commissioning is the process where a new untrusted device is authenticated and
securely brought onto the Thread Network. Commissioning can be split into two
major categories, external commissioning and native commissioning. External
commissioning would be the case if the commissioner resides off-mesh of the
Thread Network (perhaps on a different technology, like BLE or Wi-Fi). External
commissioning requires a border agent to relay communication to and from the
off-mesh commissioner. Native commissioning only requires on-mesh nodes. To
evaluate commissioning on TI devices, you can refer to this SimpleLink Academy:
<a class="reference external" href="http://dev.ti.com/tirex/explore/node?node=AHJj4J1TlqSDsf7FG8IbNg__pTTHBmu__LATEST">Thread CLI Project Zero</a>).
Consult chapter 8 of the Thread 1.1.1 specification for a better overview of the
commissioning protocol.</p>
</div>
<div class="section" id="attaching">
<span id="sec-thread-protocol-attaching"></span><h3>Attaching<a class="headerlink" href="#attaching" title="Permalink to this headline">¶</a></h3>
<p>If the commissioning process is successful, then the device begins the attach
process. First, it will search for a parent by multicasting (ff02::2) a Parent
Request. Link-local routers which receive this Parent Request reply with a
Parent Response. The joining device then selects a suitable parent, sending it a
Child ID Request. The parent sends a Child ID Response, completing the attach
process. The joining device is now part of the network, with a parent and a
routable address (RLOC). Below shows a diagram illustrating the attach process.</p>
<div class="figure align-center" id="id4">
<span id="fig-attach"></span><p class="plantuml">
<img src="../_images/plantuml-78d4416f0ecdab5700d69bea2896bdad324faa2e.png" alt="&#64;startuml
&quot;Attaching Device&quot;-&gt;&quot;Link Local FTDs&quot;: Parent Request
&quot;Link Local FTDs&quot;-&gt;&quot;Attaching Device&quot;: Parent Response(s)
note over &quot;Attaching Device&quot;: Attaching device selects a potential parent
&quot;Attaching Device&quot;-&gt;&quot;Parent&quot;: Child ID Request
&quot;Parent&quot;-&gt;&quot;Attaching Device&quot;: Child ID Response
note over &quot;Attaching Device&quot;: Attach process complete
&#64;enduml"/>
</p>
<p class="caption"><span class="caption-number">Figure 37. </span><span class="caption-text">Device Attaching to Thread Network</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="network-maintenance">
<span id="sec-thread-protocol-network-maintenance"></span><h2>Network Maintenance<a class="headerlink" href="#network-maintenance" title="Permalink to this headline">¶</a></h2>
<p>In order to maintain a reliable network, Routers/REEDs perform maintenance
duties throughout their lifetime. Some of the key duties are discussed below.</p>
<div class="section" id="advertisements">
<span id="sec-thread-protocol-advertisements"></span><h3>Advertisements<a class="headerlink" href="#advertisements" title="Permalink to this headline">¶</a></h3>
<p>In order to maintain delivery reliability within the network, each Router
multicasts (to ff02::1) advertisements periodically (using Trickle Algorithm, by
default up to 32 seconds). REEDs send advertisements periodically (by default
570 seconds with 60 second jitter). When a Router/REED multicasts an
advertisement, it is informing link-local Routers/REEDs about its path to all
Routers in the network.</p>
<p>Routers use information from advertisements, such as incoming/outgoing quality
and routing cost, to optimize routing reliability. For example, a Router may
discover that there is a more efficient route to a destination, and update its
routing tables. This algorithm is to ensure that each Router has knowledge of
all other reachable Routers in the network, and consequently has the optimal
path to all of them. This also well informs REEDs, should they upgrade to
Routers.</p>
</div>
<div class="section" id="dynamic-routers">
<span id="sec-thread-protocol-dynamic-routers"></span><h3>Dynamic Routers<a class="headerlink" href="#dynamic-routers" title="Permalink to this headline">¶</a></h3>
<p>The number of Routers (up to 32) in a network may change under certain
conditions. A REED may convert to a router to accommodate for more End
Devices or to maintain a path between all Routers. A Router may become a REED if
there is sufficient redundancy of paths within the network. Router
upgrading and downgrading is a decision which must be approved by the Leader
(who manages Router IDs). Advertisements ensure that each Router/REED in the
network is aware of any changes in the set of Routers.</p>
</div>
<div class="section" id="partitions">
<span id="sec-thread-protocol-partitions"></span><h3>Partitions<a class="headerlink" href="#partitions" title="Permalink to this headline">¶</a></h3>
<p>One goal of a Thread network is to keep connectivity between all devices.
However, a Thread Router/REED might find itself disconnected from the Leader.
This can be due to a number of factors, for example the Leader losing
power. But once this loss of connectivity is detected, the Router/REED will
search for a partition to join, and if none is found, form a new partition with
itself as the Leader. If a Router/REED detects that a higher-priority partition
is in range (via advertisements), it will attempt to attach to that partition.
(Rules to derive partition priority are defined in 5.16.3 of the Thread 1.1.1
specification). Upon moving to a network partition, devices must check that its
IP addresses are consistent with that partition (e.g. Mesh-local prefix may have
changed). The set of all partitions is still considered to be in one Thread
network, since they share the same network credentials. The Thread network may
consist of multiple, independently operational partitions. These partitions will
tend to converge to as few partitions as possible.</p>
<div class="figure align-center" id="id5">
<span id="partitioned-network"></span><a class="reference internal image-reference" href="../_images/partitioned-network.png"><img alt="../_images/partitioned-network.png" src="../_images/partitioned-network.png" style="width: 557.4px; height: 651.6px;" /></a>
<p class="caption"><span class="caption-number">Figure 38. </span><span class="caption-text">Network Partitions</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="thread-applications">
<span id="sec-thread-protocol-thread-applications"></span><h2>Thread Applications<a class="headerlink" href="#thread-applications" title="Permalink to this headline">¶</a></h2>
<p>Thread offers IP connectivity and low power operation through its transport and
network layers, making it a strong foundation for applications relying on these
two pillars. Thread is application-independent, allowing endless possibilities
for the application layer. In the CC13xx/CC26xx SDK, TI offers examples which
showcase common home-automation devices running a CoAP server on top of Thread
(such as Doorlock, Thermostat, and Temperature Sensor). You can learn more about
those applications here: <a class="reference internal" href="example-apps-cc13xx_cc26xx.html#sec-example-apps-end-products"><span class="std std-ref">End Product Examples</span></a>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="product-certification.html" class="btn btn-neutral float-left" title="Thread Product Certification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../cc13xx_cc26xx/custom-hardware-cc13xx_cc26xx.html" class="btn btn-neutral float-right" title="Custom Hardware" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>