<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>OpenThread: srp_client.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenThread
   &#160;<span id="projectnumber">1.05.03.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_73cb4d11b06c10448caf49ed02a351c4.html">net</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">srp_client.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="srp__client_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  Copyright (c) 2020, The OpenThread Authors.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  All rights reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  modification, are permitted provided that the following conditions are met:</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *  1. Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *     notice, this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  2. Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *     notice, this list of conditions and the following disclaimer in the</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *     documentation and/or other materials provided with the distribution.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  3. Neither the name of the copyright holder nor the</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *     names of its contributors may be used to endorse or promote products</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *     derived from this software without specific prior written permission.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *  POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifndef SRP_CLIENT_HPP_</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define SRP_CLIENT_HPP_</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="openthread-core-config_8h.html">openthread-core-config.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_ENABLE</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="include_2openthread_2srp__client_8h.html">openthread/srp_client.h</a>&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="as__core__type_8hpp.html">common/as_core_type.hpp</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="clearable_8hpp.html">common/clearable.hpp</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="linked__list_8hpp.html">common/linked_list.hpp</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="locator_8hpp.html">common/locator.hpp</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8hpp.html">common/log.hpp</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="message_8hpp.html">common/message.hpp</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="non__copyable_8hpp.html">common/non_copyable.hpp</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="notifier_8hpp.html">common/notifier.hpp</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="numeric__limits_8hpp.html">common/numeric_limits.hpp</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timer_8hpp.html">common/timer.hpp</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ecdsa_8hpp.html">crypto/ecdsa.hpp</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dns__types_8hpp.html">net/dns_types.hpp</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ip6_8hpp.html">net/ip6.hpp</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="udp6_8hpp.html">net/udp6.hpp</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="network__data__service_8hpp.html">thread/network_data_service.hpp</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceot.html">ot</a> {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">namespace </span>Srp {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#if !OPENTHREAD_CONFIG_ECDSA_ENABLE</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#error &quot;SRP Client feature requires ECDSA support (OPENTHREAD_CONFIG_ECDSA_ENABLE).&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">class </span>Client : <span class="keyword">public</span> InstanceLocator, <span class="keyword">private</span> NonCopyable</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classot_1_1_notifier.html">ot::Notifier</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">using</span> DnsSrpUnicast = NetworkData::Service::DnsSrpUnicast;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">using</span> DnsSrpAnycast = NetworkData::Service::DnsSrpAnycast;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">enum</span> ItemState : uint8_t</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        kToAdd      = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41aea96ccf5599bd8897c87ebcf7157be64">OT_SRP_CLIENT_ITEM_STATE_TO_ADD</a>,     </div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        kAdding     = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a70e8b301b3d24324cb007512c4a0715c">OT_SRP_CLIENT_ITEM_STATE_ADDING</a>,     </div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        kToRefresh  = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a575dd4924d46b0f82a93760846def7a8">OT_SRP_CLIENT_ITEM_STATE_TO_REFRESH</a>, </div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        kRefreshing = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ab058e263966f407223d76b8846fc75f8">OT_SRP_CLIENT_ITEM_STATE_REFRESHING</a>, </div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        kToRemove   = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ab7d6d9181b5cdcd9f440788be3db10c3">OT_SRP_CLIENT_ITEM_STATE_TO_REMOVE</a>,  </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        kRemoving   = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a00bcc9135d70553c98846b71ff1d25a4">OT_SRP_CLIENT_ITEM_STATE_REMOVING</a>,   </div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        kRegistered = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ad6f143fe4e7a9e38d34b8a587ab686d7">OT_SRP_CLIENT_ITEM_STATE_REGISTERED</a>, </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="group__core-mle-core.html#gga13096f648f442b153a1cac0bc7097a52a4f44be333b6269b33c50c45819e5dc82">kRemoved</a>    = <a class="code" href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a93df2521eb58089bf3fadb81d51be0ba">OT_SRP_CLIENT_ITEM_STATE_REMOVED</a>,    </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    };</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="group__api-srp.html#ga09097414e15418233d605567ae486c9e">otSrpClientCallback</a> Callback;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">class </span>HostInfo : <span class="keyword">public</span> <a class="code" href="structot_srp_client_host_info.html">otSrpClientHostInfo</a>, <span class="keyword">private</span> Clearable&lt;HostInfo&gt;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>Client;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">void</span> Init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordtype">void</span> Clear(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *GetName(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mName; }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordtype">bool</span> IsAutoAddressEnabled(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAutoAddress; }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        uint8_t GetNumAddresses(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mNumAddresses; }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">const</span> Ip6::Address &amp;GetAddress(uint8_t aIndex)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespaceot.html#abf73bb2a93cf30966977a1cf616e60d5">AsCoreType</a>(&amp;mAddresses[aIndex]); }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        ItemState GetState(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ItemState<span class="keyword">&gt;</span>(mState); }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> <span class="keywordtype">char</span> *aName) { mName = aName; }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordtype">void</span> SetState(ItemState aState);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordtype">void</span> SetAddresses(<span class="keyword">const</span> Ip6::Address *aAddresses, uint8_t aNumAddresses);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordtype">void</span> EnableAutoAddress(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    };</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">class </span>Service : <span class="keyword">public</span> <a class="code" href="structot_srp_client_service.html">otSrpClientService</a>, <span class="keyword">public</span> LinkedListEntry&lt;Service&gt;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>Client;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>LinkedList&lt;Service&gt;;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> Init(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *GetName(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mName; }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *GetInstanceName(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mInstanceName; }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordtype">bool</span> HasSubType(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (mSubTypeLabels != <span class="keyword">nullptr</span>); }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *GetSubTypeLabelAt(uint16_t aIndex)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSubTypeLabels[aIndex]; }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        uint16_t GetPort(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPort; }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        uint16_t GetPriority(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPriority; }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        uint16_t GetWeight(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mWeight; }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keyword">const</span> Dns::TxtEntry *GetTxtEntries(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="namespaceot.html#a8a8d6806b2f5b3517003d9a36f404a7e">AsCoreTypePtr</a>(mTxtEntries); }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        uint8_t GetNumTxtEntries(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mNumTxtEntries; }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        ItemState GetState(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ItemState<span class="keyword">&gt;</span>(mState); }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordtype">void</span>      SetState(ItemState aState);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="group__core-timer.html#ga41eb1fb3e9e29d59033672502b1730b9">TimeMilli</a> GetLeaseRenewTime(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group__core-timer.html#ga41eb1fb3e9e29d59033672502b1730b9">TimeMilli</a>(mData); }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordtype">void</span>      SetLeaseRenewTime(<a class="code" href="group__core-timer.html#ga41eb1fb3e9e29d59033672502b1730b9">TimeMilli</a> aTime) { mData = aTime.GetValue(); }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordtype">bool</span>      Matches(<span class="keyword">const</span> Service &amp;aOther) <span class="keyword">const</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">bool</span>      Matches(ItemState aState)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetState() == aState; }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    };</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">explicit</span> Client(Instance &amp;aInstance);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> Start(<span class="keyword">const</span> Ip6::SockAddr &amp;aServerSockAddr) { <span class="keywordflow">return</span> Start(aServerSockAddr, kRequesterUser); }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">void</span> Stop(<span class="keywordtype">void</span>) { Stop(kRequesterUser, kResetRetryInterval); }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="group__api-srp.html#ga6429fdfff87633164a3256098cb3c82a">otSrpClientAutoStartCallback</a> AutoStartCallback;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">void</span> EnableAutoStartMode(AutoStartCallback aCallback, <span class="keywordtype">void</span> *aContext);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordtype">void</span> DisableAutoStartMode(<span class="keywordtype">void</span>) { mAutoStart.SetState(AutoStart::kDisabled); }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">bool</span> IsAutoStartModeEnabled(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAutoStart.GetState() != AutoStart::kDisabled; }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">bool</span> IsServerSelectedByAutoStart(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAutoStart.HasSelectedServer(); }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#endif // OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">bool</span> IsRunning(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (mState != kStateStopped); }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keyword">const</span> Ip6::SockAddr &amp;GetServerAddress(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSocket.GetPeerName(); }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">void</span> SetCallback(Callback aCallback, <span class="keywordtype">void</span> *aContext);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    uint32_t GetTtl(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (0 &lt; mTtl &amp;&amp; mTtl &lt; mLeaseInterval) ? mTtl : mLeaseInterval; }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordtype">void</span> SetTtl(uint32_t aTtl) { mTtl = aTtl; }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    uint32_t GetLeaseInterval(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mLeaseInterval; }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordtype">void</span> SetLeaseInterval(uint32_t aInterval) { mLeaseInterval = GetBoundedLeaseInterval(aInterval, kDefaultLease); }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    uint32_t GetKeyLeaseInterval(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mKeyLeaseInterval; }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">void</span> SetKeyLeaseInterval(uint32_t aInterval)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        mKeyLeaseInterval = GetBoundedLeaseInterval(aInterval, kDefaultKeyLease);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keyword">const</span> HostInfo &amp;GetHostInfo(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mHostInfo; }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> SetHostName(<span class="keyword">const</span> <span class="keywordtype">char</span> *aName);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> EnableAutoHostAddress(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> SetHostAddresses(<span class="keyword">const</span> Ip6::Address *aAddresses, uint8_t aNumAddresses);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> AddService(Service &amp;aService);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> RemoveService(Service &amp;aService);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> ClearService(Service &amp;aService);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keyword">const</span> LinkedList&lt;Service&gt; &amp;GetServices(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mServices; }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> RemoveHostAndServices(<span class="keywordtype">bool</span> aShouldRemoveKeyLease, <span class="keywordtype">bool</span> aSendUnregToServer = <span class="keyword">false</span>);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordtype">void</span> ClearHostAndServices(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_DOMAIN_NAME_API_ENABLE</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *GetDomainName(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mDomainName; }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> SetDomainName(<span class="keyword">const</span> <span class="keywordtype">char</span> *aName);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#endif // OPENTHREAD_CONFIG_SRP_CLIENT_DOMAIN_NAME_API_ENABLE</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *ItemStateToString(ItemState aState);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_REFERENCE_DEVICE_ENABLE</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">void</span> SetServiceKeyRecordEnabled(<span class="keywordtype">bool</span> aEnabled) { mServiceKeyRecordEnabled = aEnabled; }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordtype">bool</span> IsServiceKeyRecordEnabled(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mServiceKeyRecordEnabled; }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#endif // OPENTHREAD_CONFIG_REFERENCE_DEVICE_ENABLE</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// Number of fast data polls after SRP Update tx (11x 188ms = ~2 seconds)</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keyword">static</span> constexpr uint8_t kFastPollsAfterUpdateTx = 11;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_SWITCH_SERVER_ON_FAILURE</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keyword">static</span> constexpr uint8_t kMaxTimeoutFailuresToSwitchServer =</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#a16fe13343c599e9011431e5a39278f0a">OPENTHREAD_CONFIG_SRP_CLIENT_MAX_TIMEOUT_FAILURES_TO_SWITCH_SERVER</a>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keyword">static</span> constexpr uint16_t kUdpPayloadSize = <a class="code" href="group__core-ip6-ip6.html#ga8ac07c370246bfc85bea85cb23a7f611">Ip6::kMaxDatagramLength</a> - <span class="keyword">sizeof</span>(Ip6::Udp::Header);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// -------------------------------</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// Lease related constants</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kDefaultLease    = <a class="code" href="src_2core_2config_2srp__client_8h.html#ad8f380e40302f40ad08573d0ba4ab1c4">OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_LEASE</a>;     <span class="comment">// in seconds.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kDefaultKeyLease = <a class="code" href="src_2core_2config_2srp__client_8h.html#a5862d106ef6ede879632a5a6669c5f22">OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_KEY_LEASE</a>; <span class="comment">// in seconds.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// The guard interval determines how much earlier (relative to</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// the lease expiration time) the client will send an update</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// to renew the lease. Value is in seconds.</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kLeaseRenewGuardInterval = <a class="code" href="src_2core_2config_2srp__client_8h.html#acde4e3548a9e91c7772566313fdfa03c">OPENTHREAD_CONFIG_SRP_CLIENT_LEASE_RENEW_GUARD_INTERVAL</a>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Max allowed lease time to avoid timer roll-over (~24.8 days).</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kMaxLease = (<a class="code" href="classot_1_1_timer.html#ab66d4b30fe04e7433ad70937467931ed">Timer::kMaxDelay</a> / 1000) - 1;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// Opportunistic early refresh: When sending an SRP update, the</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">// services that are not yet expired but are close, are allowed</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// to refresh early and are included in the SRP update. This</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// helps place more services on the same lease refresh schedule</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// reducing number of messages sent to the SRP server. The</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// &quot;early lease renewal interval&quot; is used to determine if a</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">// service can renew early. The interval is calculated by</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// multiplying the accepted lease interval by the&quot;early lease</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">// renewal factor&quot; which is given as a fraction (numerator and</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// denominator).</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// If the factor is set to zero (numerator=0, denominator=1),</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// the opportunistic early refresh behavior is disabled. If</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// denominator is set to zero (the factor is set to infinity),</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// then all services (including previously registered ones)</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// are always included in SRP update message.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kEarlyLeaseRenewFactorNumerator =</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#a8bc6443dda9754356ed4fc2eff993ead">OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_NUMERATOR</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kEarlyLeaseRenewFactorDenominator =</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#aa68a13a066580bcdb836d1bbcae0decf">OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_DENOMINATOR</a>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// -------------------------------</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// When there is a change (e.g., a new service is added/removed)</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// that requires an update, the SRP client will wait for a short</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">// delay as specified by `kUpdateTxDelay` before sending an SRP</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">// update to server. This allows the user to provide more change</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// that are then all sent in same update message.</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kUpdateTxMinDelay = <a class="code" href="src_2core_2config_2srp__client_8h.html#aa87ad86956a4d8fd8567aff838cd50a9">OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MIN_DELAY</a>; <span class="comment">// in msec.</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kUpdateTxMaxDelay = <a class="code" href="src_2core_2config_2srp__client_8h.html#a47d5de420e1ffdc2983bb6b2c37b8b1a">OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MAX_DELAY</a>; <span class="comment">// in msec.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// -------------------------------</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Retry related constants</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// If the preparation or transmission of an SRP update message</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">// fails (e.g., no buffer to allocate the message), SRP client</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// will retry after a short interval `kTxFailureRetryInterval`</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// up to `kMaxTxFailureRetries` attempts. After this, the retry</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// wait interval will be used (which keeps growing on each failure</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">// - please see bellow).</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// If the update message is sent successfully but there is no</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// response from server or if server rejects the update, the</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// client will retransmit the update message after some wait</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// interval. The wait interval starts from the minimum value and</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// is increased by the growth factor on back-to-back failures up</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// to the max value. The growth factor is given as a fraction</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// (e.g., for 1.5, we can use 15 as the numerator and 10 as the</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// denominator). A random jitter is added to the retry interval.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// If the current wait interval value is smaller than the jitter</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// interval, then wait interval value itself is used as the</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// jitter value. For example, with jitter interval of 2 seconds</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// if the current retry interval is 800ms, then a random wait</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// interval in [0,2*800] ms will be used.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kTxFailureRetryInterval = 250; <span class="comment">// in ms</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kMaxTxFailureRetries    = 8;   <span class="comment">// num of quick retries after tx failure</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kMinRetryWaitInterval   = <a class="code" href="src_2core_2config_2srp__client_8h.html#a24d63f047a7b720ad567e244552a7d06">OPENTHREAD_CONFIG_SRP_CLIENT_MIN_RETRY_WAIT_INTERVAL</a>; <span class="comment">// in ms</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kMaxRetryWaitInterval   = <a class="code" href="src_2core_2config_2srp__client_8h.html#aa816d9e4744b562370f001e221d34364">OPENTHREAD_CONFIG_SRP_CLIENT_MAX_RETRY_WAIT_INTERVAL</a>; <span class="comment">// in ms</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kRetryIntervalGrowthFactorNumerator =</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#a9935d5ace65a0734c7c5c11a7ceec867">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_NUMERATOR</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keyword">static</span> constexpr uint32_t kRetryIntervalGrowthFactorDenominator =</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#ac51afa241c93e3adaa118752981d3559">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_DENOMINATOR</a>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keyword">static</span> constexpr uint16_t kTxFailureRetryJitter = 10;                                                      <span class="comment">// in ms</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keyword">static</span> constexpr uint16_t kRetryIntervalJitter  = <a class="code" href="src_2core_2config_2srp__client_8h.html#a984bfc0417147d40daf1535041fc2135">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_WAIT_INTERVAL_JITTER</a>; <span class="comment">// in ms</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    static_assert(kDefaultLease &lt;= static_cast&lt;uint32_t&gt;(kMaxLease), <span class="stringliteral">&quot;kDefaultLease is larger than max&quot;</span>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    static_assert(kDefaultKeyLease &lt;= static_cast&lt;uint32_t&gt;(kMaxLease), <span class="stringliteral">&quot;kDefaultKeyLease is larger than max&quot;</span>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keyword">enum</span> State : uint8_t</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        kStateStopped,  <span class="comment">// Client is stopped.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        kStatePaused,   <span class="comment">// Client is paused (due to device being detached).</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        kStateToUpdate, <span class="comment">// Waiting to send SRP update</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        kStateUpdating, <span class="comment">// SRP update is sent, waiting for response from server.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        kStateUpdated,  <span class="comment">// SRP update response received from server.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        kStateToRetry,  <span class="comment">// SRP update tx failed, waiting to retry.</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    };</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kAutoStartDefaultMode = <a class="code" href="src_2core_2config_2srp__client_8h.html#a732553c364856dfb1885bc89563dda58">OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_DEFAULT_MODE</a>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kDisallowSwitchOnRegisteredHost =</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="src_2core_2config_2srp__client_8h.html#a16ff51934ce30629316163e977b3f8a2">OPENTHREAD_CONFIG_SRP_CLIENT_DISALLOW_SERVER_SWITCH_WITH_REGISTERED_HOST</a>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// Port number to use when server is discovered using &quot;network data anycast service&quot;.</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keyword">static</span> constexpr uint16_t kAnycastServerPort = 53;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// This enumeration type is used by the private `Start()` and</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">// `Stop()` methods to indicate whether it is being requested by the</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// user or by the auto-start feature.</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keyword">enum</span> Requester : uint8_t</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        kRequesterUser,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        kRequesterAuto,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    };</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// This enumeration is used as an input to private `Stop()` to</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// indicate whether to reset the retry interval or keep it as is.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keyword">enum</span> StopMode : uint8_t</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        kResetRetryInterval,</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        kKeepRetryInterval,</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    };</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keyword">class </span>SingleServiceMode</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        SingleServiceMode(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            : mEnabled(false)</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            , mService(nullptr)</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordtype">void</span>     Enable(<span class="keywordtype">void</span>) { mEnabled = <span class="keyword">true</span>, mService = <span class="keyword">nullptr</span>; }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordtype">void</span>     Disable(<span class="keywordtype">void</span>) { mEnabled = <span class="keyword">false</span>; }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordtype">bool</span>     IsEnabled(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mEnabled; }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        Service *GetService(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> mService; }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordtype">void</span>     SetService(Service &amp;aService) { mService = &amp;aService; }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordtype">bool</span>     mEnabled;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        Service *mService;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    };</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">class </span>AutoStart : Clearable&lt;AutoStart&gt;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keyword">enum</span> State : uint8_t{</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            kDisabled,                 <span class="comment">// AutoStart is disabled.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            kSelectedNone,             <span class="comment">// AutoStart is enabled but not yet selected any servers.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            kSelectedUnicastPreferred, <span class="comment">// AutoStart selected a preferred unicast entry (address in service data).</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            kSelectedAnycast,          <span class="comment">// AutoStart selected an anycast entry with `mAnycastSeqNum`.</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            kSelectedUnicast,          <span class="comment">// AutoStart selected a unicast entry (address in server data).</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        };</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        AutoStart(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordtype">bool</span>    HasSelectedServer(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        State   GetState(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mState; }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordtype">void</span>    SetState(State aState);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        uint8_t GetAnycastSeqNum(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAnycastSeqNum; }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="keywordtype">void</span>    SetAnycastSeqNum(uint8_t aAnycastSeqNum) { mAnycastSeqNum = aAnycastSeqNum; }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="keywordtype">void</span>    SetCallback(AutoStartCallback aCallback, <span class="keywordtype">void</span> *aContext);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordtype">void</span>    InvokeCallback(<span class="keyword">const</span> Ip6::SockAddr *aServerSockAddr) <span class="keyword">const</span>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_SWITCH_SERVER_ON_FAILURE</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        uint8_t GetTimoutFailureCount(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mTimoutFailureCount; }</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordtype">void</span>    ResetTimoutFailureCount(<span class="keywordtype">void</span>) { mTimoutFailureCount = 0; }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordtype">void</span>    IncrementTimoutFailureCount(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordflow">if</span> (mTimoutFailureCount &lt; <a class="code" href="structot_1_1_numeric_limits_3_01uint8__t_01_4.html#a604be34b906b4f1d71bdf0753cf78b79">NumericLimits&lt;uint8_t&gt;::kMax</a>)</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                mTimoutFailureCount++;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kDefaultMode = <a class="code" href="src_2core_2config_2srp__client_8h.html#a732553c364856dfb1885bc89563dda58">OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_DEFAULT_MODE</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *StateToString(State aState);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        AutoStartCallback mCallback;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordtype">void</span> *            mContext;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        State             mState;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        uint8_t           mAnycastSeqNum;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_SWITCH_SERVER_ON_FAILURE</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        uint8_t mTimoutFailureCount; <span class="comment">// Number of no-response timeout failures with the currently selected server.</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    };</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">#endif // OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">struct </span>Info : <span class="keyword">public</span> Clearable&lt;Info&gt;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keyword">static</span> constexpr uint16_t kUnknownOffset = 0; <span class="comment">// Unknown offset value (used when offset is not yet set).</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        uint16_t                     mDomainNameOffset; <span class="comment">// Offset of domain name serialization</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        uint16_t                     mHostNameOffset;   <span class="comment">// Offset of host name serialization.</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        uint16_t                     mRecordCount;      <span class="comment">// Number of resource records in Update section.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        Crypto::Ecdsa::P256::KeyPair mKeyPair;          <span class="comment">// The ECDSA key pair.</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    };</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        Start(<span class="keyword">const</span> Ip6::SockAddr &amp;aServerSockAddr, Requester aRequester);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordtype">void</span>         Stop(Requester aRequester, StopMode aMode);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordtype">void</span>         Resume(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordtype">void</span>         Pause(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordtype">void</span>         HandleNotifierEvents(Events aEvents);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordtype">void</span>         HandleRoleChanged(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        UpdateHostInfoStateOnAddressChange(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordtype">void</span>         UpdateServiceStateToRemove(Service &amp;aService);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    State        GetState(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mState; }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordtype">void</span>         SetState(State aState);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">void</span>         ChangeHostAndServiceStates(<span class="keyword">const</span> ItemState *aNewStates);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordtype">void</span>         InvokeCallback(<a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> aError) <span class="keyword">const</span>;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordtype">void</span>         InvokeCallback(<a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> aError, <span class="keyword">const</span> HostInfo &amp;aHostInfo, <span class="keyword">const</span> Service *aRemovedServices) <span class="keyword">const</span>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordtype">void</span>         HandleHostInfoOrServiceChange(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordtype">void</span>         SendUpdate(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        PrepareUpdateMessage(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        ReadOrGenerateKey(Crypto::Ecdsa::P256::KeyPair &amp;aKeyPair);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendServiceInstructions(Service &amp;aService, <a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendHostDescriptionInstruction(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendKeyRecord(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo) <span class="keyword">const</span>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendDeleteAllRrsets(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage) <span class="keyword">const</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendHostName(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo, <span class="keywordtype">bool</span> aDoNotCompress = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendAaaaRecord(<span class="keyword">const</span> Ip6::Address &amp;aAddress, <a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo) <span class="keyword">const</span>;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendUpdateLeaseOptRecord(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage) <span class="keyword">const</span>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        AppendSignature(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, Info &amp;aInfo);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordtype">void</span>         UpdateRecordLengthInMessage(Dns::ResourceRecord &amp;aRecord, uint16_t aOffset, <a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage) <span class="keyword">const</span>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span>  HandleUdpReceive(<span class="keywordtype">void</span> *aContext, <a class="code" href="structot_message.html">otMessage</a> *aMessage, <span class="keyword">const</span> <a class="code" href="structot_message_info.html">otMessageInfo</a> *aMessageInfo);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">void</span>         ProcessResponse(<a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">void</span>         HandleUpdateDone(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordtype">void</span>         GetRemovedServices(LinkedList&lt;Service&gt; &amp;aRemovedServices);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keyword">static</span> <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> ReadResourceRecord(<span class="keyword">const</span> <a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, uint16_t &amp;aOffset, Dns::ResourceRecord &amp;aRecord);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a>        ProcessOptRecord(<span class="keyword">const</span> <a class="code" href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">Message</a> &amp;aMessage, uint16_t aOffset, <span class="keyword">const</span> Dns::OptRecord &amp;aOptRecord);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordtype">void</span>         UpdateState(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    uint32_t     GetRetryWaitInterval(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mRetryWaitInterval; }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordtype">void</span>         ResetRetryWaitInterval(<span class="keywordtype">void</span>) { mRetryWaitInterval = kMinRetryWaitInterval; }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordtype">void</span>         GrowRetryWaitInterval(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    uint32_t     GetBoundedLeaseInterval(uint32_t aInterval, uint32_t aDefaultInterval) <span class="keyword">const</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordtype">bool</span>         ShouldRenewEarly(<span class="keyword">const</span> Service &amp;aService) <span class="keyword">const</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span>  HandleTimer(Timer &amp;aTimer);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordtype">void</span>         HandleTimer(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordtype">void</span>  ProcessAutoStart(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">Error</a> SelectUnicastEntry(DnsSrpUnicast::Origin aOrigin, DnsSrpUnicast::Info &amp;aInfo) <span class="keyword">const</span>;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_SWITCH_SERVER_ON_FAILURE</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">void</span> SelectNextServer(<span class="keywordtype">bool</span> aDisallowSwitchOnRegisteredHost);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="preprocessor">#if OT_SHOULD_LOG_AT(OT_LOG_LEVEL_INFO)</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *StateToString(State aState);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordtype">void</span>               LogRetryWaitInterval(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordtype">void</span> LogRetryWaitInterval(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{}</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> kDefaultDomainName[];</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    static_assert(kMaxTxFailureRetries &lt; 16, <span class="stringliteral">&quot;kMaxTxFailureRetries exceed the range of mTxFailureRetryCount (4-bit)&quot;</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    State   mState;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    uint8_t mTxFailureRetryCount : 4;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">bool</span>    mShouldRemoveKeyLease : 1;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordtype">bool</span>    mAutoHostAddressAddedMeshLocal : 1;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_REFERENCE_DEVICE_ENABLE</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordtype">bool</span> mServiceKeyRecordEnabled : 1;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    uint16_t mUpdateMessageId;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    uint32_t mRetryWaitInterval;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="group__core-timer.html#ga41eb1fb3e9e29d59033672502b1730b9">TimeMilli</a> mLeaseRenewTime;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    uint32_t  mAcceptedLeaseInterval;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    uint32_t  mTtl;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    uint32_t  mLeaseInterval;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    uint32_t  mKeyLeaseInterval;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    Ip6::Udp::Socket mSocket;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    Callback            mCallback;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordtype">void</span> *              mCallbackContext;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *        mDomainName;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    HostInfo            mHostInfo;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    LinkedList&lt;Service&gt; mServices;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    SingleServiceMode   mSingleServiceMode;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    TimerMilli          mTimer;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor">#if OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_API_ENABLE</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    AutoStart mAutoStart;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;};</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;} <span class="comment">// namespace Srp</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<a class="code" href="namespaceot.html#ad55a060e57d6da26520d7727ab120150">DefineCoreType</a>(<a class="code" href="structot_srp_client_host_info.html">otSrpClientHostInfo</a>, Srp::Client::HostInfo);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<a class="code" href="namespaceot.html#ad55a060e57d6da26520d7727ab120150">DefineCoreType</a>(<a class="code" href="structot_srp_client_service.html">otSrpClientService</a>, Srp::Client::Service);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<a class="code" href="namespaceot.html#a161c84992272cfd8f0be48644b917f80">DefineMapEnum</a>(<a class="code" href="group__api-srp.html#ga4282c995a78d63a59e930f4a67f07e41">otSrpClientItemState</a>, Srp::Client::ItemState);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;} <span class="comment">// namespace ot</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">#endif // OPENTHREAD_CONFIG_SRP_CLIENT_ENABLE</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">#endif // SRP_CLIENT_HPP_</span></div><div class="ttc" id="group__core-ip6-ip6_html_ga8ac07c370246bfc85bea85cb23a7f611"><div class="ttname"><a href="group__core-ip6-ip6.html#ga8ac07c370246bfc85bea85cb23a7f611">ot::Ip6::kMaxDatagramLength</a></div><div class="ttdeci">static constexpr uint16_t kMaxDatagramLength</div><div class="ttdef"><b>Definition:</b> ip6_types.hpp:70</div></div>
<div class="ttc" id="group__api-srp_html_ga09097414e15418233d605567ae486c9e"><div class="ttname"><a href="group__api-srp.html#ga09097414e15418233d605567ae486c9e">otSrpClientCallback</a></div><div class="ttdeci">void(* otSrpClientCallback)(otError aError, const otSrpClientHostInfo *aHostInfo, const otSrpClientService *aServices, const otSrpClientService *aRemovedServices, void *aContext)</div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:170</div></div>
<div class="ttc" id="namespaceot_html"><div class="ttname"><a href="namespaceot.html">ot</a></div><div class="ttdef"><b>Definition:</b> cli.cpp:92</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a16ff51934ce30629316163e977b3f8a2"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a16ff51934ce30629316163e977b3f8a2">OPENTHREAD_CONFIG_SRP_CLIENT_DISALLOW_SERVER_SWITCH_WITH_REGISTERED_HOST</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_DISALLOW_SERVER_SWITCH_WITH_REGISTERED_HOST</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:109</div></div>
<div class="ttc" id="locator_8hpp_html"><div class="ttname"><a href="locator_8hpp.html">locator.hpp</a></div></div>
<div class="ttc" id="clearable_8hpp_html"><div class="ttname"><a href="clearable_8hpp.html">clearable.hpp</a></div></div>
<div class="ttc" id="include_2openthread_2srp__client_8h_html"><div class="ttname"><a href="include_2openthread_2srp__client_8h.html">srp_client.h</a></div><div class="ttdoc">This file defines the OpenThread SRP (Service Registration Protocol) client APIs. ...</div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41ab7d6d9181b5cdcd9f440788be3db10c3"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ab7d6d9181b5cdcd9f440788be3db10c3">OT_SRP_CLIENT_ITEM_STATE_TO_REMOVE</a></div><div class="ttdoc">Item to be removed. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:65</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a5862d106ef6ede879632a5a6669c5f22"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a5862d106ef6ede879632a5a6669c5f22">OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_KEY_LEASE</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_KEY_LEASE</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:167</div></div>
<div class="ttc" id="structot_message_info_html"><div class="ttname"><a href="structot_message_info.html">otMessageInfo</a></div><div class="ttdef"><b>Definition:</b> include/openthread/ip6.h:226</div></div>
<div class="ttc" id="namespaceot_html_ad55a060e57d6da26520d7727ab120150"><div class="ttname"><a href="namespaceot.html#ad55a060e57d6da26520d7727ab120150">ot::DefineCoreType</a></div><div class="ttdeci">DefineCoreType(otCoapTxParameters, Coap::TxParameters)</div></div>
<div class="ttc" id="structot_1_1_numeric_limits_3_01uint8__t_01_4_html_a604be34b906b4f1d71bdf0753cf78b79"><div class="ttname"><a href="structot_1_1_numeric_limits_3_01uint8__t_01_4.html#a604be34b906b4f1d71bdf0753cf78b79">ot::NumericLimits&lt; uint8_t &gt;::kMax</a></div><div class="ttdeci">static constexpr uint8_t kMax</div><div class="ttdef"><b>Definition:</b> numeric_limits.hpp:80</div></div>
<div class="ttc" id="network__data__service_8hpp_html"><div class="ttname"><a href="network__data__service_8hpp.html">network_data_service.hpp</a></div></div>
<div class="ttc" id="classot_1_1_notifier_html"><div class="ttname"><a href="classot_1_1_notifier.html">ot::Notifier</a></div><div class="ttdef"><b>Definition:</b> notifier.hpp:197</div></div>
<div class="ttc" id="structot_srp_client_service_html"><div class="ttname"><a href="structot_srp_client_service.html">otSrpClientService</a></div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:92</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a984bfc0417147d40daf1535041fc2135"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a984bfc0417147d40daf1535041fc2135">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_WAIT_INTERVAL_JITTER</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_WAIT_INTERVAL_JITTER</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:280</div></div>
<div class="ttc" id="namespaceot_1_1_tmf_html_a3336669ba13983fa1582b01ce5929d80"><div class="ttname"><a href="namespaceot_1_1_tmf.html#a3336669ba13983fa1582b01ce5929d80">ot::Tmf::Message</a></div><div class="ttdeci">Coap::Message Message</div><div class="ttdoc">A TMF message. </div><div class="ttdef"><b>Definition:</b> tmf.hpp:47</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a16fe13343c599e9011431e5a39278f0a"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a16fe13343c599e9011431e5a39278f0a">OPENTHREAD_CONFIG_SRP_CLIENT_MAX_TIMEOUT_FAILURES_TO_SWITCH_SERVER</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_MAX_TIMEOUT_FAILURES_TO_SWITCH_SERVER</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:121</div></div>
<div class="ttc" id="notifier_8hpp_html"><div class="ttname"><a href="notifier_8hpp.html">notifier.hpp</a></div></div>
<div class="ttc" id="group__api-srp_html_ga4282c995a78d63a59e930f4a67f07e41"><div class="ttname"><a href="group__api-srp.html#ga4282c995a78d63a59e930f4a67f07e41">otSrpClientItemState</a></div><div class="ttdeci">otSrpClientItemState</div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:59</div></div>
<div class="ttc" id="linked__list_8hpp_html"><div class="ttname"><a href="linked__list_8hpp.html">linked_list.hpp</a></div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41a93df2521eb58089bf3fadb81d51be0ba"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a93df2521eb58089bf3fadb81d51be0ba">OT_SRP_CLIENT_ITEM_STATE_REMOVED</a></div><div class="ttdoc">Item is removed. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:68</div></div>
<div class="ttc" id="udp6_8hpp_html"><div class="ttname"><a href="udp6_8hpp.html">udp6.hpp</a></div></div>
<div class="ttc" id="classot_1_1_timer_html_ab66d4b30fe04e7433ad70937467931ed"><div class="ttname"><a href="classot_1_1_timer.html#ab66d4b30fe04e7433ad70937467931ed">ot::Timer::kMaxDelay</a></div><div class="ttdeci">static const uint32_t kMaxDelay</div><div class="ttdef"><b>Definition:</b> timer.hpp:77</div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41aea96ccf5599bd8897c87ebcf7157be64"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41aea96ccf5599bd8897c87ebcf7157be64">OT_SRP_CLIENT_ITEM_STATE_TO_ADD</a></div><div class="ttdoc">Item to be added/registered. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:61</div></div>
<div class="ttc" id="namespaceot_html_a8a8d6806b2f5b3517003d9a36f404a7e"><div class="ttname"><a href="namespaceot.html#a8a8d6806b2f5b3517003d9a36f404a7e">ot::AsCoreTypePtr</a></div><div class="ttdeci">CoreType&lt; Type &gt;::Type * AsCoreTypePtr(Type *aObject)</div><div class="ttdef"><b>Definition:</b> as_core_type.hpp:100</div></div>
<div class="ttc" id="namespaceot_html_a161c84992272cfd8f0be48644b917f80"><div class="ttname"><a href="namespaceot.html#a161c84992272cfd8f0be48644b917f80">ot::DefineMapEnum</a></div><div class="ttdeci">DefineMapEnum(otCoapType, Coap::Type)</div></div>
<div class="ttc" id="namespaceot_html_abe2a815f13046dbb91b0464c29ca6ae5"><div class="ttname"><a href="namespaceot.html#abe2a815f13046dbb91b0464c29ca6ae5">ot::Error</a></div><div class="ttdeci">otError Error</div><div class="ttdef"><b>Definition:</b> error.hpp:49</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_aa816d9e4744b562370f001e221d34364"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#aa816d9e4744b562370f001e221d34364">OPENTHREAD_CONFIG_SRP_CLIENT_MAX_RETRY_WAIT_INTERVAL</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_MAX_RETRY_WAIT_INTERVAL</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:268</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_aa87ad86956a4d8fd8567aff838cd50a9"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#aa87ad86956a4d8fd8567aff838cd50a9">OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MIN_DELAY</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MIN_DELAY</div></div>
<div class="ttc" id="non__copyable_8hpp_html"><div class="ttname"><a href="non__copyable_8hpp.html">non_copyable.hpp</a></div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41a575dd4924d46b0f82a93760846def7a8"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a575dd4924d46b0f82a93760846def7a8">OT_SRP_CLIENT_ITEM_STATE_TO_REFRESH</a></div><div class="ttdoc">Item to be refreshed (re-register to renew lease). </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:63</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_ad8f380e40302f40ad08573d0ba4ab1c4"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#ad8f380e40302f40ad08573d0ba4ab1c4">OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_LEASE</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_DEFAULT_LEASE</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:157</div></div>
<div class="ttc" id="message_8hpp_html"><div class="ttname"><a href="message_8hpp.html">message.hpp</a></div></div>
<div class="ttc" id="namespaceot_html_abf73bb2a93cf30966977a1cf616e60d5"><div class="ttname"><a href="namespaceot.html#abf73bb2a93cf30966977a1cf616e60d5">ot::AsCoreType</a></div><div class="ttdeci">CoreType&lt; Type &gt;::Type &amp; AsCoreType(Type *aObject)</div><div class="ttdef"><b>Definition:</b> as_core_type.hpp:66</div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41ad6f143fe4e7a9e38d34b8a587ab686d7"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ad6f143fe4e7a9e38d34b8a587ab686d7">OT_SRP_CLIENT_ITEM_STATE_REGISTERED</a></div><div class="ttdoc">Item is registered with server. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:67</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a9935d5ace65a0734c7c5c11a7ceec867"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a9935d5ace65a0734c7c5c11a7ceec867">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_NUMERATOR</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_NUMERATOR</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:291</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_aa68a13a066580bcdb836d1bbcae0decf"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#aa68a13a066580bcdb836d1bbcae0decf">OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_DENOMINATOR</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_DENOMINATOR</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:213</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a8bc6443dda9754356ed4fc2eff993ead"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a8bc6443dda9754356ed4fc2eff993ead">OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_NUMERATOR</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_EARLY_LEASE_RENEW_FACTOR_NUMERATOR</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:201</div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41a00bcc9135d70553c98846b71ff1d25a4"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a00bcc9135d70553c98846b71ff1d25a4">OT_SRP_CLIENT_ITEM_STATE_REMOVING</a></div><div class="ttdoc">Item is being removed. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:66</div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41ab058e263966f407223d76b8846fc75f8"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41ab058e263966f407223d76b8846fc75f8">OT_SRP_CLIENT_ITEM_STATE_REFRESHING</a></div><div class="ttdoc">Item is being refreshed. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:64</div></div>
<div class="ttc" id="timer_8hpp_html"><div class="ttname"><a href="timer_8hpp.html">timer.hpp</a></div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a24d63f047a7b720ad567e244552a7d06"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a24d63f047a7b720ad567e244552a7d06">OPENTHREAD_CONFIG_SRP_CLIENT_MIN_RETRY_WAIT_INTERVAL</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_MIN_RETRY_WAIT_INTERVAL</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:258</div></div>
<div class="ttc" id="numeric__limits_8hpp_html"><div class="ttname"><a href="numeric__limits_8hpp.html">numeric_limits.hpp</a></div></div>
<div class="ttc" id="ip6_8hpp_html"><div class="ttname"><a href="ip6_8hpp.html">ip6.hpp</a></div></div>
<div class="ttc" id="group__core-timer_html_ga41eb1fb3e9e29d59033672502b1730b9"><div class="ttname"><a href="group__core-timer.html#ga41eb1fb3e9e29d59033672502b1730b9">ot::TimeMilli</a></div><div class="ttdeci">Time TimeMilli</div><div class="ttdef"><b>Definition:</b> time.hpp:271</div></div>
<div class="ttc" id="ecdsa_8hpp_html"><div class="ttname"><a href="ecdsa_8hpp.html">ecdsa.hpp</a></div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a732553c364856dfb1885bc89563dda58"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a732553c364856dfb1885bc89563dda58">OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_DEFAULT_MODE</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_AUTO_START_DEFAULT_MODE</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:70</div></div>
<div class="ttc" id="dns__types_8hpp_html"><div class="ttname"><a href="dns__types_8hpp.html">dns_types.hpp</a></div></div>
<div class="ttc" id="group__api-srp_html_gga4282c995a78d63a59e930f4a67f07e41a70e8b301b3d24324cb007512c4a0715c"><div class="ttname"><a href="group__api-srp.html#gga4282c995a78d63a59e930f4a67f07e41a70e8b301b3d24324cb007512c4a0715c">OT_SRP_CLIENT_ITEM_STATE_ADDING</a></div><div class="ttdoc">Item is being added/registered. </div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:62</div></div>
<div class="ttc" id="as__core__type_8hpp_html"><div class="ttname"><a href="as__core__type_8hpp.html">as_core_type.hpp</a></div></div>
<div class="ttc" id="log_8hpp_html"><div class="ttname"><a href="log_8hpp.html">log.hpp</a></div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_a47d5de420e1ffdc2983bb6b2c37b8b1a"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#a47d5de420e1ffdc2983bb6b2c37b8b1a">OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MAX_DELAY</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_UPDATE_TX_MAX_DELAY</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:245</div></div>
<div class="ttc" id="group__api-srp_html_ga6429fdfff87633164a3256098cb3c82a"><div class="ttname"><a href="group__api-srp.html#ga6429fdfff87633164a3256098cb3c82a">otSrpClientAutoStartCallback</a></div><div class="ttdeci">void(* otSrpClientAutoStartCallback)(const otSockAddr *aServerSockAddr, void *aContext)</div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:189</div></div>
<div class="ttc" id="structot_message_html"><div class="ttname"><a href="structot_message.html">otMessage</a></div><div class="ttdef"><b>Definition:</b> message.hpp:66</div></div>
<div class="ttc" id="openthread-core-config_8h_html"><div class="ttname"><a href="openthread-core-config_8h.html">openthread-core-config.h</a></div></div>
<div class="ttc" id="structot_srp_client_host_info_html"><div class="ttname"><a href="structot_srp_client_host_info.html">otSrpClientHostInfo</a></div><div class="ttdef"><b>Definition:</b> include/openthread/srp_client.h:75</div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_ac51afa241c93e3adaa118752981d3559"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#ac51afa241c93e3adaa118752981d3559">OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_DENOMINATOR</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_RETRY_INTERVAL_GROWTH_FACTOR_DENOMINATOR</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:301</div></div>
<div class="ttc" id="group__core-mle-core_html_gga13096f648f442b153a1cac0bc7097a52a4f44be333b6269b33c50c45819e5dc82"><div class="ttname"><a href="group__core-mle-core.html#gga13096f648f442b153a1cac0bc7097a52a4f44be333b6269b33c50c45819e5dc82">ot::Mle::ChildDuaState::kRemoved</a></div><div class="ttdoc">DUA registered by the Child is removed and not in Address Registration. </div></div>
<div class="ttc" id="src_2core_2config_2srp__client_8h_html_acde4e3548a9e91c7772566313fdfa03c"><div class="ttname"><a href="src_2core_2config_2srp__client_8h.html#acde4e3548a9e91c7772566313fdfa03c">OPENTHREAD_CONFIG_SRP_CLIENT_LEASE_RENEW_GUARD_INTERVAL</a></div><div class="ttdeci">#define OPENTHREAD_CONFIG_SRP_CLIENT_LEASE_RENEW_GUARD_INTERVAL</div><div class="ttdef"><b>Definition:</b> src/core/config/srp_client.h:178</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2022</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
