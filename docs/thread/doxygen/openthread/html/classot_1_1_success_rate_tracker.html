<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>OpenThread: SuccessRateTracker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenThread
   &#160;<span id="projectnumber">1.05.03.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceot.html">ot</a></li><li class="navelem"><a class="el" href="classot_1_1_success_rate_tracker.html">SuccessRateTracker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SuccessRateTracker Class Reference<div class="ingroups"><a class="el" href="group__core-link-quality.html">Core-link-quality</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="link__quality_8hpp_source.html">link_quality.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for SuccessRateTracker:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classot_1_1_success_rate_tracker__inherit__graph.png" border="0" usemap="#_success_rate_tracker_inherit__map" alt="Inheritance graph"/></div>
<map name="_success_rate_tracker_inherit__map" id="_success_rate_tracker_inherit__map">
<area shape="rect" id="node2" href="classot_1_1_clearable.html" title="Clearable\&lt; SuccessRateTracker \&gt;" alt="" coords="5,5,227,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for SuccessRateTracker:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classot_1_1_success_rate_tracker__coll__graph.png" border="0" usemap="#_success_rate_tracker_coll__map" alt="Collaboration graph"/></div>
<map name="_success_rate_tracker_coll__map" id="_success_rate_tracker_coll__map">
<area shape="rect" id="node2" href="classot_1_1_clearable.html" title="Clearable\&lt; SuccessRateTracker \&gt;" alt="" coords="5,5,227,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a22c41349cf94f732f4199df530e45dc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#a22c41349cf94f732f4199df530e45dc4">AddSample</a> (bool aSuccess, uint16_t aWeight=<a class="el" href="classot_1_1_success_rate_tracker.html#a9e8330f759f59787f230b0e57a46baad">kDefaultWeight</a>)</td></tr>
<tr class="separator:a22c41349cf94f732f4199df530e45dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3fec9e23e6b4b1c009bfb3315c87d5c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#ac3fec9e23e6b4b1c009bfb3315c87d5c">GetFailureRate</a> (void) const</td></tr>
<tr class="separator:ac3fec9e23e6b4b1c009bfb3315c87d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dfd134403b2fb41ff8b3b9264101e0"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#a18dfd134403b2fb41ff8b3b9264101e0">GetSuccessRate</a> (void) const</td></tr>
<tr class="separator:a18dfd134403b2fb41ff8b3b9264101e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classot_1_1_clearable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classot_1_1_clearable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classot_1_1_clearable.html">Clearable&lt; SuccessRateTracker &gt;</a></td></tr>
<tr class="memitem:a666736fbd0ebb8dc7e6ff3392423d6c0 inherit pub_methods_classot_1_1_clearable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_clearable.html#a666736fbd0ebb8dc7e6ff3392423d6c0">Clear</a> (void)</td></tr>
<tr class="separator:a666736fbd0ebb8dc7e6ff3392423d6c0 inherit pub_methods_classot_1_1_clearable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a480f0cd48c158269e4ca783714aabb8c"><td class="memItemLeft" align="right" valign="top">static constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#a480f0cd48c158269e4ca783714aabb8c">kMaxRateValue</a> = 0xffff</td></tr>
<tr class="memdesc:a480f0cd48c158269e4ca783714aabb8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value corresponding to max (failure/success) rate of 100%.  <a href="#a480f0cd48c158269e4ca783714aabb8c">More...</a><br /></td></tr>
<tr class="separator:a480f0cd48c158269e4ca783714aabb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af228e8d284321bc964762c4168c79be3"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#af228e8d284321bc964762c4168c79be3">mFailureRate</a></td></tr>
<tr class="separator:af228e8d284321bc964762c4168c79be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a9e8330f759f59787f230b0e57a46baad"><td class="memItemLeft" align="right" valign="top">static constexpr uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classot_1_1_success_rate_tracker.html#a9e8330f759f59787f230b0e57a46baad">kDefaultWeight</a> = 64</td></tr>
<tr class="separator:a9e8330f759f59787f230b0e57a46baad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements an operation Success Rate Tracker.</p>
<p>This can be used to track different link quality related metrics, e.g., CCA failure rate, frame tx success rate). The success rate is maintained using an exponential moving IIR averaging filter with a <code>uint16_t</code> as the storage. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a22c41349cf94f732f4199df530e45dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c41349cf94f732f4199df530e45dc4">&sect;&nbsp;</a></span>AddSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddSample </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>aWeight</em> = <code><a class="el" href="classot_1_1_success_rate_tracker.html#a9e8330f759f59787f230b0e57a46baad">kDefaultWeight</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method adds a sample (success or failure) to <code><a class="el" href="classot_1_1_success_rate_tracker.html">SuccessRateTracker</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSuccess</td><td>The sample status be added, <code>true</code> for success, <code>false</code> for failure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aWeight</td><td>The weight coefficient used for adding the new sample into average. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classot_1_1_success_rate_tracker.html#a480f0cd48c158269e4ca783714aabb8c">SuccessRateTracker::kMaxRateValue</a>, and <a class="el" href="classot_1_1_success_rate_tracker.html#af228e8d284321bc964762c4168c79be3">SuccessRateTracker::mFailureRate</a>.</p>

<p>Referenced by <a class="el" href="classot_1_1_mac_1_1_mac.html#a1261a6ed9e3b1bdb0ca9a102cc4bb043">Mac::RecordCcaStatus()</a>.</p>

</div>
</div>
<a id="ac3fec9e23e6b4b1c009bfb3315c87d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3fec9e23e6b4b1c009bfb3315c87d5c">&sect;&nbsp;</a></span>GetFailureRate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t GetFailureRate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method returns the average failure rate.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>average failure rate <code>[0-kMaxRateValue]</code> with <code>kMaxRateValue</code> corresponding to 100%. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classot_1_1_success_rate_tracker.html#af228e8d284321bc964762c4168c79be3">SuccessRateTracker::mFailureRate</a>.</p>

<p>Referenced by <a class="el" href="classot_1_1_mac_1_1_mac.html#a2a4b5451162f021da9c55114e8967078">Mac::GetCcaFailureRate()</a>.</p>

</div>
</div>
<a id="a18dfd134403b2fb41ff8b3b9264101e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dfd134403b2fb41ff8b3b9264101e0">&sect;&nbsp;</a></span>GetSuccessRate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t GetSuccessRate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method returns the average success rate.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>average success rate as [0-kMaxRateValue] with <code>kMaxRateValue</code> corresponding to 100%. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classot_1_1_success_rate_tracker.html#af228e8d284321bc964762c4168c79be3">SuccessRateTracker::mFailureRate</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a480f0cd48c158269e4ca783714aabb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480f0cd48c158269e4ca783714aabb8c">&sect;&nbsp;</a></span>kMaxRateValue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint16_t kMaxRateValue = 0xffff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value corresponding to max (failure/success) rate of 100%. </p>

<p>Referenced by <a class="el" href="classot_1_1_success_rate_tracker.html#a22c41349cf94f732f4199df530e45dc4">SuccessRateTracker::AddSample()</a>.</p>

</div>
</div>
<a id="a9e8330f759f59787f230b0e57a46baad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e8330f759f59787f230b0e57a46baad">&sect;&nbsp;</a></span>kDefaultWeight</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint16_t kDefaultWeight = 64</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af228e8d284321bc964762c4168c79be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af228e8d284321bc964762c4168c79be3">&sect;&nbsp;</a></span>mFailureRate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t mFailureRate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classot_1_1_success_rate_tracker.html#a22c41349cf94f732f4199df530e45dc4">SuccessRateTracker::AddSample()</a>, <a class="el" href="classot_1_1_success_rate_tracker.html#ac3fec9e23e6b4b1c009bfb3315c87d5c">SuccessRateTracker::GetFailureRate()</a>, and <a class="el" href="classot_1_1_success_rate_tracker.html#a18dfd134403b2fb41ff8b3b9264101e0">SuccessRateTracker::GetSuccessRate()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="link__quality_8hpp_source.html">link_quality.hpp</a></li>
<li><a class="el" href="link__quality_8cpp.html">link_quality.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2022</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
