<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>L2CAP_SendData &mdash; Vendor Specific Guide 5.00.00 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" /><link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Vendor Specific Guide
          </a>
              <div class="version">
                5.00.00
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="hci_interface.html">HCI Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="att_api.html">ATT Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="gap_api.html">GAP Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="gapbondmgr_api.html">GapBondMgr Extension Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="gatt_api.html">GATT Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hci_ext_api.html">HCI Extension Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="l2cap_api.html">L2CAP Extension Vendor Specific API</a></li>
<li class="toctree-l1"><a class="reference internal" href="util_api.html">UTIL Extension Vendor Specific API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Vendor Specific Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>L2CAP_SendData</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="l2cap-senddata">
<h1>L2CAP_SendData<a class="headerlink" href="#l2cap-senddata" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF0</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Data command is used to send an SDU on a Connection Oriented Channel established with the peer device.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Layer<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Value<span class="colon">:</span></dt>
<dd class="field-even"><p>9</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Event Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Value<span class="colon">:</span></dt>
<dd class="field-even"><p>0xFCF0</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Payload Length(including CID)<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Value<span class="colon">:</span></dt>
<dd class="field-even"><p>size(dataLen)+size(cid)</p>
</dd>
</dl>
</dd>
<dt class="field-odd">CID<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Channel ID</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0040</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0040 - 0x007F</p>
</dd>
</dl>
</dd>
<dt class="field-even">SDU<span class="colon">:</span></dt>
<dd class="field-even"><p>SDU to be sent on the channel</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>input byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>“”</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>to L2CAP_SDU_SIZE octets</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this command is received, the host will send the CommandStatus Event. When the SDU transmission is done to the peer device, the L2CAP Send SDU Done Event (L2CAP_SendSduDone) will be generated. If the local channel runs out of credits required to send the SDU, the L2CAP Out of Credit Event (L2CAP_OutOfCredit) will be generated.</p>
</section>
<section id="l2cap-registerpsm">
<h1>L2CAP_RegisterPsm<a class="headerlink" href="#l2cap-registerpsm" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF1</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Register PSM command is used to register a Protocol/Service Multiplexer (PSM) with the L2CAP layer.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list">
<dt class="field-odd">PSM<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Protocol/Service Multiplexer (PSM)</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
<dt class="field-even">MTU<span class="colon">:</span></dt>
<dd class="field-even"><p>Maximum SDU size that can be received by PSM</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0017</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any 2 byte value</p>
</dd>
</dl>
</dd>
<dt class="field-even">initialPeerCredits<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of packets that peer device can send to local device</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any 2 byte value</p>
</dd>
</dl>
</dd>
<dt class="field-even">peerCreditThreshold<span class="colon">:</span></dt>
<dd class="field-even"><p>Low threshold for peer credits</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any 2 byte value</p>
</dd>
</dl>
</dd>
<dt class="field-even">maxNumChannels<span class="colon">:</span></dt>
<dd class="field-even"><p>Maximum number of Connection Oriented Channels supported by PSM</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x01</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any 1 byte value</p>
</dd>
</dl>
</dd>
<dt class="field-even">enableSecurityVerification<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates whether to enable security verification by the application for any incoming connection request</p>
<dl class="field-list">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x00</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x00</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p>0x01</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this command is received, the local device will send the CommandStatus Event. If the application wishes to perform its own security verification (by setting enableSecurityVerification to TRUE) for any incoming connection request then an L2CAP Connection Request (L2CAP_ConnectReq) event will be sent up to the application, which must then send an L2CAP Connection Response (L2CAP_ConnectRsp) command back. When the peer credit count reaches the peer credit threshold (specified by peerCreditThreshold), the L2CAP Peer Credit Threshold Event (L2CAP_PeerCreditThreshold) will be generated.</p>
</section>
<section id="l2cap-deregisterpsm">
<h1>L2CAP_DeregisterPsm<a class="headerlink" href="#l2cap-deregisterpsm" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF2</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Deregister PSM command is sent to deregister a Protocol/Service Multiplexer (PSM) with the L2CAP layer.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">PSM<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Protocol/Service Multiplexer (PSM) to be deregistered with L2CAP</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event.</p>
</section>
<section id="l2cap-psminfo">
<h1>L2CAP_PsmInfo<a class="headerlink" href="#l2cap-psminfo" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF3</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP PSM Info command is used to get the current information about a given PSM registered with the L2CAP layer.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">PSM<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Protocol/Service Multiplexer (PSM)</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event.</p>
<p><strong>Additional Command Status Return Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">dataLen<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Range<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
<dt class="field-odd">MTU<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">MPS<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">initialPeerCredits<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerCreditThreshold<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">maxNumChannels<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>1 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">numActiveChannels<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>1 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
</section>
<section id="l2cap-psmchannels">
<h1>L2CAP_PsmChannels<a class="headerlink" href="#l2cap-psmchannels" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF4</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP PSM Channels command is used to get the list of all the active Connection Oriented Channels for a given PSM registered with the L2CAP layer.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">PSM<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Protocol/Service Multiplexer (PSM)</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event.</p>
<p><strong>Additional Command Status Return Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">dataLen<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Range<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
</dl>
<p>An array of size “dataLen/2” will be returned containing the parameters starting here:</p>
<dl class="field-list simple">
<dt class="field-odd">CID<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
<p>The array of parameters ends here.</p>
</section>
<section id="l2cap-channelinfo">
<h1>L2CAP_ChannelInfo<a class="headerlink" href="#l2cap-channelinfo" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFCF5</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Channel Info command is used to get the current information about an active Connection Oriented Channel.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">CID<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Channel ID</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0040</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0040 - 0x007F</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event.</p>
<p><strong>Additional Command Status Return Parameters</strong></p>
<dl class="field-list">
<dt class="field-odd">dataLen<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Range<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
</dd>
<dt class="field-odd">state<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>1 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0000</p></td>
<td><p>L2CAP_CLOSED</p></td>
</tr>
<tr class="row-odd"><td><p>0x0001</p></td>
<td><p>L2CAP_OPEN</p></td>
</tr>
<tr class="row-even"><td><p>0x0002</p></td>
<td><p>L2CAP_PENDING_CONN_RSP</p></td>
</tr>
<tr class="row-odd"><td><p>0x0003</p></td>
<td><p>L2CAP_PENDING_DISCONN_RSP</p></td>
</tr>
<tr class="row-even"><td><p>0x0004</p></td>
<td><p>L2CAP_PENDING_PARAM_UPDATE_RSP</p></td>
</tr>
<tr class="row-odd"><td><p>0x0005</p></td>
<td><p>L2CAP_PENDING_INFO_RSP</p></td>
</tr>
<tr class="row-even"><td><p>0x0006</p></td>
<td><p>L2CAP_PENDING_SEC_VERIFY</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-even">PSM<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">CID<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">MTU<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">MPS<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">credits<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerCID<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerMTU<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerMPS<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerCredits<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
<dt class="field-even">peerCreditThreshold<span class="colon">:</span></dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">Condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>( StatStatus==0x00)</p>
</dd>
<dt class="field-even">Size<span class="colon">:</span></dt>
<dd class="field-even"><p>2 byte(s)</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
</section>
<section id="l2cap-connectreq">
<h1>L2CAP_ConnectReq<a class="headerlink" href="#l2cap-connectreq" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC94</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Connection Request command is used to create and configure a Connection Oriented Channel between the local and the peer device.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Connection Handle<span class="colon">:</span></dt>
<dd class="field-odd"><p>Identifies the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0000 to 0xFFFD</p>
</dd>
</dl>
</dd>
<dt class="field-even">PSM<span class="colon">:</span></dt>
<dd class="field-even"><p>Local Protocol/Service Multiplexer (PSM)</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
<dt class="field-even">peerPSM<span class="colon">:</span></dt>
<dd class="field-even"><p>Peer Protocol/Service Multiplexer (PSM)</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0x00FF</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this command is received, the local device will send the CommandStatus Event with the Status parameter after sending an LE Credit Based Connection Request to the peer device. When a new channel has been established, the L2CAP Channel Established Event (L2CAP_ChannelEstablished) will be generated.</p>
</section>
<section id="l2cap-connectrsp">
<h1>L2CAP_ConnectRsp<a class="headerlink" href="#l2cap-connectrsp" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC95</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>When a device receives an LE Credit Based Connection Request, it must send an LE Credit Based Connection Response back, which is done automatically by the L2CAP layer. However, if the application wishes to perform its own security verification (configurable at PSM registration), then a Connection Request (L2CAP_ConnectReq) event will be sent up to the application which must then send a Connection Response (L2CAP_ConnectRsp) command back indicating the outcome of the connection request.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list">
<dt class="field-odd">Connection Handle<span class="colon">:</span></dt>
<dd class="field-odd"><p>Identifies the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0000 to 0xFFFD</p>
</dd>
</dl>
</dd>
<dt class="field-even">id<span class="colon">:</span></dt>
<dd class="field-even"><p>Identifier to match responses with requests</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>1 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x01</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x01 - 0xFF</p>
</dd>
</dl>
</dd>
<dt class="field-even">result<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates outcome of connection request</p>
<dl class="field-list">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0000</p></td>
<td><p>L2CAP_CONN_SUCCESS</p></td>
</tr>
<tr class="row-odd"><td><p>0x0001</p></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p>0x0002</p></td>
<td><p>L2CAP_CONN_PSM_NOT_SUPPORTED</p></td>
</tr>
<tr class="row-odd"><td><p>0x0003</p></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-even"><td><p>0x0004</p></td>
<td><p>L2CAP_CONN_NO_RESOURCES</p></td>
</tr>
<tr class="row-odd"><td><p>0x0005</p></td>
<td><p>L2CAP_CONN_INSUFFICIENT_AUTHEN</p></td>
</tr>
<tr class="row-even"><td><p>0x0006</p></td>
<td><p>L2CAP_CONN_INSUFFICIENT_AUTHOR</p></td>
</tr>
<tr class="row-odd"><td><p>0x0007</p></td>
<td><p>L2CAP_CONN_INSUFFICIENT_KEY_SIZE</p></td>
</tr>
<tr class="row-even"><td><p>0x0008</p></td>
<td><p>L2CAP_CONN_INSUFFICIENT_ENCRYPT</p></td>
</tr>
<tr class="row-odd"><td><p>0x0009</p></td>
<td><p>L2CAP_CONN_INVALID_SRC_CID</p></td>
</tr>
<tr class="row-even"><td><p>0x000A</p></td>
<td><p>L2CAP_CONN_SRC_CID_ALREADY_ALLOC</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event with the Status parameter after sending an LE Credit Based Connection Response back to the peer device.</p>
</section>
<section id="l2cap-disconnectreq">
<h1>L2CAP_DisconnectReq<a class="headerlink" href="#l2cap-disconnectreq" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC86</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The L2CAP Disconnection Request is sent to terminate a Connection Oriented Channel established between the local and the peer device.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">CID<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Channel ID</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0040</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0040 - 0x007F</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this command is received, the local device will send the CommandStatus Event with the Status parameter after forwarding the request to the peer device. When the channel is terminated, the L2CAP Channel Terminated Event (L2CAP_ChannelTerminated) will be generated.</p>
</section>
<section id="l2cap-flowctrlcredit">
<h1>L2CAP_FlowCtrlCredit<a class="headerlink" href="#l2cap-flowctrlcredit" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC96</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The LE Flow Control Credit commands are sent when the local device is capable of receiving additional LE-frames on an established L2CAP channel.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">CID<span class="colon">:</span></dt>
<dd class="field-odd"><p>Local Channel ID</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0040</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0040 - 0x007F</p>
</dd>
</dl>
</dd>
<dt class="field-even">peerCredits<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of LE-frames that can be sent to local device</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0001</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0001 - 0xFFFF</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event with the Status parameter after forwarding the request to the peer device. When the peer credit count reaches a specified low threshold (configurable at PSM registration), the L2CAP Peer Credit Threshold Event (L2CAP_PeerCreditThreshold) will be generated.</p>
</section>
<section id="l2cap-inforeq">
<h1>L2CAP_InfoReq<a class="headerlink" href="#l2cap-inforeq" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC8A</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>L2CAP Info Request</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list">
<dt class="field-odd">Connection Handle<span class="colon">:</span></dt>
<dd class="field-odd"><p>Identifies the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0000 to 0xFFFD</p>
</dd>
</dl>
</dd>
<dt class="field-even">infoType<span class="colon">:</span></dt>
<dd class="field-even"><p>The type of implementation specific information being requested</p>
<dl class="field-list">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0002</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0x0001</p></td>
<td><p>CONNECTIONLESS_MTU</p></td>
</tr>
<tr class="row-odd"><td><p>0x0002</p></td>
<td><p>EXTENDED_FEATURES</p></td>
</tr>
<tr class="row-even"><td><p>0x0003</p></td>
<td><p>FIXED_CHANNELS</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the local device will send the CommandStatus Event with the Status parameter after forwarding the request to the peer device. After receiving a response from the peer device, the L2CAP_InfoRsp will be generated.</p>
</section>
<section id="l2cap-connparamupdatereq">
<h1>L2CAP_ConnParamUpdateReq<a class="headerlink" href="#l2cap-connparamupdatereq" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Opcode<span class="colon">:</span></dt>
<dd class="field-odd"><p>0xFC92</p>
</dd>
<dt class="field-even">Command Description<span class="colon">:</span></dt>
<dd class="field-even"><p>The Connection Parameter Update Request is sent from the LE slave device to the LE master device. This request allows the LE slave Host to request a set of new connection parameters.</p>
</dd>
</dl>
<p><strong>Command Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Connection Handle<span class="colon">:</span></dt>
<dd class="field-odd"><p>Identifies the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0x0000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0x0000 to 0xFFFD</p>
</dd>
</dl>
</dd>
<dt class="field-even">intervalMin<span class="colon">:</span></dt>
<dd class="field-even"><p>The minimum value for the connection event interval</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>80</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>6 - 3200</p>
</dd>
</dl>
</dd>
<dt class="field-even">intervalMax<span class="colon">:</span></dt>
<dd class="field-even"><p>The maximum value for the connection event interval</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>160</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>6 - 3200</p>
</dd>
</dl>
</dd>
<dt class="field-even">slaveLatency<span class="colon">:</span></dt>
<dd class="field-even"><p>The slave latency parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>0 - 500</p>
</dd>
</dl>
</dd>
<dt class="field-even">timeoutMultiplier<span class="colon">:</span></dt>
<dd class="field-even"><p>The connection timeout parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Size<span class="colon">:</span></dt>
<dd class="field-odd"><p>2 byte(s)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>1000</p>
</dd>
<dt class="field-odd">Range<span class="colon">:</span></dt>
<dd class="field-odd"><p>10 - 3200</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Events Generated</strong></p>
<p>When this request is received, the LE slave host will send the CommandStatus Event with the Status parameter after forwarding the request to the LE master host. The LE master host will send the Connection Parameter Update Response (L2CAP_ConnParamUpdateRsp) event back. If the LE slave host receives this request, it will respond with a Command Reject (L2CAP_CmdReject) with reason 0x0000 (command not understood).</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright &amp;copy; Copyright 1995-2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>