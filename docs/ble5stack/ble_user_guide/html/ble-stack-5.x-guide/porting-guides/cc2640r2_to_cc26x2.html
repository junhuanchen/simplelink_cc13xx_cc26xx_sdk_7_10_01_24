<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CC2640R2 to CC26x2 &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User&#39;s Guide
 2.02.08.01 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CC13x2x1 or CC26x2x1 to CC13x1x3 or CC26x1x3 Software Migration" href="cc26x2_to_cc26x2x1.html" />
    <link rel="prev" title="Running Software Examples on the CC13x4 or CC26x4" href="../../cc13xx_cc26xx/software-on-cc13x4-26x4.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug ble-stack-5.x-guide porting-guides cc2640r2_to_cc26x2";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User's Guide

          </a>
              <div class="version">
                2.02.08.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart-guide/quickstart-intro-cc13xx_cc26xx.html">Introduction to the SimpleLink CC13xx/CC26xx SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart-guide/ble5-quick-start.html">TI BLE5-Stack Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platform-cc13xx_cc26xx.html">The CC13xx or CC26xx SDK Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freertos-index.html">FreeRTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-5-index-cc13xx_cc26xx.html">BLE5-Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-with-sdk-index-cc13xx_cc26xx.html">Developing a Bluetooth LE Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coexistence/coexistence.html">Coexistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../localization-index-cc13xx_cc26xx.html">RTLS Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ble-mesh/index.html">Bluetooth Mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../u-stack-index-cc13xx_cc26xx.html">Micro BLE Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sensor-controller/sensor-controller.html">Sensor Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory-index.html">Memory Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ble-stack-common/npi-index.html">Network Processor Interface (NPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble5-oad-index-cc13xx_cc26xx.html">TI Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble5-oad-index-mcuboot.html">MCUBoot Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security-tfm/index.html">Security Features of CC13x4 and CC26x4 Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sysconfig-index-cc13xx_cc26xx.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../migration-cc13xx_cc26xx.html">Porting Guide and Migration Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../migration-cc13xx_cc26xx.html#porting-guides">Porting Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration-cc13xx_cc26xx.html#year-to-year-migration-guides">Year-to-Year Migration Guides</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../migration-cc13xx_cc26xx.html#migration-guides">Migration Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/gpio-porting-guide.html">GPIO++ Driver Porting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/software-on-cc2652xSIP-cc2651RSIPA.html">Running Software Examples on CC2652XSIP and CC2651RSIPA devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/software-on-cc2652p.html">Running Software Examples on CC2652P</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/software-on-cc13x2x7-26x2x7.html">Running Software Examples on the CC13x2x7 or CC26x2x7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/software-on-cc13x1x-26x1x.html">Running Software Examples on the CC13x1x3 or CC26x1x3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/software-on-cc13x4-26x4.html">Running Software Examples on the CC13x4 or CC26x4</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">CC2640R2 to CC26x2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#features-and-benefits">Features and Benefits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compatibility-notes">Compatibility Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#porting-ble-stack-to-ble5-stack">Porting BLE-Stack to BLE5-Stack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#porting-steps">Porting Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-translation-tables">API Translation Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cc26x2_to_cc26x2x1.html">CC13x2x1 or CC26x2x1 to CC13x1x3 or CC26x1x3 Software Migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sysconfig/ble5-migration.html">SysConfig Migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tirtos/bios7_migration.html">TI-RTOS to TI-RTOS7 Migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc13xx_cc26xx/uart_to_uart2.html">UART to UART2 Porting Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference-cc13xx_cc26xx.html">Terms and Definitions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
BLE5-Stack User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../migration-cc13xx_cc26xx.html">Porting Guide and Migration Guides</a> &raquo;</li>
      <li>CC2640R2 to CC26x2</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="cc2640r2-to-cc26x2">
<span id="cc2640r2-cc26x2-migration-guide"></span><h1>CC2640R2 to CC26x2<a class="headerlink" href="#cc2640r2-to-cc26x2" title="Permalink to this headline">¶</a></h1>
<p>This section describes the main differences an Application Developer must
be aware of between the CC2640R2 and the CC26x2 along with a porting guide to
demonstrate the migration effort.</p>
<div class="section" id="features-and-benefits">
<h2>Features and Benefits<a class="headerlink" href="#features-and-benefits" title="Permalink to this headline">¶</a></h2>
<div class="section" id="increased-processing-power-and-scalability">
<h3>Increased Processing Power and Scalability<a class="headerlink" href="#increased-processing-power-and-scalability" title="Permalink to this headline">¶</a></h3>
<p>The CC26x2 is a wireless MCU with a dedicated Arm Cortex-M4F application
processor that is pin-to-pin compatible to the CC2640R2 in the 7x7mm QFN
package.</p>
<p>More memory is available with an increase of non-volatile memory from
275kB to 608kB. This breaks down into 352kB Flash memory + 256 KB ROM.
RAM has also increased from 28 kB to 80 kB.
The availability of this increased memory provides support for
Over-the-Air Downloads (OAD), larger applications, and more simultaneous
connections.</p>
<p>Other improvements include an additional UART and a 70% reduction in current
consumption in the Sensor Controller.</p>
</div>
<div class="section" id="bluetooth-5-2-enabled">
<h3>Bluetooth 5.2 Enabled<a class="headerlink" href="#bluetooth-5-2-enabled" title="Permalink to this headline">¶</a></h3>
<p>If your project wasn’t already on a BLE5 platform, the CC26x2 will provide the
ability to support the features of Bluetooth 5.2. This includes features such as
higher throughput, longer range, advertising extensions, and improved
coexistence with other wireless technology. For a full list of supported
features, see <a class="reference internal" href="../../ble-stack-5.x/overview-cc13xx_cc26xx.html#sec-ble-stack-feature-intro"><span class="std std-ref">Supported Bluetooth LE Stack Features</span></a>.</p>
</div>
<div class="section" id="enhanced-security">
<h3>Enhanced Security<a class="headerlink" href="#enhanced-security" title="Permalink to this headline">¶</a></h3>
<p>With additional hardware security accelerators for AES-128/256, SHA-256, and
ECC, CC26x2 saves five times the processing time and current consumption for
implementing security algorithms.  This is critical to enable strong network
security.</p>
</div>
<div class="section" id="lp-cc26xx-support">
<h3><a class="reference external" href="https://www.ti.com/tool/LAUNCHXL-CC26x2R1">CC26x2R LaunchPad</a> Support<a class="headerlink" href="#lp-cc26xx-support" title="Permalink to this headline">¶</a></h3>
<p>All example applications are compatible with the <a class="reference external" href="https://www.ti.com/tool/LAUNCHXL-CC26x2R1">CC26x2R LaunchPad</a> development
kit. These features allow for a unified development experience and empowers
developers to rapidly release to market.</p>
<p>For more information on this device, see the <a class="reference external" href="https://www.ti.com/tool/LAUNCHXL-CC26x2R1">CC26x2R LaunchPad</a> tool page.</p>
</div>
</div>
<div class="section" id="compatibility-notes">
<h2>Compatibility Notes<a class="headerlink" href="#compatibility-notes" title="Permalink to this headline">¶</a></h2>
<p>Due to a number of improvements and feature additions, the recommended migration
path for customers is to start with a CC26x2 based project and migrate any
custom application code and project configuration to the new project.</p>
<p>The following sections describe, in general terms, the software differences when
migrating from CC2640R2 to CC26x2.</p>
<div class="section" id="id2">
<h3>SysConfig<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://www.ti.com/tool/simplelink-cc13xx-cc26xx-sdk">SimpleLink CC13xx/CC26xx SDK</a> leverages SysConfig to configure both the application and BLE5-Stack. For
more information on the tool, see <a class="reference internal" href="../../sysconfig/getting-started.html#sysconfig-sysconfig"><span class="std std-ref">Get started with SysConfig</span></a>.</p>
<p>Additionally, refer to <a class="reference internal" href="../../sysconfig/ble5-migration.html#ble-sysconfig-migration"><span class="std std-ref">SysConfig Migration</span></a> for specific migration
details. The above reference should be used as a guide to familiarize yourself
with the changes that SysConfig introduces and does not need to be explicitly
followed if you are starting with an unmodified BLE5-Stack 2.02.08.01 project.</p>
</div>
<div class="section" id="application-ti-rtos-build-configuration">
<h3>Application TI-RTOS Build Configuration<a class="headerlink" href="#application-ti-rtos-build-configuration" title="Permalink to this headline">¶</a></h3>
<p>Depending on the example project, the available application build configurations
are:</p>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-number">Table 49. </span><span class="caption-text">Project build configurations</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Build Configuration</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Release</span></code></p></td>
<td><p>Turns off debug features (i.e. used in production)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Debug</span></code></p></td>
<td><p>Provides debug feature improvements: Enables exceptions, BIOS asserts,
BIOS logging handling, places the BIOS in flash.</p></td>
</tr>
</tbody>
</table>
<p>Each build configuration provided is user configurable. For CCS users, the
build configuration can be modified in the SysConfig file located in the project
directory.</p>
</div>
<div class="section" id="stack-build-configuration">
<h3>Stack Build Configuration<a class="headerlink" href="#stack-build-configuration" title="Permalink to this headline">¶</a></h3>
<p>All BLE5-Stack 2.02.08.01 applications configuration’s use a single project configuration.
This build configuration yields additional flash footprint optimizations by the
linker since the application and stack can share contiguous flash pages. This
configuration is further discussed in the
<a class="reference internal" href="../software_architecture.html#sec-architecture-single-project-config"><span class="std std-ref">Single Project Configuration</span></a> section of this User’s Guide.</p>
<p>Formerly, the BLE stack was configured using the <code class="docutils literal notranslate"><span class="pre">build_config.opt</span></code> command
file. The BLE5-Stack 2.02.08.01 now uses SysConfig to configure the BLE5-Stack and generates
the <code class="docutils literal notranslate"><span class="pre">ti_build_config.opt</span></code>.</p>
<p>For more information on this, see <a class="reference internal" href="../../sysconfig/ble5-sysconfig.html#sysconfig-ble5"><span class="std std-ref">BLE5-Stack SysConfig Features</span></a>.</p>
</div>
<div class="section" id="predefined-symbols">
<h3>Predefined Symbols<a class="headerlink" href="#predefined-symbols" title="Permalink to this headline">¶</a></h3>
<p>The predefined symbols have been moved from the project properties. Instead,
SysConfig is used to configure and generate any relevant project defines inside
<code class="docutils literal notranslate"><span class="pre">ti_ble_app_config.opt</span></code>.</p>
<p>For more information on this, see <a class="reference internal" href="../../sysconfig/ble5-sysconfig.html#sysconfig-ble5"><span class="std std-ref">BLE5-Stack SysConfig Features</span></a>.</p>
</div>
<div class="section" id="gap-role-removal">
<span id="id3"></span><h3>GAP Role Removal<a class="headerlink" href="#gap-role-removal" title="Permalink to this headline">¶</a></h3>
<p>All GAP Roles source and header files (<code class="docutils literal notranslate"><span class="pre">peripheral.c</span></code>, <code class="docutils literal notranslate"><span class="pre">peripheral.h</span></code>,
<code class="docutils literal notranslate"><span class="pre">central.c</span></code>, <code class="docutils literal notranslate"><span class="pre">central.h</span></code>, etc.) have been removed. With the GAP Role
changes, GAP events are being handled differently. GAP events are now handle in
the <code class="docutils literal notranslate"><span class="pre">bleapputil_task.c</span></code> file located in the <strong>common</strong> → <strong>BLEAppUtil</strong> folders.
These events are pass in the <cite>app</cite> folder such as <code class="docutils literal notranslate"><span class="pre">app_peripheral.c</span></code> file and so on.
This is where users should use these events.</p>
<p>Further discussion of this is in <a class="reference internal" href="#blestack-to-ble5stack"><span class="std std-ref">Porting BLE-Stack to BLE5-Stack</span></a>.</p>
</div>
<div class="section" id="host-privacy">
<h3>Host Privacy<a class="headerlink" href="#host-privacy" title="Permalink to this headline">¶</a></h3>
<p>The design of the Host Privacy in BLE5-Stack 2.02.08.01 is a complete redesign of the
former one on the CC2640R2.</p>
<p>In BLE5-Stack 2.02.08.01, the Host is responsible for the following tasks:</p>
<blockquote>
<div><ul class="simple">
<li><p>Configuring the privacy mode and own address type to conduct desired
privacy operations on the controller</p></li>
<li><p>Performing pairing procedure to exchange device identity information
including IRK, identity address, and address type</p></li>
<li><p>Updating peer device’s address information in the link DB after acquiring
the identity information through pairing process</p></li>
<li><p>Managing resolving list by adding/removing resolving list entries or
clearing</p></li>
<li><p>Storing resolving list to NV and restore it from, so that the privacy
information is persistent across power cycles</p></li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="porting-ble-stack-to-ble5-stack">
<span id="blestack-to-ble5stack"></span><h1>Porting BLE-Stack to BLE5-Stack<a class="headerlink" href="#porting-ble-stack-to-ble5-stack" title="Permalink to this headline">¶</a></h1>
<p>This section will describe how to port from a BLEStack project to a BLE5Stack
project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example is specifically for CC2640R2 SDK 5.30 to CC13xx/CC26xx SDK 6.10 but the
steps are similar for all cases. Individual differences can be found in the
relevant <a class="reference internal" href="../migration-cc13xx_cc26xx.html#sec-ble5-porting-guides"><span class="std std-ref">Porting Guides</span></a></p>
</div>
<p>This guide will describe a way to port a project from CC2640R2 SDK 5.30 to a
CC13xx/CC26xx SDK 6.10 project. If your project uses the BLE-Stack, please note that this
guide won’t show how to add BLE5 features. However porting your project will
allow the use of BLE5 features that are contained in CC13xx/CC26xx SDK 6.10.</p>
<p>See the following tables for API replacements:</p>
<ul>
<li><p><a class="reference internal" href="#sec-porting-translation-tables"><span class="std std-ref">API Translation Tables</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#tbl-ble5-porting-gaprole-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-gapbondmgr-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Bond Manager Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-gapgattserver-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP GATT Server Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-linkdb-changes-cc2640r2-to-cc26x2"><span class="std std-ref">Link Database Changes</span></a></p></li>
<li><p><a class="reference internal" href="#tbl-ble5-porting-sample-app-changes"><span class="std std-ref">Sample Simple Peripheral App Changes</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="porting-steps">
<h2>Porting Steps<a class="headerlink" href="#porting-steps" title="Permalink to this headline">¶</a></h2>
<p>To minimize project configuration differences, start with an example project in
the CC13xx/CC26xx SDK 6.10. For example, if your base project was <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> in
the CC2640R2 SDK 5.30, use <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> in the CC13xx/CC26xx SDK 6.10 as the project
base to implement application-level modifications on. In other words, no
modifications will be made to the original project. All application specific
code should be inserted into the CC13xx/CC26xx SDK 6.10 project.</p>
<p>Some of these application-level modifications are due to various API changes.
To aid in this, the guide provides an API translation table:
<a class="reference internal" href="#tbl-ble5-porting-gaprole-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Changes</span></a>.</p>
<p>Be sure to utilize the IDE and Tools recommended by the SDK’s release notes.
For API Descriptions see <a class="reference internal" href="../api-reference-cc13xx_cc26xx.html#ble-api-reference"><span class="std std-ref">BLE Stack API Reference</span></a>.</p>
<ol class="arabic">
<li><p><strong>Choose a</strong> CC13xx/CC26xx SDK 6.10 <strong>example Bluetooth LE project and open it in the
preferred supported IDE</strong></p>
<p>We’re going to use <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> as the starting CC13xx/CC26xx SDK 6.10
sample project to provide context.</p>
</li>
<li><p><strong>Modify the SysConfig file in the project folder. Use the SysConfig tool to
transfer your project settings from the original project.</strong></p>
<p>This includes:</p>
<ul class="simple">
<li><p>Any modification to the example project’s original predefined symbols</p></li>
<li><p>Any stack modification done through predefined symbols</p></li>
<li><p>Desired Radio settings</p></li>
<li><p>TI Drivers initializations/settings</p></li>
<li><p>Board file configuration</p></li>
</ul>
<p>For more information, see <a class="reference internal" href="../../sysconfig/getting-started.html#sysconfig-sysconfig"><span class="std std-ref">Get started with SysConfig</span></a> and
<a class="reference internal" href="../../sysconfig/ble5-sysconfig.html#sysconfig-ble5"><span class="std std-ref">BLE5-Stack SysConfig Features</span></a>.</p>
</li>
<li><p><strong>Transfer any additional app specific predefined symbols into the example
project</strong></p></li>
<li><p><strong>Transfer modified application files into the example project</strong></p>
<p>Modify <code class="docutils literal notranslate"><span class="pre">main.c</span></code> in the CC13xx/CC26xx SDK 6.10 example to create or rename any
tasks that were added or modified in the original project.</p>
<p>In this example, the following files from the original project were moved
into the target <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">two_btn_menu.c</span></code> and <code class="docutils literal notranslate"><span class="pre">two_btn_menu.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_peripheral.c</span></code> and <code class="docutils literal notranslate"><span class="pre">simple_peripheral.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_peripheral_menu.c</span></code> and <code class="docutils literal notranslate"><span class="pre">simple_peripheral_menu.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_gatt_profile.c</span></code> and <code class="docutils literal notranslate"><span class="pre">simple_gatt_profile.h</span></code></p></li>
</ul>
</li>
<li><p><strong>Adjust the Application for the GAP Role Removal</strong></p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">GAPRole_createTask()</span></code> should <strong>not</strong> be brought over to <code class="docutils literal notranslate"><span class="pre">main.c</span></code>.
See <a class="reference internal" href="#gap-role-removal"><span class="std std-ref">GAP Role Removal</span></a> for more information.</p>
</div>
<p>All GAP Roles source and header files (<code class="docutils literal notranslate"><span class="pre">peripheral.c</span></code>, <code class="docutils literal notranslate"><span class="pre">peripheral.h</span></code>,
<code class="docutils literal notranslate"><span class="pre">central.c</span></code>, <code class="docutils literal notranslate"><span class="pre">central.h</span></code>, etc.) have been removed in CC13xx/CC26xx SDK 6.10.
These files will produce build errors and should not be included in your app.
This change will introduce a structure change in the application.</p>
<p>The functionality of the roles have been broken into distinct GAP functions:
Scanner, Advertiser, and Initiator.</p>
<p>These functions of GAP can be independently controlled to allow the device
to function as a desired GAP Role such as peripheral or central. For
additional information about using these roles, it is suggested to refer to
the <a class="reference internal" href="../../ble-stack-5.x/gap-cc13xx_cc26xx.html#gap-roles"><span class="std std-ref">GAP Roles</span></a> section of the User Guide. If you formerly used the
BLE-Stack, this section provides information about the legacy features that
exist in your current application.</p>
<p>Utilize the <a class="reference internal" href="#tbl-ble5-porting-gaprole-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Changes</span></a> table
to port application GAP functionality. For example, in this table you’ll
find information such as <code class="docutils literal notranslate"><span class="pre">TGAP_LIM_DISC_ADV_INT_MIN</span></code> is now replaced with
<code class="docutils literal notranslate"><span class="pre">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">GAPROLE_ADVERT_ENABLED</span></code> is
now done with <code class="docutils literal notranslate"><span class="pre">GapAdv_enable()</span></code> or that <code class="docutils literal notranslate"><span class="pre">GAPRole_StartDevice()</span></code> is
replaced by <code class="docutils literal notranslate"><span class="pre">GAP_DeviceInit()</span></code> to start the GAP module.</p>
<p>It is suggested to look at an existing example in the SDK.
<code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> or <code class="docutils literal notranslate"><span class="pre">simple_central</span></code> may need to be used to assist in
the porting process of the application. For example, the initialization of
GAP Advertiser can be found in <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code>.</p>
<p>After using the <a class="reference internal" href="#tbl-ble5-porting-gaprole-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Changes</span></a>
table and using a relevant CC13xx/CC26xx SDK 6.10 example project as a guide, such as
<code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code>, the structure and changes will become clearer.</p>
<p>In the context of <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> and using the rest of the guide,
the following table provides an example of changes to understand and
implement when porting:
<a class="reference internal" href="#tbl-ble5-porting-sample-app-changes"><span class="std std-ref">Sample Simple Peripheral App Changes</span></a>.</p>
</div></blockquote>
</li>
<li><p><strong>Adjust the Application for the GAP Bond Manager Changes</strong></p>
<blockquote>
<div><p>See <a class="reference internal" href="#tbl-ble5-porting-gapbondmgr-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP Bond Manager Changes</span></a> for
additional changes.</p>
<ul>
<li><p>Include <code class="docutils literal notranslate"><span class="pre">icall_ble_api.h</span></code> if Stack/ICall APIs are used. Add the
following #include <strong>AFTER</strong> all other includes for source files using
Stack/ICall APIs.</p>
<blockquote>
<div><p>In this example, add:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;icall_ble_api.h&quot;</span><span class="cp"></span>
</pre></div>
</div>
<p>into the following files <strong>AFTER</strong> all other includes. In for the
<code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> port, add this into these files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">simple_peripheral.c</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_gatt_profile.c</span></code></p></li>
</ul>
<p>For more information regarding <code class="docutils literal notranslate"><span class="pre">icall_ble_api.h</span></code> see
<a class="reference internal" href="../../ble-stack-5.x/the-application.html#sec-the-application-icall-lite"><span class="std std-ref">ICall Translation and Include</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All Stack/ICall APIs are listed in <code class="docutils literal notranslate"><span class="pre">icall_ble_api.h</span></code>. If any APIs
are used without <code class="docutils literal notranslate"><span class="pre">icall_ble_api.h</span></code>, build and or link errors may
occur with erratic runtime behaviors!</p>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Replace GAP Event processing</strong></p>
<blockquote>
<div><p>In addition to the GAP Role changes, GAP events are being handled
differently. This used to be received by GAP Role
(ie. <strong>SimpleBLEPeripheral_processStateChangeEvt</strong>), which would then call
GAPBondMgr, and then translate the event to GAPRole specific events and
pass it to the application through a callback
(ie. <strong>SimpleBLEPeripheral_gapRoleCBs</strong>).</p>
<p>GAP events are now returned to the application directly as RTOS events.
If the GAPBondMgr is present, they will first be received by the GAPBondMgr
to do some processing but it will still be received the same in the
application. This is now configured with <code class="docutils literal notranslate"><span class="pre">GAP_DeviceInit</span></code>. GAP
events are received by the application (when the bond manager exists) as
stack messages of type <code class="docutils literal notranslate"><span class="pre">GAP_MSG_EVENT</span></code>.</p>
<p>See the example for <code class="docutils literal notranslate"><span class="pre">simple_peripheral</span></code> from CC13xx/CC26xx SDK 6.10
in the snippets below:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-number">Listing 237. </span><span class="caption-text">Register to receive GAP events</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Entity ID globally used to check for source and/or destination of messages</span>
<span class="k">static</span><span class="w"> </span><span class="n">ICall_EntityID</span><span class="w"> </span><span class="n">selfEntity</span><span class="p">;</span><span class="w"></span>
<span class="c1">//...</span>

<span class="c1">// Event globally used to post local events and pend on system and</span>
<span class="c1">// local events.</span>
<span class="k">static</span><span class="w"> </span><span class="n">ICall_SyncHandle</span><span class="w"> </span><span class="n">syncEvent</span><span class="p">;</span><span class="w"></span>
<span class="c1">//...</span>

<span class="c1">// Address mode</span>
<span class="k">static</span><span class="w"> </span><span class="n">GAP_Addr_Modes_t</span><span class="w"> </span><span class="n">addrMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DEFAULT_ADDRESS_MODE</span><span class="p">;</span><span class="w"></span>
<span class="c1">//...</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SimplePeripheral_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w"> </span><span class="n">BLE_LOG_INT_TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">BLE_LOG_MODULE_APP</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;APP : ---- init &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">SP_TASK_PRIORITY</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="c1">// Create the menu</span>
<span class="w"> </span><span class="n">SimplePeripheral_buildMenu</span><span class="p">();</span><span class="w"></span>

<span class="w"> </span><span class="c1">// ******************************************************************</span>
<span class="w"> </span><span class="c1">// N0 STACK API CALLS CAN OCCUR BEFORE THIS CALL TO ICall_registerApp</span>
<span class="w"> </span><span class="c1">// ******************************************************************</span>
<span class="w"> </span><span class="c1">// Register the current thread as an ICall dispatcher application</span>
<span class="w"> </span><span class="c1">// so that the application can send and receive messages.</span>
<span class="w"> </span><span class="n">ICall_registerApp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">selfEntity</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">syncEvent</span><span class="p">);</span><span class="w"></span>

<span class="w"> </span><span class="c1">//...</span>
<span class="w"> </span><span class="n">BLE_LOG_INT_TIME</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">BLE_LOG_MODULE_APP</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;APP : ---- call GAP_DeviceInit&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">GAP_PROFILE_PERIPHERAL</span><span class="p">);</span><span class="w"></span>
<span class="w"> </span><span class="c1">//Initialize GAP layer for Peripheral role and register to receive GAP events</span>
<span class="w"> </span><span class="n">GAP_DeviceInit</span><span class="p">(</span><span class="n">GAP_PROFILE_PERIPHERAL</span><span class="p">,</span><span class="w"> </span><span class="n">selfEntity</span><span class="p">,</span><span class="w"> </span><span class="n">addrMode</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pRandomAddress</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-number">Listing 238. </span><span class="caption-text">Receiving GAP Events</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SimplePeripheral_processGapMessage</span><span class="p">(</span><span class="n">gapEventHdr_t</span><span class="w"> </span><span class="o">*</span><span class="n">pMsg</span><span class="p">);</span><span class="w"> </span><span class="c1">// function definition to handle GAP messages</span>
</span>
<span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="nf">SimplePeripheral_processStackMsg</span><span class="p">(</span><span class="n">ICall_Hdr</span><span class="w"> </span><span class="o">*</span><span class="n">pMsg</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Always dealloc pMsg unless set otherwise</span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">safeToDealloc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">pMsg</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="hll"><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nl">GAP_MSG_EVENT</span><span class="p">:</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="n">SimplePeripheral_processGapMessage</span><span class="p">((</span><span class="n">gapEventHdr_t</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">pMsg</span><span class="p">);</span><span class="w"></span>
</span><span class="hll"><span class="w">      </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
</span><span class="w">    </span><span class="c1">//...</span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">//...</span>
<span class="hll"><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SimplePeripheral_processGapMessage</span><span class="p">(</span><span class="n">gapEventHdr_t</span><span class="w"> </span><span class="o">*</span><span class="n">pMsg</span><span class="p">)</span><span class="w"></span>
</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">pMsg</span><span class="o">-&gt;</span><span class="n">opcode</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nl">GAP_DEVICE_INIT_DONE_EVENT</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">//... etc.</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
<li><p><strong>Adjust the Application for the GATT Profile Changes</strong></p>
<blockquote>
<div><p>Due to changes in LinkDB defines (<code class="docutils literal notranslate"><span class="pre">linkdb.h</span></code>), custom GATT profiles
may need to be modified in order to account for the new definitions.</p>
<p>Prepend <code class="docutils literal notranslate"><span class="pre">LINKDB_</span></code> to all constants starting with <code class="docutils literal notranslate"><span class="pre">CONNHANDLE_</span></code>, for example in <code class="docutils literal notranslate"><span class="pre">simple_gatt_profile.c</span></code>:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Initialize Client Characteristic Configuration attributes</span>
<span class="n">GATTServApp_InitCharCfg</span><span class="p">(</span><span class="w"> </span><span class="n">LINKDB_CONNHANDLE_INVALID</span><span class="p">,</span><span class="w"> </span><span class="n">simpleProfileChar4Config</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
<p>See <a class="reference internal" href="#tbl-ble5-porting-gapgattserver-changes-cc2640r2-to-cc26x2"><span class="std std-ref">GAP GATT Server Changes</span></a> and
<a class="reference internal" href="#tbl-ble5-porting-linkdb-changes-cc2640r2-to-cc26x2"><span class="std std-ref">Link Database Changes</span></a> for additional changes as required.</p>
</div></blockquote>
</li>
<li><p>Note that additional return parameters have been added to <code class="docutils literal notranslate"><span class="pre">HCI_EXT_ConnEventNoticeCmd()</span></code>:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Report describing connection event Returned via a @ref pfnGapConnEvtCB_t.</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">GAP_ConnEvtStat_t</span><span class="w">     </span><span class="n">status</span><span class="p">;</span><span class="w">   </span><span class="c1">//!&lt; status of connection event</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w">              </span><span class="n">handle</span><span class="p">;</span><span class="w">   </span><span class="c1">//!&lt; connection handle</span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w">               </span><span class="n">channel</span><span class="p">;</span><span class="w">  </span><span class="c1">//!&lt; BLE RF channel index (0-39)</span>
<span class="w">  </span><span class="n">GAP_ConnEvtPhy_t</span><span class="w">      </span><span class="n">phy</span><span class="p">;</span><span class="w">      </span><span class="c1">//!&lt; PHY of connection event</span>
<span class="w">  </span><span class="kt">int8_t</span><span class="w">                </span><span class="n">lastRssi</span><span class="p">;</span><span class="w"> </span><span class="c1">//!&lt; RSSI of last packet received</span>
<span class="w">  </span><span class="c1">/// Number of packets received for this connection event</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w">              </span><span class="n">packets</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">/// Total number of CRC errors for the entire connection</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w">              </span><span class="n">errors</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">/// Type of next BLE task</span>
<span class="w">  </span><span class="n">GAP_ConnEvtTaskType_t</span><span class="w"> </span><span class="n">nextTaskType</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="c1">/// Time to next BLE task (in us). 0xFFFFFFFF if there is no next task.</span>
<span class="w">  </span><span class="kt">uint32_t</span><span class="w">              </span><span class="n">nextTaskTime</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">Gap_ConnEventRpt_t</span><span class="p">;</span><span class="w"></span>

<span class="cm">/** @} End GAP_Structs */</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Note that additional parameter (signalIdentifier) has been added to <code class="docutils literal notranslate"><span class="pre">GAP_UpdateLinkParamReq</span></code>:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Establish Link Request parameters</span>
<span class="cm"> *</span>
<span class="cm"> * This is used by @ref GAP_UpdateLinkParamReq</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">connectionHandle</span><span class="p">;</span><span class="w"> </span><span class="c1">//!&lt; Connection handle of the update</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">intervalMin</span><span class="p">;</span><span class="w">      </span><span class="c1">//!&lt; Minimum Connection Interval</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">intervalMax</span><span class="p">;</span><span class="w">      </span><span class="c1">//!&lt; Maximum Connection Interval</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">connLatency</span><span class="p">;</span><span class="w">      </span><span class="c1">//!&lt; Connection Latency</span>
<span class="w">  </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">connTimeout</span><span class="p">;</span><span class="w">      </span><span class="c1">//!&lt; Connection Timeout</span>
<span class="w">  </span><span class="kt">uint8_t</span><span class="w">  </span><span class="n">signalIdentifier</span><span class="p">;</span><span class="w"> </span><span class="c1">//!&lt; L2CAP Signal Identifier. Must be 0 for LL Update</span>
<span class="p">}</span><span class="w"> </span><span class="n">gapUpdateLinkParamReq_t</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">HCI_EXT_ConnEventNoticeCmd()</span></code> has been replaced with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#ga906f77b10b92d57dcc2303d2ac2ed113">Gap_RegisterConnEventCb()</a>.</p></li>
</ol>
</div>
<div class="section" id="api-translation-tables">
<span id="sec-porting-translation-tables"></span><h2>API Translation Tables<a class="headerlink" href="#api-translation-tables" title="Permalink to this headline">¶</a></h2>
<p>These tables describe BLE5Stack API replacements for BLEStack API’s.</p>
<span id="tbl-ble5-porting-gaprole-changes-cc2640r2-to-cc26x2"></span><table class="docutils align-default" id="id7">
<caption><span class="caption-number">Table 50. </span><span class="caption-text">GAP Changes</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 7%" />
<col style="width: 27%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_ADV_DATA_UPDATE_DONE_EVENT</p></td>
<td><p>Check return status of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_DEVICE_DISCOVERY_EVENT</p></td>
<td><p>This depends on how the scanner is configured but one or more of the following events will be received:</p>
<blockquote>
<div><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga5f4bfc1431117cba4d13330440388a69">GAP_EVT_SCAN_DISABLED</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga3b3792598fdc62898e7662f2374107bb">GAP_EVT_SCAN_PRD_ENDED</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga314e4eac0c9566c1985a03e6dc32bb70">GAP_EVT_SCAN_REQ_RECEIVED</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga5824fb23860cc1f00efb6406bf6cdb38">GAP_EVT_SCAN_INT_ENDED</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_DEVICE_INFO_EVENT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga9dd52f37113be5557e3b2fe5d6612a69">GAP_EVT_ADV_REPORT</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#gac19d39aa05b28231fe8cdf446969dd37">GAP_EVT_ADV_REPORT_FULL</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_END_DISCOVERABLE_DONE_EVENT</p></td>
<td><p>Check return status of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga4e45550a6887067a26b8cc797e3d51fe">GapAdv_disable()</a> to see that advertising is successfully being cancelled.
The <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#gaa3e11b06e1376b7e8e3f92a4a2f47c09">GAP_EVT_ADV_END_AFTER_DISABLE</a> will be sent after the last advertisement ends.</p></td>
</tr>
<tr class="row-odd"><td><p>GAP EVENT</p></td>
<td><p>GAP_MAKE_DISCOVERABLE_DONE_EVENT</p></td>
<td><p>Check return status of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a> to see that advertising is successfully being started.
The <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv_scan___event___i_ds.html#ga9b918124538257a0c31e6ea5e24c34b4">GAP_EVT_ADV_START_AFTER_ENABLE</a> will be sent after the first advertisement starts.</p></td>
</tr>
<tr class="row-even"><td><p>GAP EVENT</p></td>
<td><p>GAP_RANDOM_ADDR_CHANGED_EVENT</p></td>
<td><p>Obsolete - Address Resolution is done controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_MIN</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_ADV_TIMEOUT</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN</p></td>
<td><p>Configured by parameters of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga60e22e486791087008affa3e9054c0a9">GapScan_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN</p></td>
<td><p>Configured by parameters of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga60e22e486791087008affa3e9054c0a9">GapScan_enable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_ADV_TIMEOUT</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PARAM_TIMEOUT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38aea05b920f1fef179e4c0f9385a345056">GAP_PARAM_CONN_PARAM_TIMEOUT</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_ADV_INT_MIN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa70e48f6d64e39e15360b854892163716">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_ADV_INT_MAX</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa27bc46d1fbcc99ce9ed00d9b6ec47dca">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_INT_MIN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa70e48f6d64e39e15360b854892163716">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_ADV_INT_MAX</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa27bc46d1fbcc99ce9ed00d9b6ec47dca">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_ADV_INT_MIN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa70e48f6d64e39e15360b854892163716">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_ADV_INT_MAX</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa27bc46d1fbcc99ce9ed00d9b6ec47dca">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_HIGH_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_HIGH_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GEN_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_INT</p></td>
<td><p>Configured by interval parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_LIM_DISC_SCAN_WIND</p></td>
<td><p>Configured by window parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga91e950a09e7bb42aca94de5825955144">GapScan_setPhyParams()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_INT_MIN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda5d7949b6c095531435009be5759c058d">INIT_PHYPARAM_CONN_INT_MIN</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_INT_MAX</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda6a81302c90ad76e729dcc1013a6f2b05">INIT_PHYPARAM_CONN_INT_MAX</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SCAN_INT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda269a65de086b6fc242f4e8848e0a59c1">INIT_PHYPARAM_SCAN_INTERVAL</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SCAN_WIND</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda5b1ebcd3720793e29168ea0f6000d2e4">INIT_PHYPARAM_SCAN_WINDOW</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_SUPERV_TIMEOUT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda3b18583b740f8bf314533263f1f97aeb">INIT_PHYPARAM_SUP_TIMEOUT</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_LATENCY</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga0f177b422346f91e33327b795324d611">GapInit_setPhyParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_init___params.html#ggac3e8401397e1008558c8db3def6412dda1cc8f466f6b0520940b7f2ad179842e8">INIT_PHYPARAM_CONN_LATENCY</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_MIN_CE_LEN</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_EST_MAX_CE_LEN</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_PRIVATE_ADDR_INT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38ab337d8055e0d3d4b34f4d1efa8160aad">GAP_PARAM_PRIVATE_ADDR_INT</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PAUSE_CENTRAL</p></td>
<td><p>Obsolete - Not Used by Controller</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_CONN_PAUSE_PERIPHERAL</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_TIMEOUT</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38a62065759c379636e65fafd4f87ebdb01">GAP_PARAM_SM_TIMEOUT</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_MIN_KEY_LEN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38aee94f8781409d89f681fc6e43a88dc27">GAP_PARAM_SM_MIN_KEY_LEN</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SM_MAX_KEY_LEN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38aa7fb2b872a999c9b3dfd9a6345ed40d8">GAP_PARAM_SM_MAX_KEY_LEN</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_FILTER_ADV_REPORTS</p></td>
<td><p>Obsolete - Duplicate Filtering done in Controller</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_SCAN_RSP_RSSI_MIN</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#gaea670f68167c414703dc53a687f451d5">GapScan_setParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan___params.html#gga0ddb2a0f5c2ed1663478732f4836dacba48f59e808b2cec440ee2f364875ac13b">SCAN_PARAM_FLT_MIN_RSSI</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_REJECT_CONN_PARAMS</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38a3cfae7911ef33cc29782430c27d0e967">GAP_PARAM_LINK_UPDATE_DECISION</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_AUTH_TASK_ID</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_AUTH_TASK_ID</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>TGAP_VERIFY_CAR</p></td>
<td><p>DEPRECATED</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>TGAP_GGS_PARAMS</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <code class="docutils literal notranslate"><span class="pre">GAP_PARAM_GGS_PARAMS</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_IRK,
GAPCENTRALROLE_IRK</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#ga9339519e357fc3272d7c1acb1034417d">GapConfig_SetParameter()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#gga7f88123d7eedc652022788e7b6d0682fa5262747b071dc2890683e491ce0d7097">GAP_CONFIG_PARAM_IRK</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SRK,
GAPCENTRALROLE_SRK</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#ga9339519e357fc3272d7c1acb1034417d">GapConfig_SetParameter()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#gga7f88123d7eedc652022788e7b6d0682fa5a489e46e912553833208f2a7348d911">GAP_CONFIG_PARAM_SRK</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_BD_ADDR,
GAPCENTRALROLE_BD_ADDR</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___h_c_i.html#gac92bf295ab302f25d70d88105a12b3e9">HCI_ReadBDADDRCmd()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_ENABLED,
GAPROLE_ADV_NONCONN_ENABLED</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a> and <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga4e45550a6887067a26b8cc797e3d51fe">GapAdv_disable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_OFF_TIME</p></td>
<td><p>Configured by durationOrMaxEvents parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADVERT_DATA</p></td>
<td><p>Various API:</p>
<blockquote>
<div><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga3a6474a27ff9f32293698d34943e5085">GapAdv_getBuffer()</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SCAN_RSP_DATA</p></td>
<td><p>Various API:</p>
<blockquote>
<div><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga3a6474a27ff9f32293698d34943e5085">GapAdv_getBuffer()</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_EVENT_TYPE</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aaee9cd853f91a5219554748068efeded1">GAP_ADV_PARAM_PROPS</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_DIRECT_TYPE</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aaca9f6c76bf6170cc20a248e39d0dace3">GAP_ADV_PARAM_PEER_ADDRESS_TYPE</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_DIRECT_ADDR</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa6a894fddde6054a3d590efa36cfbfb94">GAP_ADV_PARAM_PEER_ADDRESS</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_CHANNEL_MAP</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aaafd978215f900bd05c50f9b2e0cacc3f">GAP_ADV_PARAM_PRIMARY_CHANNEL_MAP</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_ADV_FILTER_POLICY</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a> or <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga5d73e17d3c353632a305f4de4d81e97f">GapAdv_getParam()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aad979714bf19838f61230e34ecc84b122">GAP_ADV_PARAM_FILTER_POLICY</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONNHANDLE</p></td>
<td><p>Returned for each GAP event</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_RSSI_READ_RATE</p></td>
<td><p>RSSI can be received by <a class="reference external" href="../../../doxygen/ble/html/group___h_c_i.html#ga19d1f14a0fde7b049a92f46e96671b40">HCI_ReadRssiCmd()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_PARAM_UPDATE_ENABLE</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a> can be called as desired</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_MIN_CONN_INTERVAL</p></td>
<td><p>pParams.intervalMin parameter of <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_MAX_CONN_INTERVAL</p></td>
<td><p>pParams.intervalMax parameter of <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_SLAVE_LATENCY</p></td>
<td><p>pParams.connLatency parameter of <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_TIMEOUT_MULTIPLIER</p></td>
<td><p>pParams.connTimeout parameter of <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_STATE</p></td>
<td><p>Obsolete - GAP changes remove the need for this</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_BD_ADDR,
GAPROLE_BD_ADDR_TYPE</p></td>
<td><p>Returned in <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___event___i_ds.html#gaca4a8fae9ea113d4240002a1f9853d15">GAP_LINK_ESTABLISHED_EVENT</a>,
contained in stack message, <a class="reference external" href="../../../doxygen/ble/html/structgap_est_link_req_event__t.html">gapEstLinkReqEvent_t</a> when the link is established</p>
<p>Or use <a class="reference external" href="../../../doxygen/ble/html/group___link_d_b.html#gaba6065b7e695aebc1d7ff177cd920e61">linkDB_GetInfo()</a> at any time during the connection</p>
</td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_INTERVAL</p></td>
<td><p>Returned from <a class="reference external" href="../../../doxygen/ble/html/group___link_d_b.html#gaba6065b7e695aebc1d7ff177cd920e61">linkDB_GetInfo()</a>, as linkDBInfo_t.connInterval</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_LATENCY</p></td>
<td><p>Returned from <a class="reference external" href="../../../doxygen/ble/html/group___link_d_b.html#gaba6065b7e695aebc1d7ff177cd920e61">linkDB_GetInfo()</a>, as linkDBInfo_t.connLatency</p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPROLE_CONN_TIMEOUT</p></td>
<td><p>Returned from <a class="reference external" href="../../../doxygen/ble/html/group___link_d_b.html#gaba6065b7e695aebc1d7ff177cd920e61">linkDB_GetInfo()</a>, as linkDBInfo_t.connTimeout</p></td>
</tr>
<tr class="row-odd"><td><p>GAP PARAM</p></td>
<td><p>GAPCENTRALROLE_MAX_SCAN_RES</p></td>
<td><p>Configured by maxNumReport parameter of <a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga60e22e486791087008affa3e9054c0a9">GapScan_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP PARAM</p></td>
<td><p>GAPCENTRALROLE_LINK_PARAM_UPDATE_REQ_REPLY</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaefeda1d26837a7703c884939c5c8f749">GAP_SetParamValue()</a> with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___params.html#ggad3fe20690fa942f702d9009944fe4d38a3cfae7911ef33cc29782430c27d0e967">GAP_PARAM_LINK_UPDATE_DECISION</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_DeviceInit,
GAPRole_StartDevice,
GAPCentralRole_StartDevice</p></td>
<td><p>Declaration Change -  Use <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gabd7c5f3cc85470854cf425e7e49b5ca5">GAP_DeviceInit()</a> with parameter for roles desired</p>
<blockquote>
<div><dl class="simple">
<dt>See <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___profile___roles.html#gaa07c8c4b70f12e2b3fecc5b8b73bc73c">GAP_PROFILE_BROADCASTER</a></dt><dd><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___profile___roles.html#ga8b17c3ba71f665ab07ec64850fef7e17">GAP_PROFILE_OBSERVER</a>
<a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___profile___roles.html#gabbdb1de088df13187024904084577931">GAP_PROFILE_PERIPHERAL</a>
<a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___profile___roles.html#ga38ae0f5e0f4bf18505951a38692be30e">GAP_PROFILE_CENTRAL</a></p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAPRole_RegisterAppCBs</p></td>
<td><p>Obsolete - Functionality moved to <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p_bond_mgr.html#ga6f8ee9b4906eeb74ae8f10d511229eda">GAPBondMgr_Register()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_SetAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_GetAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_RemoveAdvToken</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_UpdateAdvTokens</p></td>
<td><p>Obsolete - Advertisement Sets are Used</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAPRole_SendUpdateParam,
GAPCentralRole_UpdateLink</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_MakeDiscoverable</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_UpdateAdvertisingData</p></td>
<td><p>Various API:</p>
<blockquote>
<div><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gace138d1c3a9257893543e47f8774fdb9">GapAdv_loadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga2d97eeb71e379410e0f6f48c7c1eece7">GapAdv_prepareLoadByBuffer()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#gae783d648cb49d7aa764cd97d366de812">GapAdv_prepareLoadByHandle()</a>
<a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga3a6474a27ff9f32293698d34943e5085">GapAdv_getBuffer()</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_EndDiscoverable</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga4e45550a6887067a26b8cc797e3d51fe">GapAdv_disable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_DeviceDiscoveryRequest,
GAPCentralRole_StartDiscovery</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#ga60e22e486791087008affa3e9054c0a9">GapScan_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_DeviceDiscoveryCancel,
GAPCentralRole_CancelDiscovery</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_scan.html#gac68c4fba007904dd8d7c3621970d9bef">GapScan_disable()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_ResolvePrivateAddr</p></td>
<td><p>Obsolete - Address Resolution is done controller</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_EstablishLinkReq,
GAPCentralRole_EstablishLink</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#gac48c7e153d960604f9da90aca3f75d08">GapInit_connect()</a>, or <a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#ga51177eb45aa3d7e32807166b0aceffa6">GapInit_connectWl()</a> to use Filter Accept List</p></td>
</tr>
<tr class="row-odd"><td><p>GAP API</p></td>
<td><p>GAP_TerminateLinkReq,
GAPRole_TerminateConnection,
GAPCentralRole_TerminateLink</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_init.html#gab6106f8ac76d6991ad0fbf53b883e278">GapInit_cancelConnect()</a> for connection request, <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#ga7e7d184cdce75306919cd660ccab3b3b">GAP_TerminateLinkReq()</a> otherwise</p></td>
</tr>
<tr class="row-even"><td><p>GAP API</p></td>
<td><p>GAP_ConfigDeviceAddr</p></td>
<td><p>Obsolete - Only way to configure the device address is as parameters in <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gabd7c5f3cc85470854cf425e7e49b5ca5">GAP_DeviceInit()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP CB</p></td>
<td><p>gapRolesParamUpdateCB_t,
paramUpdateAppDecision_t,
passThroughToApp_t</p></td>
<td><p>These are handled through <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___event___i_ds.html#gaede323cf41e04ee0fec404461a47ce17">GAP_UPDATE_LINK_PARAM_REQ_EVENT</a>,
applies to the L2CAP Parameter Update Procedure as well.</p></td>
</tr>
<tr class="row-even"><td><p>GAP CB</p></td>
<td><p>gapRolesStateNotify_t,
pfnGapCentralRoleEventCB_t</p></td>
<td><p>Moved into GAP Bond Manager callbacks, <a class="reference external" href="../../../doxygen/ble/html/structgap_bond_c_bs__t.html">gapBondCBs_t</a></p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-gapbondmgr-changes-cc2640r2-to-cc26x2"></span><table class="docutils align-default" id="id8">
<caption><span class="caption-number">Table 51. </span><span class="caption-text">GAP Bond Manager Changes</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 35%" />
<col style="width: 48%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_DEFAULT_PASSCODE</p></td>
<td><p>Use <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p_bond_mgr___c_bs.html#ga0bce1fb086c4724f9447778cda3abda4">pfnPasscodeCB_t</a>,
shared default passcode defined in bcomdef.h
<a class="reference external" href="../../../doxygen/ble/html/bcomdef_8h.html#a0da7af8bf24c0c6d0b23b2a36d13f53d">B_APP_DEFAULT_PASSCODE</a></p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_REMOTE_OOB_SC_ENABLED</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_REMOTE_OOB_SC_DATA</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_LOCAL_OOB_SC_ENABLED</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND PARAM</p></td>
<td><p>GAPBOND_LOCAL_OOB_SC_DATA</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND STATE</p></td>
<td><p>GAPBOND_PAIRING_STATE_BONDED</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p_bond_mgr___events.html#gaac02ab0ff973831e6d151e0615d18cbc">GAPBOND_PAIRING_STATE_ENCRYPTED</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND DEF</p></td>
<td><p>GBM_QUEUE_PAIRINGS</p></td>
<td><p>Removed, is now default behavior</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND DEF</p></td>
<td><p>GBM_GATT_NO_CLIENT</p></td>
<td><p>Configured by <code class="docutils literal notranslate"><span class="pre">GATT_NO_CLIENT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND DEF</p></td>
<td><p>SNP_SECURITY</p></td>
<td><p>Configured by <code class="docutils literal notranslate"><span class="pre">GAPBONDMGR_NO_SIGNING</span></code></p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_LinkEst</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_LinkTerm</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_SlaveReqSecurity</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p_bond_mgr.html#ga15379572e5d31e014e84e5457d4b1633">GAPBondMgr_Pair()</a>, allowing both
Centrals and Peripherals to request pairing</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_UpdateCharCfg</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_ReadGattChar</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_SupportsEnhancedPriv</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-even"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_CheckNVLen</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
<tr class="row-odd"><td><p>GAPBOND API</p></td>
<td><p>GAPBondMgr_syncResolvingList</p></td>
<td><p>Removed Application Access to API
Handled Internally</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-gapgattserver-changes-cc2640r2-to-cc26x2"></span><table class="docutils align-default" id="id9">
<caption><span class="caption-number">Table 52. </span><span class="caption-text">GAP GATT Server Changes</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 43%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_PERI_PRIVACY_FLAG_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GGS PARAM</p></td>
<td><p>GGS_RECONNCT_ADDR_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_PERI_PRIVACY_FLAG_PROPS</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-even"><td><p>GGS PARAM</p></td>
<td><p>GGS_W_PERMIT_PRIVACY_FLAG_ATT</p></td>
<td><p>Obsolete</p></td>
</tr>
<tr class="row-odd"><td><p>GGS PARAM</p></td>
<td><p>GGS_TESTMODE_W_PERMIT_PRIVACY_FLAG</p></td>
<td><p>Obsolete</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-linkdb-changes-cc2640r2-to-cc26x2"></span><table class="docutils align-default" id="id10">
<caption><span class="caption-number">Table 53. </span><span class="caption-text">Link Database Changes</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 40%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Previous Implementation</p></th>
<th class="head"><p>New/Current implementation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Type</p></td>
<td><p>Name</p></td>
<td><p>Description / API / Parameter</p></td>
</tr>
<tr class="row-odd"><td><p>LinkDB API</p></td>
<td><p>linkDB_Remove</p></td>
<td><p>API now accepts
<a class="reference external" href="../../../doxygen/ble/html/structlink_d_b_info__t.html">linkDBInfo_t</a> in
addition to connection handle</p></td>
</tr>
</tbody>
</table>
<span id="tbl-ble5-porting-sample-app-changes"></span><table class="docutils align-default" id="id11">
<caption><span class="caption-number">Table 54. </span><span class="caption-text">Sample Simple Peripheral App Changes</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Previous Implementation</strong></p></th>
<th class="head"><p><strong>BLE5-Stack 1.02.00 Implementation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SimpleBLEPeripheral_processStateChangeEvt</p></td>
<td><p>See <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>SimpleBLEPeripheral_processAppMsg</p></td>
<td><p>Different events are now being handled. See <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processAppMsg</span></code></p></td>
</tr>
<tr class="row-even"><td><p>SimpleBLEPeripheral_processStackMsg</p></td>
<td><p>See the guide’s step to <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">GAP</span> <span class="pre">Event</span> <span class="pre">processing</span></code></p>
<blockquote>
<div><p>This is modified to process <a class="reference external" href="../../../doxygen/ble/html/bcomdef_8h.html#a53097c6e9dcd8791ab00c4adbd8d69cc">GAP_MSG_EVENT</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>SimpleBLEPeripheral_stateChangeCB
gapRolesCBs_t SimpleBLEPeripheral_gapRoleCBs</p></td>
<td><p>See the guide’s step to <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">GAP</span> <span class="pre">Event</span> <span class="pre">processing</span></code></p>
<blockquote>
<div><p>This is no longer used. GAP events are now returned to the application
directly as the RTOS event, <a class="reference external" href="../../../doxygen/ble/html/bcomdef_8h.html#a53097c6e9dcd8791ab00c4adbd8d69cc">GAP_MSG_EVENT</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>GAP_SetParamValue(TGAP_CONN_PAUSE_PERIPHERAL,
DEFAULT_CONN_PAUSE_PERIPHERAL)</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAPRole_SetParameter(GAPROLE_ADVERT_ENABLED,
sizeof(uint8_t),&amp;initialAdvertEnable)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code> by <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAPRole_SetParameter(GAPROLE_ADVERT_OFF_TIME,
sizeof(uint16_t),&amp;advertOffTime)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code> by <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga9b94640e5689a2b2b800d70c1a55538b">GapAdv_enable()</a>.
Configured by the third parameter <code class="docutils literal notranslate"><span class="pre">durationOrMaxEvents</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>GAPRole_SetParameter(GAPROLE_SCAN_RSP_DATA,
sizeof(scanRspData),scanRspData)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code> by <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a>.
with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___constants.html#gga481846f154fc6845b58a64d98f093b5babc42e2e33aabd615ea147453146b33a0">GAP_ADV_DATA_TYPE_SCAN_RSP</a> set as the data type</p></td>
</tr>
<tr class="row-even"><td><p>GAPRole_SetParameter(GAPROLE_ADVERT_DATA,
sizeof(advertData), advertData)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code> by <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga1bbb75a51200d38ed8f760d274c8b8c0">GapAdv_loadByHandle()</a>
with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___constants.html#gga481846f154fc6845b58a64d98f093b5baf3bd34ea7d975641e6ed144efbafc414">GAP_ADV_DATA_TYPE_ADV</a> set as the data type</p></td>
</tr>
<tr class="row-odd"><td><p>GAPRole_SetParameter(GAPROLE_PARAM_UPDATE_ENABLE,
sizeof(uint8_t), &amp;enableUpdateRequest)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processGapMessage</span></code>,
parameter updates from a central device are
handled in <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p___event___i_ds.html#gaede323cf41e04ee0fec404461a47ce17">GAP_UPDATE_LINK_PARAM_REQ_EVENT</a> and
uses <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaed1b6299bfe3b0469e2baf53cba04fe1">GAP_UpdateLinkParamReqReply()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAPRole_SetParameter(GAPROLE_MIN_CONN_INTERVAL,
sizeof(uint16_t), &amp;desiredMinInterval)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processParamUpdate</span></code>,
set as <code class="docutils literal notranslate"><span class="pre">DEFAULT_DESIRED_MIN_CONN_INTERVAL</span></code>
and applied with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAPRole_SetParameter(GAPROLE_MAX_CONN_INTERVAL,
sizeof(uint16_t), &amp;desiredMaxInterval)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processParamUpdate</span></code>,
set as <code class="docutils literal notranslate"><span class="pre">DEFAULT_DESIRED_MAX_CONN_INTERVAL</span></code>
and applied with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAPRole_SetParameter(GAPROLE_SLAVE_LATENCY,
sizeof(uint16_t), &amp;desiredSlaveLatency)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processParamUpdate</span></code>,
set as <code class="docutils literal notranslate"><span class="pre">DEFAULT_DESIRED_SLAVE_LATENCY</span></code>
and applied with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAPRole_SetParameter(GAPROLE_TIMEOUT_MULTIPLIER,
sizeof(uint16_t), &amp;desiredConnTimeout)</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">SimplePeripheral_processParamUpdate</span></code>,
set as <code class="docutils literal notranslate"><span class="pre">DEFAULT_DESIRED_CONN_TIMEOUT</span></code>
and applied with <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p.html#gaad99f6598df0ee36c4cd2608afa09618">GAP_UpdateLinkParamReq()</a></p></td>
</tr>
<tr class="row-even"><td><p>GAP_SetParamValue(TGAP_LIM_DISC_ADV_INT_MIN,
advInt)
GAP_SetParamValue(TGAP_GEN_DISC_ADV_INT_MIN,
advInt)</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a>
with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa70e48f6d64e39e15360b854892163716">GAP_ADV_PARAM_PRIMARY_INTERVAL_MIN</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAP_SetParamValue(TGAP_LIM_DISC_ADV_INT_MAX,
advInt)
GAP_SetParamValue(TGAP_GEN_DISC_ADV_INT_MAX,
advInt)</p></td>
<td><p><a class="reference external" href="../../../doxygen/ble/html/group___gap_adv.html#ga65020be0895c76efdaf18cb6da791a60">GapAdv_setParam()</a>
with <a class="reference external" href="../../../doxygen/ble/html/group___gap_adv___params.html#ggaa58afceb7db92df94b51adb77393744aa27bc46d1fbcc99ce9ed00d9b6ec47dca">GAP_ADV_PARAM_PRIMARY_INTERVAL_MAX</a></p></td>
</tr>
<tr class="row-even"><td><p>GAPBondMgr_SetParameter(GAPBOND_DEFAULT_PASSCODE,
sizeof(uint32_t), &amp;passkey)</p></td>
<td><p>Use <a class="reference external" href="../../../doxygen/ble/html/group___g_a_p_bond_mgr___c_bs.html#ga0bce1fb086c4724f9447778cda3abda4">pfnPasscodeCB_t</a>,
shared default passcode defined in bcomdef.h
<a class="reference external" href="../../../doxygen/ble/html/bcomdef_8h.html#a0da7af8bf24c0c6d0b23b2a36d13f53d">B_APP_DEFAULT_PASSCODE</a></p></td>
</tr>
<tr class="row-odd"><td><p>GAPROLE_STATE</p></td>
<td><p>Obsolete - GAP changes remove the need for this</p></td>
</tr>
<tr class="row-even"><td><p>GAPROLE_CONNHANDLE</p></td>
<td><p>Returned for each GAP event</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../cc13xx_cc26xx/software-on-cc13x4-26x4.html" class="btn btn-neutral float-left" title="Running Software Examples on the CC13x4 or CC26x4" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cc26x2_to_cc26x2x1.html" class="btn btn-neutral float-right" title="CC13x2x1 or CC26x2x1 to CC13x1x3 or CC26x1x3 Software Migration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2010-2022, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>