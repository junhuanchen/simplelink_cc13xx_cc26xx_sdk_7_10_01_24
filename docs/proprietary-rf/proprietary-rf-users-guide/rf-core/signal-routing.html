<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Routing RF Core Signals to Physical Pins &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User&#39;s Guide
 6.10.01 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Physical Layer (PHY)" href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html" />
    <link rel="prev" title="Working with Data Queues" href="data-queues.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug rf-core signal-routing";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide

          </a>
              <div class="version">
                6.10.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/proprietary-rf-quick-start.html">Proprietary RF Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/examples-cc13xx_cc26xx.html">Examples User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/custom-hardware.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/nortos-index.html">noRTOS Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html">RF Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="commands.html">Command Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html">Radio operation commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#start-and-end-triggers">Start and end triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#conditional-execution-and-chaining">Conditional execution and chaining</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#callback-events">Callback events</a></li>
<li class="toctree-l2"><a class="reference internal" href="phy-configuration.html">PHY Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-queues.html">Working with Data Queues</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Routing RF Core Signals to Physical Pins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#read-before-using-cpe-gpo1">Read Before Using CPE_GPO1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-before-using-rat-gpo1">Read Before Using RAT_GPO1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-before-using-mce-gpo1">Read Before Using MCE_GPO1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#routing-internal-signals-to-the-doorbell-register">Routing Internal Signals to the Doorbell Register</a></li>
<li class="toctree-l2"><a class="reference internal" href="#routing-doorbell-signals-to-gpio-pins">Routing Doorbell Signals to GPIO Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html">Physical Layer (PHY)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/sysconfig-index.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/migration-cc13xx_cc26xx.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html">Terms and acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../proprietary-rf-guide/rf-core-index.html">RF Core</a> &raquo;</li>
      <li>Routing RF Core Signals to Physical Pins</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="routing-rf-core-signals-to-physical-pins">
<span id="rf-signal-routing"></span><h1>Routing RF Core Signals to Physical Pins<a class="headerlink" href="#routing-rf-core-signals-to-physical-pins" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please see the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a> for further documentation on these signals including
limitations on devices and modes.</p>
</div>
<p>The various hardware units on the RF core provide 12 internal hardware signals
that indicate various events. These signals are defined in
<a class="reference internal" href="#tab-rf-unit-signals"><span class="std std-numref">Table 9.</span></a>.</p>
<span id="tab-rf-unit-signals"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 9. </span><span class="caption-text">Internal signals of different functional units on the RF core.</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 2%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Index</p></th>
<th class="head"><p>Signal identifier</p></th>
<th class="head"><p>Default mapping</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>CPE_GPO0</p></td>
<td><p>RFC_GPO0</p></td>
<td><p>Controls an external LNA front-end. High when the LNA must be enabled, otherwise low.</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>CPE_GPO1</p></td>
<td><p>RFC_GPO1</p></td>
<td><p>Controls an external PA. High when the PA must be enabled and otherwise low.</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>CPE_GPO2</p></td>
<td><p>RFC_GPO2</p></td>
<td><p>Goes high when the synthesizer calibration starts and low when the calibration is done.</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>CPE_GPO3</p></td>
<td></td>
<td><p>n/a</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>MCE_GPO0†</p></td>
<td></td>
<td><p>Binary data signal that goes to the modulator when sending.</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>MCE_GPO1†</p></td>
<td></td>
<td><p>Binary data signal that comes from the demodulator when receiving.</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>MCE_GPO2</p></td>
<td></td>
<td><p>n/a</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>MCE_GPO3</p></td>
<td></td>
<td><p>n/a</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>RAT_GPO0</p></td>
<td><p>RFC_GPO3</p></td>
<td><p>Goes high when a transmission is initiated and low when the transmission is done. Can be used for accurate timing synchronization.</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>RAT_GPO1*</p></td>
<td></td>
<td><p>Goes high when sync word is detected and low either when the packet has been received or reception has been aborted. If the device is in repeat mode, only the first sync word will give an assertion. Requires an additional override <code class="docutils literal notranslate"><span class="pre">(uint32_t)0x008F88B3</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>RAT_GPO2</p></td>
<td></td>
<td><p>General purpose RAT output. Configurable via CMD_SET_RAT_OUTPUT.</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>RAT_GPO3</p></td>
<td></td>
<td><p>General purpose RAT output. Configurable via CMD_SET_RAT_OUTPUT.</p></td>
</tr>
</tbody>
</table>
<p>MCE_GPO0 and MCE_GPO1†: These signals are only supported when using 2-GFSK
modulation.</p>
<p>RAT_GPO1*: See note in <a class="reference internal" href="#sec-read-rat-gpo1"><span class="std std-ref">Read Before Using RAT_GPO1</span></a>.</p>
<p>Each of those 12 signals can be routed to any physical GPIO pin via the RF
core doorbell register <code class="docutils literal notranslate"><span class="pre">SYSGPOCTL</span></code>. The doorbell register provides 4
outputs: <code class="docutils literal notranslate"><span class="pre">RFC_GPO0</span></code> .. <code class="docutils literal notranslate"><span class="pre">RFC_GPO3</span></code>. This means that at most 4 output
signals from <a class="reference internal" href="#tab-rf-unit-signals"><span class="std std-numref">Table 9.</span></a> can be used at the same time. The
signals <code class="docutils literal notranslate"><span class="pre">RFC_GPO0</span></code> .. <code class="docutils literal notranslate"><span class="pre">RFC_GPO3</span></code> have a default mapping on power up.</p>
<p>In addition, the RF core provides two input signals: <code class="docutils literal notranslate"><span class="pre">RFC_GPI0</span></code> and
<code class="docutils literal notranslate"><span class="pre">RFC_GPI1</span></code>.  These are tied to the radio timer on the RF core and can be
used, for instance, to trigger an RF operation command. For a usage example,
please refer to <a class="reference internal" href="radio-operation-commands.html#trig-external"><span class="std std-ref">External triggers TRIG_EXTERNAL</span></a>.</p>
<div class="section" id="read-before-using-cpe-gpo1">
<h2>Read Before Using CPE_GPO1<a class="headerlink" href="#read-before-using-cpe-gpo1" title="Permalink to this headline">¶</a></h2>
<p>On <a class="reference external" href="https://www.ti.com/product/CC2640R2F">CC2640R2F</a>, there is a bug with CPE_GPO1. Please use RAT_GPO0 instead. See
the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu117">CC26xx Technical Reference Manual</a> for more info.</p>
</div>
<div class="section" id="read-before-using-rat-gpo1">
<span id="sec-read-rat-gpo1"></span><h2>Read Before Using RAT_GPO1<a class="headerlink" href="#read-before-using-rat-gpo1" title="Permalink to this headline">¶</a></h2>
<p>On <a class="reference external" href="https://www.ti.com/product/CC2640R2F">CC2640R2F</a>, <a class="reference external" href="https://www.ti.com/product/CC1310">CC1310</a> and <a class="reference external" href="https://www.ti.com/product/CC1350">CC1350</a>, this signal is not supported when
using repeat mode.</p>
<p>The RAT_GPO1 signal is not supported  in these scenarios:</p>
<blockquote>
<div><ul class="simple">
<li><p>when using the sniff command (<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_SNIFF</span></code> or
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV_SNIFF</span></code>) with preamble correlation enabled (<code class="docutils literal notranslate"><span class="pre">csConf.bEnaCorr</span> <span class="pre">=</span> <span class="pre">1</span></code>)</p></li>
<li><p>when using IEEE 802.15.4 RX commands.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="read-before-using-mce-gpo1">
<h2>Read Before Using MCE_GPO1<a class="headerlink" href="#read-before-using-mce-gpo1" title="Permalink to this headline">¶</a></h2>
<p>This signal is only supported when using 2-GFSK modulation.</p>
<p>The data on MCE_GPO1 tells if the received instantaneous signal frequency is
below or above the expected carrier frequency, sampled at four times
oversampling of the symbol rate. Note that the signal is inverted compared to
normal decoding, so a received 0 is represented with a high level and a
received 1 is represented with a low level. This may be inverted in the IO
configuration register before it is output on a pin, if necessary.</p>
<p>The signal will contain both the preamble, access address, whitened data and
CRC. Note that this signal is taken out of the receiver before frequency error
compensation. This means that you may see either 0’s or 1’s being narrower
than expected, and some bits may be lost entirely. There are other steps taken
in the demodulator as well to improve reception which will not be done on this
observed signal. This means that if you try to decode a packet based on this
signal, you will get significantly worse sensitivity and frequency error
tolerance than with the internal demodulator. Note that the signal on this pin
will be noise when the receiver is on with no packet to receive (for instance
before the start of the packet).</p>
</div>
</div>
<div class="section" id="routing-internal-signals-to-the-doorbell-register">
<h1>Routing Internal Signals to the Doorbell Register<a class="headerlink" href="#routing-internal-signals-to-the-doorbell-register" title="Permalink to this headline">¶</a></h1>
<p>The default mapping from <a class="reference internal" href="#tab-rf-unit-signals"><span class="std std-numref">Table 9.</span></a> can be changed by
writing to the <code class="docutils literal notranslate"><span class="pre">SYSGPOCTL</span></code> register. For instance, to map <code class="docutils literal notranslate"><span class="pre">RAT_GPO2</span> <span class="pre">=&gt;</span> <span class="pre">RFC_GPO0</span></code> and
<code class="docutils literal notranslate"><span class="pre">MCE_GPO0</span> <span class="pre">=&gt;</span> <span class="pre">RFC_GPO1</span></code>, use the following code snippet:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ti/devices/DeviceFamily.h&gt;</span><span class="cp"></span>
<span class="cp">#include DeviceFamily_constructPath(inc/hw_rfc_dbell.h)</span>

<span class="c1">// Map RAT_GPO2 to RFC_GPO0</span>
<span class="c1">// Map MCE_GPO0 to RFC_GPO1</span>
<span class="n">HWREG</span><span class="p">(</span><span class="n">RFC_DBELL_BASE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">RFC_DBELL_O_SYSGPOCTL</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">        </span><span class="n">RFC_DBELL_SYSGPOCTL_GPOCTL0_RATGPO2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RFC_DBELL_SYSGPOCTL_GPOCTL1_MCEGPO0</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>Please note that this can only be done when the RF core is powered up. The
signal mapping on the RF core is reset on each power-up cycle. In order to
apply a custom mapping automatically during power-up, apply the register
change via an override instead:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ti/devices/DeviceFamily.h&gt;</span><span class="cp"></span>
<span class="cp">#include DeviceFamily_constructPath(inc/hw_rfc_dbell.h)</span>

<span class="c1">// Overrides for CMD_PROP_RADIO_DIV_SETUP</span>
<span class="k">static</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">pOverrides</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">            </span><span class="c1">// Set the SYSGPOCTL register</span>
<span class="w">    </span><span class="n">HW_REG_OVERRIDE</span><span class="p">(</span><span class="mh">0x1110</span><span class="p">,</span><span class="w"> </span><span class="n">RFC_DBELL_SYSGPOCTL_GPOCTL0_RATGPO2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RFC_DBELL_SYSGPOCTL_GPOCTL1_MCEGPO0</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="mh">0xFFFFFFFF</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Always add new overrides to the end of the override list, just before the (uint32_t)0xFFFFFFFF, as shown above.</p>
</div>
<div class="section" id="routing-doorbell-signals-to-gpio-pins">
<h1>Routing Doorbell Signals to GPIO Pins<a class="headerlink" href="#routing-doorbell-signals-to-gpio-pins" title="Permalink to this headline">¶</a></h1>
<p>After the signal mapping has been established on the RF core, the doorbell
GPIO signal can be routed to a physical pin or vice versa by the help of the
PIN driver:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ti/drivers/gpio/GPIOCC26XX.h&gt;</span><span class="cp"></span>

<span class="c1">// Map RFC_GPO0 to IO 23</span>
<span class="n">GPIO_setMux</span><span class="p">(</span><span class="n">IOID_23</span><span class="p">,</span><span class="w"> </span><span class="n">IOC_PORT_RFC_GPO0</span><span class="p">);</span><span class="w"></span>
<span class="c1">// Map IO 26 to RFC_GPI1</span>
<span class="n">GPIO_setMux</span><span class="p">(</span><span class="n">IOID_26</span><span class="p">,</span><span class="w"> </span><span class="n">IOC_PORT_RFC_GPI1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This mapping is permanent as long as the GPIO driver is initialized correctly.</p>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data-queues.html" class="btn btn-neutral float-left" title="Working with Data Queues" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html" class="btn btn-neutral float-right" title="Physical Layer (PHY)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>