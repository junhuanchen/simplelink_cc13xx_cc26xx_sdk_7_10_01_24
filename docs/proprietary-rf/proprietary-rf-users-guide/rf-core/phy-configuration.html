<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PHY Configuration &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User&#39;s Guide
 6.10.01 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Working with Data Queues" href="data-queues.html" />
    <link rel="prev" title="Radio operation commands" href="radio-operation-commands.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug rf-core phy-configuration";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide

          </a>
              <div class="version">
                6.10.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/proprietary-rf-quick-start.html">Proprietary RF Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/examples-cc13xx_cc26xx.html">Examples User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/custom-hardware.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/nortos-index.html">noRTOS Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html">RF Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="commands.html">Command Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html">Radio operation commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#start-and-end-triggers">Start and end triggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#conditional-execution-and-chaining">Conditional execution and chaining</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio-operation-commands.html#callback-events">Callback events</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PHY Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setup-command">Setup Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#patches">Patches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overrides">Overrides</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data-queues.html">Working with Data Queues</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal-routing.html">Routing RF Core Signals to Physical Pins</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal-routing.html#routing-internal-signals-to-the-doorbell-register">Routing Internal Signals to the Doorbell Register</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal-routing.html#routing-doorbell-signals-to-gpio-pins">Routing Doorbell Signals to GPIO Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html">Physical Layer (PHY)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/sysconfig-index.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/migration-cc13xx_cc26xx.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html">Terms and acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../proprietary-rf-guide/rf-core-index.html">RF Core</a> &raquo;</li>
      <li>PHY Configuration</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="phy-configuration">
<h1>PHY Configuration<a class="headerlink" href="#phy-configuration" title="Permalink to this headline">¶</a></h1>
<p>Each PHY on the CC13xx and CC26xx is configured by a combination of</p>
<ol class="arabic simple">
<li><p>A Setup radio operation command,</p></li>
<li><p>RF core firmware patches,</p></li>
<li><p>RF core register overrides.</p></li>
</ol>
<p>All these settings are generated using SysConfig (SmartRF Studio can also be
used). This section explains the necessary basics for understanding these
files and for making minor tweaks.</p>
<p>When using the RF driver, all 3 parts, the setup command, patches and
overrides are used as parameters for <a class="reference external" href="../../../rflib/html/group__rf__driver.html#ga1175bb5ce9b32dfc102482e8cfbb2f5b">RF_open()</a>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">RF_open</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rfObject</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">RF_prop</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">RF_RadioSetup</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">RF_cmdPropRadioDivSetup</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Read more on setting up the RF core:</p>
<ul class="simple">
<li><p>SimpleLink Academy: <a class="reference external" href="http://software-dl.ti.com/lprf/simplelink_academy/modules/prop_01_basic/prop_01_basic.html">Exporting RF settings from SmartRF Studio</a></p></li>
<li><p><a class="reference external" href="../../../rflib/html/_r_f_8h.html">RF driver documentation</a></p></li>
</ul>
<div class="section" id="setup-command">
<h2>Setup Command<a class="headerlink" href="#setup-command" title="Permalink to this headline">¶</a></h2>
<p>The setup command is the first radio operation that is posted to the RF core
after power-up.  Each PHY has its own flavored command.  Usually, it programs
basic configuration parameters like the modulation format and the symbol rate.</p>
<p>For the proprietary PHY, for instance, two different setup commands exist:</p>
<ul class="simple">
<li><p>CMD_PROP_RADIO_SETUP can only be used when operating at 2.4 GHz as it
does not contains the frequency divider setting needed for the sub-1 GHz
band.</p></li>
<li><p>CMD_PROP_RADIO_DIV_SETUP must be used when operating in the Sub-1 GHz
band, and can be used when operating on the 2.4 GHz band.</p></li>
</ul>
<p>The relationship of both commands is shown in the following image.</p>
<img alt="../_images/aafig-ff906f2e833a6cfc10de60cd289506c91dd0e36c.png" src="../_images/aafig-ff906f2e833a6cfc10de60cd289506c91dd0e36c.png" />
</div>
<div class="section" id="patches">
<h2>Patches<a class="headerlink" href="#patches" title="Permalink to this headline">¶</a></h2>
<p>Patches are additions to the RF core firmware. The CC13xx and CC26xx family is
shipped with a RF core firmware in ROM.  Whenever an issue is observed,
additional features are added or a new chip revision is published, some
firmware changes might become necessary. Patches are provided as
<a class="reference external" href="https://en.wikipedia.org/wiki/Binary_blob">binary blob</a> for the <a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html#term-CPE"><span class="xref std std-term">CPE</span></a>, <a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html#term-MCE"><span class="xref std std-term">MCE</span></a> and
the <a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html#term-RFE"><span class="xref std std-term">RFE</span></a>. They are part of the device-specific content in the <a class="reference external" href="http://www.ti.com/tool/simplelink-cc13xx-cc26xx-sdk">SimpleLink CC13xx/CC26xx SDK</a>.
Patches are loaded into the RF core RAM when powering up the RF core. The RF
driver combines pointers to all patches in a structure called
<a class="reference external" href="../../../rflib/html/struct_r_f___mode.html">RF_Mode</a>, for instance:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">RF_Mode</span><span class="w"> </span><span class="n">RF_prop</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">.</span><span class="n">cpePatchFxn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rf_patch_cpe_genfsk</span><span class="p">,</span><span class="w">    </span><span class="c1">// Command and Packet Engine</span>
<span class="w">    </span><span class="p">.</span><span class="n">mcePatchFxn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                       </span><span class="c1">// Modem Control Engine</span>
<span class="w">    </span><span class="p">.</span><span class="n">rfePatchFxn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rf_patch_rfe_genfsk</span><span class="p">,</span><span class="w">    </span><span class="c1">// Radio Front-end Engine</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>The table below give a brief overview over the patches for CC13xx and when and how they are used.</p>
<p>For the patches where it’s referred to SmartRF Studio in the table below, do a code export to see the usage.</p>
<span id="tab-patch-overview"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 4. </span><span class="caption-text">Patch overview</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 29%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Patch</p></th>
<th class="head"><p>Short description</p></th>
<th class="head"><p>Link to further documentation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rf_patch_cpe_bt5</p></td>
<td><p>CPE patch for BLE</p></td>
<td><p>Use the provided examples and settings
from the SDK</p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_cpe_ieee_802_15_4</p></td>
<td><p>CPE patch for Zigbee</p></td>
<td><p>Use the provided examples and settings
from the SDK</p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_cpe_multi_bt5_coex</p></td>
<td><p>CPE patch for BLE co-existence</p></td>
<td><p>Please see <a class="reference external" href="../../../ble5stack/ble_user_guide/html/coexistence/coexistence.html">Coexistence</a> for details</p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_cpe_multi_protocol</p></td>
<td><p>CPE patch for the RF driver</p></td>
<td><p>See DMM examples. This patch is used if
more than one protocol is used</p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_cpe_multi_protocol_rtls</p></td>
<td><p>CPE patch for the RF driver</p></td>
<td><p>See DMM examples. This patch is used if
more than one protocol is used and RTLS
is used</p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_cpe_prop</p></td>
<td><p>CPE patch for the RF driver</p></td>
<td><p>Use the provided examples and settings.
Look for settings with FSK in the name
in SmartRF Studio</p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_mce_genook</p></td>
<td><p>MCE patch to support OOK.</p></td>
<td><p>Use the provided examples and settings.
Look for settings with OOK in the name
in SmartRF Studio</p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_mce_iqdump</p></td>
<td><p>MCE patch to dump IQ samples</p></td>
<td><p>More information regarding this patch could
be found in <a class="reference external" href="https://www.ti.com/lit/pdf/swra571">CC13xx IQ Samples</a></p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_mce_wb_dsss</p></td>
<td><p>MCE patch to support WB DSSS</p></td>
<td><p>More information regarding this patch could
be found in <a class="reference external" href="https://www.ti.com/lit/pdf/swra591">Wide-Band DSSS Mode</a></p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_mce_wmbus_ctmode</p></td>
<td><p>MCE patch to support wmbus.
Combined C and T-Mode</p></td>
<td><p>Use the provided examples and settings.
Look for settings with WMBUS in the name
in SmartRF Studio</p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_mce_wmbus_smode</p></td>
<td><p>MCE patch to support wmbus.
S-Mode</p></td>
<td><p>Use the provided examples and settings.
Look for settings with WMBUS in the name
in SmartRF Studio</p></td>
</tr>
<tr class="row-odd"><td><p>rf_patch_rfe_ble_coex</p></td>
<td><p>RFE patch for BLE co-existence</p></td>
<td><p>Please see <a class="reference external" href="../../../ble5stack/ble_user_guide/html/coexistence/coexistence.html">Coexistence</a> for details</p></td>
</tr>
<tr class="row-even"><td><p>rf_patch_rfe_genook</p></td>
<td><p>RFE patch to support OOK</p></td>
<td><p>Use the provided examples and settings.
Look for settings with OOK in the name
in SmartRF Studio</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="overrides">
<span id="rf-proprietary-overrides"></span><h2>Overrides<a class="headerlink" href="#overrides" title="Permalink to this headline">¶</a></h2>
<p>Overrides contain additional configuration settings for the RF core firmware
that are not part of the setup command.  They are written into the RF core RAM
and can be seen as variables of the RF core firmware.  Overrides are
interpreted by the RF core firmware and therefore, their order is important.
Several types exist:</p>
<ul class="simple">
<li><p>overrides that write to internal hardware registers on the RF core</p></li>
<li><p>overrides that write to firmware parameters located in the RF core RAM</p></li>
</ul>
<p>Overrides are usually taken as-is from SysConfig (or SmartRF Studio).  They
are gathered in a 1-dimensional array of integers that is terminated by
<code class="docutils literal notranslate"><span class="pre">0xFFFFFFFF</span></code> and then linked to the <code class="docutils literal notranslate"><span class="pre">pRegOverride</span></code> parameter in the setup
command:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Overrides for CMD_PROP_RADIO_DIV_SETUP</span>
<span class="k">static</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">pOverrides</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 0: Run MCE firmware from ROM.</span>
<span class="w">    </span><span class="c1">// 4: Run MCE firmware from ROM bank 4.</span>
<span class="w">    </span><span class="c1">// 0: Use MCE firmware in mode 0. Sometimes, a patch provides more than one operation mode.</span>
<span class="w">    </span><span class="c1">// 1: Run RFE firmware from RAM (use the patch instead of the ROM.</span>
<span class="w">    </span><span class="c1">// 0: Does not apply, since RFE firmware runs from RAM.</span>
<span class="w">    </span><span class="c1">// 0: Run RFE firmware in mode 0.</span>
<span class="w">    </span><span class="n">MCE_RFE_OVERRIDE</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="c1">// Termination value</span>
<span class="w">    </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="mh">0xFFFFFFFF</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">RF_cmdPropRadioDivSetup</span><span class="p">.</span><span class="n">pRegOverride</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pOverrides</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="radio-operation-commands.html" class="btn btn-neutral float-left" title="Radio operation commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data-queues.html" class="btn btn-neutral float-right" title="Working with Data Queues" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>