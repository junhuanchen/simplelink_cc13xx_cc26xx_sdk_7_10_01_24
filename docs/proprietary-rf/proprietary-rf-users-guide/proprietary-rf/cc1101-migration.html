<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Migrating from CC1101 &mdash; 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User&#39;s Guide
 6.10.01 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="IEEE 802.15.4 Mode" href="../proprietary-rf-guide/ieee-rf-index-cc13xx_cc26xx.html" />
    <link rel="prev" title="Packet Format" href="packet-format.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug proprietary-rf cc1101-migration";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"> 
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide

          </a>
              <div class="version">
                6.10.01
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-guide/proprietary-rf-quick-start.html">Proprietary RF Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cc13xx_cc26xx/index-platform.html">SimpleLink Wireless MCU CC13xx and CC26xx Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/examples-cc13xx_cc26xx.html">Examples User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/custom-hardware.html">Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/tirtos-index-cc13xx_cc26xx.html">TI-RTOS7 (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/nortos-index.html">noRTOS Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html">RF Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html">Physical Layer (PHY)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="operation_modes.html">Operation Modes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../proprietary-rf-guide/proprietary-rf-index-cc13xx_cc26xx.html">Proprietary Mode</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="packet-format.html">Packet Format</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Migrating from CC1101</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-are-my-registers">“Where are my registers?”</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-do-i-make-proprfdevice-do-anything-drivers-and-software">“How Do I Make CC13xx Do Anything?”: Drivers and Software</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-use-feature-on-cc1101-how-do-i-do-it-on-proprfdevice">“I Use Feature &lt;&gt; on CC1101, How Do I Do it on CC13xx?”</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../proprietary-rf-guide/ieee-rf-index-cc13xx_cc26xx.html">IEEE 802.15.4 Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="tx-power.html">TX Power</a></li>
<li class="toctree-l2"><a class="reference internal" href="manchester-encoding.html">Manchester Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="packet-format-debugging.html">Packet format debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="time-synchronization.html">Time synchronization over the air</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/memory-index.html">Memory overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/sysconfig-index.html">System Configuration Tool (SysConfig)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../energy-trace/energy-trace.html">EnergyTrace User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/migration-cc13xx_cc26xx.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/reference-cc13xx_cc26xx.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html">Terms and acronyms</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html">
SimpleLink™ CC13XX/CC26XX SDK
Proprietary RF User's Guide
</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../proprietary-rf-guide/index-cc13xx_cc26xx.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../proprietary-rf-guide/physical-rf-layer-cc13xx_cc26xx.html">Physical Layer (PHY)</a> &raquo;</li>
          <li><a href="../proprietary-rf-guide/proprietary-rf-index-cc13xx_cc26xx.html">Proprietary Mode</a> &raquo;</li>
      <li>Migrating from CC1101</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="migrating-from-cc1101">
<h1>Migrating from CC1101<a class="headerlink" href="#migrating-from-cc1101" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Welcome to the CC1101 migration guide. This guide is written for users that use
CC1101 today and want to migrate over to CC13xx. This guide consists of 4 main
parts:</p>
<blockquote>
<div><ul class="simple">
<li><p>“How do I get a link between CC1101 and CC13xx?”</p></li>
<li><p>“Where are my registers?”: A short introduction to software on CC13xx</p></li>
<li><p>“How do I make CC13xx do anything”: Drivers and software</p></li>
<li><p>“I use feature &lt;&gt; on CC1101, how do I do it on CC13xx?”</p></li>
</ul>
</div></blockquote>
<p>This document refers to the following material:</p>
<blockquote>
<div><ul class="simple">
<li><p>The device datasheet: The datasheet for the device you are working with.</p></li>
<li><p>The <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a></p></li>
</ul>
</div></blockquote>
<div class="section" id="how-do-i-get-a-link-between-cc1101-and-proprfdevice">
<h3>“How do I get a link between CC1101 and CC13xx”<a class="headerlink" href="#how-do-i-get-a-link-between-cc1101-and-proprfdevice" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>38.4 kbps is used for these examples. Other data rates supported by <a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html#term-genfsk"><span class="xref std std-term">genfsk</span></a> may be used.</p>
</div>
<p>For the following examples, <a class="reference external" href="http://www.ti.com/tool/smartrftm-studio">SmartRF Studio</a> is used.</p>
<div class="section" id="cc1101-proprfdevice-using-non-return-to-zero-nrz">
<h4>CC1101 &lt;-&gt; CC13xx Using Non Return to Zero (NRZ)<a class="headerlink" href="#cc1101-proprfdevice-using-non-return-to-zero-nrz" title="Permalink to this headline">¶</a></h4>
<p>On CC1101:</p>
<blockquote>
<div><ul class="simple">
<li><p>Select the predefined 38.4 kbps setting</p></li>
</ul>
</div></blockquote>
<div class="figure align-center" id="id5">
<span id="fig-cc1101-nrz"></span><img alt="../_images/cc1101nrz.png" src="../_images/cc1101nrz.png" />
<p class="caption"><span class="caption-number">Figure 27. </span><span class="caption-text">CC1101 configuration NRZ</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>On CC13xx:</p>
<blockquote>
<div><ul class="simple">
<li><p>Select the 50 kbps setting. Change the data rate and deviation to the same as CC1101 uses.</p></li>
<li><p>CC1101 uses a 16 bit sync word that is repeated to generate a 32 bit sync word. On
CC13xx the sync word then has to be set to 0xD391D391.</p></li>
</ul>
</div></blockquote>
<div class="figure align-center" id="id6">
<span id="fig-cc1310-nrz"></span><img alt="../_images/cc1350nrz.png" src="../_images/cc1350nrz.png" />
<p class="caption"><span class="caption-number">Figure 28. </span><span class="caption-text">CC13xx configuration NRZ</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="cc1101-proprfdevice-using-manchester-coding">
<h4>CC1101 &lt;-&gt; CC13xx Using Manchester Coding<a class="headerlink" href="#cc1101-proprfdevice-using-manchester-coding" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt>On CC1101:</dt><dd><ul class="simple">
<li><p>Select the predefined 38.4 kbps setting</p></li>
<li><p>Tick the Manchester Enable box</p></li>
<li><p>Set MDMCFG2.SYNC_MODE = 2.</p></li>
</ul>
</dd>
</dl>
<p>On CC13xx:</p>
<blockquote>
<div><ul class="simple">
<li><p>Select the 50 kbps setting. Change the data rate and deviation to the same as CC1101 uses.</p></li>
<li><p>CC1101 does manchester coding on preamble and sync word, CC13xx only does
manchester coding on the payload. The CC1101 sync word manchester encoded is
0xA65A9656. Set the CC13xx sync word equal to this.</p></li>
<li><p>Enable manchester coding by setting PROP_RADIO_DIV_SETUP.formatConf.fecMode = 0xA</p></li>
</ul>
<ul class="simple">
<li><p>The following override has to be added to get the bytes in the correct order: HW_REG_OVERRIDE(0x5328,0x2047)</p></li>
<li><p>The following override has to be added:  HW_REG_OVERRIDE(0x5320, 0x1000)</p></li>
</ul>
<p>Manchester coding has only been functionally verified on CC13xx.</p>
</div></blockquote>
<div class="figure align-center" id="id7">
<span id="fig-cc1350-manchester1"></span><img alt="../_images/cc1350-man1.png" src="../_images/cc1350-man1.png" />
<p class="caption"><span class="caption-number">Figure 29. </span><span class="caption-text">CC13xx configuration manchester</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The strict sync word check in CC13xx is not in use when using manchester
coding. To reduce the number of false syncs the sync threshold could be
increased. See <a class="reference internal" href="#sync-word-qualifier">sync_word_qualifier</a> for details.</p>
<p>General note: It is recommended to use manchester coding only for legacy systems.</p>
<p>How to use the override editor in SmartRF Studio is described in the built-in
help in the program.</p>
</div>
</div>
</div>
<div class="section" id="where-are-my-registers">
<h2>“Where are my registers?”<a class="headerlink" href="#where-are-my-registers" title="Permalink to this headline">¶</a></h2>
<p>CC1101 is a transceiver meaning that to make an application CC1101 has to be
used together with an MCU. This MCU communicates with CC1101 over an SPI
interface and hardware registers on CC1101 has to be written or strobe commands
have to be sent to make the radio do anything.</p>
<p>CC13xx is a wireless MCU. This mean that CC13xx is a powerful MCU with a
selection of peripheral modules where one of these is the RF core. CC13xx still
has registers but most of them are hidden from users. One of the reasons for this
is that the meaning of a register on CC13xx changes dependent on which firmware
that is running. Instead the communication with the different modules on CC13xx
is done via APIs and overrides. All the available modules on CC13xx have a
driver. The APIs for the drivers are described in the documentation.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="../../../drivers/tidriversAPIs.html">TI Drivers API Reference</a></p></li>
<li><p><a class="reference external" href="../../../driverlib_cc13xx_cc26xx/doc_overview_driverlib_cc13xx_cc26xx.html">DriverLib API Reference</a></p></li>
</ul>
</div></blockquote>
<p>In addition all drivers are documented in the header files. The header files also
contain examples of usage. The driver header files are found in
TI Driver Source Files. Some drivers also have examples included in the SDK.</p>
<p>An override is a register write. Most of the overrides are provided by TI and
should not be changed. These are typically registers setting up one or more
internal modules and are the result of a lot of testing. The registers users can
change freely are typically documented <a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html"><span class="doc">here</span></a>. Required
overrides are given by <a class="reference external" href="http://www.ti.com/tool/smartrftm-studio">SmartRF Studio</a>.</p>
</div>
<div class="section" id="how-do-i-make-proprfdevice-do-anything-drivers-and-software">
<span id="drivers-and-software"></span><h2>“How Do I Make CC13xx Do Anything?”: Drivers and Software<a class="headerlink" href="#how-do-i-make-proprfdevice-do-anything-drivers-and-software" title="Permalink to this headline">¶</a></h2>
<p>To control CC1101 you can use anything from a simple 8 bits MCU to a multi core
Arm processor, all depending on the complexity of your application. CC13xx is a
wireless MCU with more than one core hence programming CC13xx is different from
using a simple 8 bit controller. CC13xx has a number of internal voltage and
clock domains. To use (as an example) the RF core the clocks used by the RF core
have to be turned on and the voltage domain the RF core is powered from has to be
turned on. When the RF core is not in use the clocks and the voltage domain
should be turned off to save power. The power on and off needs to be done in a
given sequence to ensure that everything is in the correct state.</p>
<p>To simplify the use of CC13xx drivers are available. The driver sets up the
clock and power domains and offer an API. The driver documentation can be found
here:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="../../../drivers/tidriversAPIs.html">TI Drivers API Reference</a></p></li>
<li><p><a class="reference external" href="../../../driverlib_cc13xx_cc26xx/doc_overview_driverlib_cc13xx_cc26xx.html">DriverLib API Reference</a></p></li>
</ul>
</div></blockquote>
<p>The drivers are written in c and it is therefore possible to walk through the
code to get a better understanding of what a given driver does if this is wanted
and/ or required. In addition, this document describes the power driver
requirements: <a class="reference external" href="../../../drivers/Power_Management.pdf">Power Management User’s Guide</a>.</p>
<p>Both the TI-RTOS7 and the NoRTOS solution go to the IDLE state whenever possible.
In IDLE state the <a class="reference external" href="../../../drivers/doxygen/html/_power_8h.html#a873219012923300f3b3b958b951a4ea1">Power_idleFunc()</a> is called which takes the chip
to the lowest power state possible.</p>
<p>For a comprehensive TI-RTOS course, see the <a class="reference external" href="https://training.ti.com/ti-rtos-workshop-series">TI RTOS Workshop Series</a>.</p>
<p>The NoRTOS solution is documented here: <a class="reference external" href="../../../simplelink_mcu_sdk/Users_Guide.html#nortos">NoRTOS Driver Porting Layer</a>.</p>
<p>For CC13xx a Software Development Kit (SDK) is provided.</p>
<div class="section" id="the-customer-configuration-ccfg">
<span id="ccfg-migration"></span><h3>The Customer Configuration (CCFG)<a class="headerlink" href="#the-customer-configuration-ccfg" title="Permalink to this headline">¶</a></h3>
<p>CC13xx has a part of flash called Customer Configuration (CCFG). The CCFG
parameters are set at compile time in the ccfg.c file in the SDK. The ccfg.c
file contains settings for (not a complete list):</p>
<blockquote>
<div><ul class="simple">
<li><p>CCFG_FORCE_VDDR_HH: Sets it 12.5 dBm or 14 dBm is maximum output power.</p></li>
<li><p>SET_CCFG_MODE_CONF_DCDC_ACTIVE: Sets if the DCDC should be used in active or not.</p></li>
<li><p>SET_CCFG_MODE_CONF_SCLK_LF_OPTION: Sets the source for the low frequency clock.</p></li>
<li><p>SET_CCFG_MODE_CONF_XOSC_CAP_MOD: Sets if the internal crystal load capacitor array should be used. The default is that the internal array is in use.</p></li>
<li><p>SET_CCFG_EXT_LF_CLK_DIO: The DIO used if using an external clock source for the LF</p></li>
<li><p>SET_CCFG_BL_CONFIG_BL&lt;&gt;: Settings for the boot loader.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="i-use-feature-on-cc1101-how-do-i-do-it-on-proprfdevice">
<h2>“I Use Feature &lt;&gt; on CC1101, How Do I Do it on CC13xx?”<a class="headerlink" href="#i-use-feature-on-cc1101-how-do-i-do-it-on-proprfdevice" title="Permalink to this headline">¶</a></h2>
<p>This part of the migration guide aims to describe how CC1101 features map to the
CC13xx. The numbering of the sections follows the CC1101 datasheet. If you
wonder how to implement a given thing on CC13xx, find which section in the
CC1101 datasheet this is covered and look up the section number in the guide.</p>
<div class="section" id="electrical-specifications">
<h3>4 Electrical Specifications<a class="headerlink" href="#electrical-specifications" title="Permalink to this headline">¶</a></h3>
<div class="section" id="current-consumption">
<h4>4.1 Current Consumption<a class="headerlink" href="#current-consumption" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx current consumption numbers are summarized in 5.4 and 6.7 in the
device datasheet.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 20%" />
<col style="width: 24%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>State</p></th>
<th class="head"><p>CC1101</p></th>
<th class="head"><p>CC1310</p></th>
<th class="head"><p>CC1312</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Tx (10 dBm)</p></td>
<td><p>30.0 mA</p></td>
<td><p>13.4 mA</p></td>
<td><p>14 mA</p></td>
</tr>
<tr class="row-odd"><td><p>Rx</p></td>
<td><p>14.7 mA</p></td>
<td><p>5.5 mA</p></td>
<td><p>5.7 mA</p></td>
</tr>
<tr class="row-even"><td><p>Sleep</p></td>
<td><p>0.2 uA</p></td>
<td><p>0.185 uA</p></td>
<td><p>0.13 uA</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="receive-section">
<h4>4.2 Receive Section<a class="headerlink" href="#receive-section" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx receive parameters are stated in 5.6 and 5.7 in the device datasheet.</p>
</div>
<div class="section" id="rf-transmit-section">
<h4>4.3 RF Transmit Section<a class="headerlink" href="#rf-transmit-section" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx transmit parameters are stated in 5.8 and 5.9 in the device datasheet.</p>
</div>
<div class="section" id="crystal-oscillator">
<h4>4.4 Crystal Oscillator<a class="headerlink" href="#crystal-oscillator" title="Permalink to this headline">¶</a></h4>
<p>CC13xx has 2 crystal oscillators, 48 MHz and 32.768 kHz. The internal 32.768
kHz RC oscillator can be used instead of the 32.768 crystal. This is done in the
<code class="docutils literal notranslate"><span class="pre">ccfg.c</span></code> file.</p>
</div>
<div class="section" id="low-power-rc-oscillator">
<h4>4.5 Low Power RC Oscillator<a class="headerlink" href="#low-power-rc-oscillator" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx 32 kHz RC oscillator is covered in the “Clock Specifications” section in chapter 5 in the device datasheet.</p>
</div>
<div class="section" id="frequency-synthesizer-characteristics">
<h4>4.6 Frequency Synthesizer Characteristics<a class="headerlink" href="#frequency-synthesizer-characteristics" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx PLL parameters are covered in chapter 5 in the datasheet.</p>
</div>
<div class="section" id="analog-temperature-sensor">
<h4>4.7 Analog Temperature Sensor<a class="headerlink" href="#analog-temperature-sensor" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx has a build in temperature sensor and battery monitor. An API is
provided, see <a class="reference external" href="../../../driverlib_cc13xx_cc26xx/cc13x2_cc26x2/driverlib/group__aonbatmon__api.html">AONBATMON API</a>.</p>
<p>The “Battery Monitor and Temperature Sensor” chapter in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a> describes how the module is implemented on CC13xx.</p>
</div>
<div class="section" id="dc-characteristics">
<h4>4.8 DC Characteristics<a class="headerlink" href="#dc-characteristics" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx DC characteristics are covered in chapter 5 in the datasheet.</p>
</div>
<div class="section" id="power-on-reset">
<span id="id3"></span><h4>4.9 Power-On Reset<a class="headerlink" href="#power-on-reset" title="Permalink to this headline">¶</a></h4>
<p>CC13xx has built in power supply supervision that ensures that the chip first
starts when the supply voltage to the chip has a valid level. When the voltage
drops below a given voltage the voltage supply supervision module take the chip
down in a controlled reset to ensure that the chip does not enter an undefined
state.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">ccfg.c</span></code> file it’s possible to set the reset level to 1.78 V (1.65 V if
external regulator mode is used) or 2.0 V, see
<code class="docutils literal notranslate"><span class="pre">SET_CCFG_MODE_CONF_VDDS_BOD_LEVEL</span></code> in <a class="reference internal" href="#ccfg-migration"><span class="std std-ref">The Customer Configuration (CCFG)</span></a>.</p>
</div>
</div>
<div class="section" id="pin-configuration">
<h3>5 Pin Configuration<a class="headerlink" href="#pin-configuration" title="Permalink to this headline">¶</a></h3>
<p>See section 4 in the device datasheet for pin configurations.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CC13x0 comes in 3 different packet sizes (4x4, 5x5 and 7x7) where the main
difference between the packet sizes is the number of available IOs.</p>
<p>CC13x2 is only available in 7x7.</p>
</div>
</div>
<div class="section" id="circuit-description">
<h3>6 Circuit Description<a class="headerlink" href="#circuit-description" title="Permalink to this headline">¶</a></h3>
<p>See the device datasheet and section 1 in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>.</p>
</div>
<div class="section" id="application-circuit">
<h3>7 Application Circuit<a class="headerlink" href="#application-circuit" title="Permalink to this headline">¶</a></h3>
<p>This section will not cover the CC13xx application circuit but some of the
differences between CC1101 and CC13xx. For CC13xx application circuits see
under Design files in “Technical Documents” on the device page.</p>
<div class="section" id="bias-resistor">
<h4>7.1 Bias Resistor<a class="headerlink" href="#bias-resistor" title="Permalink to this headline">¶</a></h4>
<p>CC13xx doesn’t use an external bias resistor</p>
</div>
<div class="section" id="balun-and-rf-matching">
<h4>7.2 Balun and RF Matching<a class="headerlink" href="#balun-and-rf-matching" title="Permalink to this headline">¶</a></h4>
<p>Similar to CC1101, CC13xx has differential RF pins, RF_P and RF_N. In addition
the RXTX pin may be used. The LNA can be biased internally or externally. If the
latter is the case the RXTX pin is used. In addition, the RF_P and RF_N pins are
possible to use single ended. Possible use cases are two single ended paths on
two different frequencies or one path for TX and one for RX. The latter could
typically be the case when using a front-end module (FEM).</p>
<p>For 868 MHz, it is also possible to use an integrated passive component (IPC)
instead of discrete components. See <a class="reference external" href="http://www.ti.com/lit/swra640">CC13xx/CC26xx Hardware Configuration and
PCB Design Considerations</a> for a list of IPCs possible to use.</p>
</div>
<div class="section" id="crystal">
<h4>7.3 Crystal<a class="headerlink" href="#crystal" title="Permalink to this headline">¶</a></h4>
<p>CC13xx has an internal capacitor array used as load capacitors for the
crystal. This cap-array is possible to adjust, see chapter 6 in <a class="reference external" href="http://www.ti.com/lit/swra640">CC13xx/CC26xx
Hardware Configuration and PCB Design Considerations</a>.</p>
<p>Some CC13xx launchpads have load capacitors mounted and the internal
load capacitors turned off to improve performance.</p>
</div>
<div class="section" id="reference-signal">
<h4>7.4 Reference Signal<a class="headerlink" href="#reference-signal" title="Permalink to this headline">¶</a></h4>
<p>CC13xx is designed to be able to use a (TCXO). Official support for TCXO and narrow band will be added,
check on E2E to get the up to date status.</p>
</div>
<div class="section" id="additional-filtering">
<h4>7.5 Additional Filtering<a class="headerlink" href="#additional-filtering" title="Permalink to this headline">¶</a></h4>
<p>Not applicable for CC13xx. Please look for a reference design under the
“Technical Documents” tab on the CC13xx page on ti.com.</p>
</div>
<div class="section" id="power-supply-decoupling">
<h4>7.6 Power Supply Decoupling<a class="headerlink" href="#power-supply-decoupling" title="Permalink to this headline">¶</a></h4>
<p>It is important that the power decoupling is done as in the reference design. In
addition the network connected to the DCDC_SW pin should be done as close as
possible to the reference design if the DCDC converter is used. Pay close
attention to the grounding and to have a short as possible return path from the
decoupling to the die paddle.</p>
</div>
<div class="section" id="antenna-considerations">
<h4>7.7 Antenna Considerations<a class="headerlink" href="#antenna-considerations" title="Permalink to this headline">¶</a></h4>
<p>Please take a look the <a class="reference external" href="http://www.ti.com/lit/swra496">CC-Antenna-DK2 and Antenna Measurements Summary</a> for
the latest recommended PCB antennas.</p>
</div>
<div class="section" id="pcb-layout-recommendations">
<h4>7.8 PCB Layout Recommendations<a class="headerlink" href="#pcb-layout-recommendations" title="Permalink to this headline">¶</a></h4>
<p>The layout considerations for CC1101 are also valid for CC13xx. See
<a class="reference external" href="http://www.ti.com/lit/swra640">CC13xx/CC26xx Hardware Configuration and PCB Design Considerations</a> for
general hardware design guidelines. See the device datasheet, the reference
designs and your manufacturer on solder paste coverage. See the CC13xx
reference designs for the number of vias under the chip.</p>
</div>
</div>
<div class="section" id="configuration-overview">
<h3>8 Configuration Overview<a class="headerlink" href="#configuration-overview" title="Permalink to this headline">¶</a></h3>
<p>CC1101 is a transceiver where the transitions between the different states are
controlled by a hardware module.</p>
<p>CC13xx is a wireless module where the radio is one of the peripherals. The
states on CC1101 can therefore not be compared directly. The Power Management section in the device datasheet
describe the main power modes.</p>
<p>The RF driver controls which state the RF core is in.</p>
</div>
<div class="section" id="configuration-software">
<span id="codeexport"></span><h3>9 Configuration Software<a class="headerlink" href="#configuration-software" title="Permalink to this headline">¶</a></h3>
<p>It’s highly recommended to use the code export feature in SmartRF Studio to get
the recommended settings.</p>
<p>For details, press help in SmartRF Studio and scroll down to “Command Code
Export” in the contents pan.</p>
</div>
<div class="section" id="wire-serial-configuration-and-data-interface">
<h3>10 4-wire Serial Configuration and Data Interface<a class="headerlink" href="#wire-serial-configuration-and-data-interface" title="Permalink to this headline">¶</a></h3>
<p>CC1101 is programmed and controlled over a SPI interface. This section of the
CC1101 datasheet covers how to use the SPI interface. The CC13xx is a wireless
MCU and therefore is not directly controlled over an interface. Programming the
CC13xx is done over the JTAG interface using XDS100V3, XDS110 or XDS200. The
CC13xx or CC26xx LaunchPad has a built-in XDS110 that can be used to program the CC13xx on the
Launchpad or on a custom board using either <a class="reference external" href="http://www.ti.com/tool/flash-programmer">Flash Programmer 2</a> or <a class="reference external" href="http://www.ti.com/tool/uniflash">Uniflash</a>.</p>
</div>
<div class="section" id="general-control-and-status-pins">
<h3>11 General Control and Status Pins<a class="headerlink" href="#general-control-and-status-pins" title="Permalink to this headline">¶</a></h3>
<p>The pins described in this section of the CC1101 datasheet are related to the
SPI interface controlling CC1101. Since CC13xx is controlled differently than
CC1101, CC13xx doesn’t have the pin control described in this section of the
CC1101 datasheet.</p>
</div>
<div class="section" id="data-rate-programming">
<h3>12 Data Rate Programming<a class="headerlink" href="#data-rate-programming" title="Permalink to this headline">¶</a></h3>
<p>On CC1101 the wanted data rate is set by writing to the MDMCFG3.DRATE_M and
MDMCFG4.DRATE_E registers. On CC13xx the data rate is set via the
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP</span></code> command. See 23-139 in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a> for details. It is
recommended to use SmartRF Studio to calculate the required values and export
the code. SmartRF Studio also contains a set of characterized settings for data
rates used in CC1101 systems.</p>
</div>
<div class="section" id="receiver-channel-filter-bandwidth">
<h3>13 Receiver Channel Filter Bandwidth<a class="headerlink" href="#receiver-channel-filter-bandwidth" title="Permalink to this headline">¶</a></h3>
<p>Receiver bandwidth is set via the <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP</span></code> command.</p>
<p>On CC13xx or CC26xx the RX BW can’t be set independently of the data rate, the actual RX
bandwidth is a function of the RF frequency.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For datarates below 20 kbps the frequency tolerance will be low and the system
will be difficult to use with crystals as reference. For CC13x0, see <a class="reference external" href="http://www.ti.com/lit/pdf/swra566">CC13x0 Low Data Rate Operation</a>. CC13x2 has this patch built-in.</p>
</div>
<p>For a given RX bandwidth it’s only possible to use data rates within a certain range. SmartRF Studio will give a warning if the combination you try to use is not possible.</p>
</div>
<div class="section" id="demodulator-symbol-synchronizer-and-data-decision">
<h3>14 Demodulator, Symbol Synchronizer and Data Decision<a class="headerlink" href="#demodulator-symbol-synchronizer-and-data-decision" title="Permalink to this headline">¶</a></h3>
<div class="section" id="frequency-offset-compensation">
<h4>14.1 Frequency Offset Compensation<a class="headerlink" href="#frequency-offset-compensation" title="Permalink to this headline">¶</a></h4>
<p>When using (G)FSK and data rates under 500 kbps the frequency offset estimate is
available as</p>
<div class="math">
<p><img src="../_images/math/a948a0e0abfa4440f81539575bd4e3b5daed199e.svg" alt="\frac{\textrm{DEMMAFC0}[7:0]}{64} * \textrm{fdev}"/></p>
</div><p>fdev is the programmed deviation and
has unit Hz.</p>
<p>DEMMAFC0[7:0] is on address 0x4004 51C0 and should be read after a packet is
received. The result is a signed value. The snippets below shows the required code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//frequency_dev is the deviation given in Hz.</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int16_t</span><span class="w"> </span><span class="n">offset</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="n">rfc_CMD_READ_RFREG_t</span><span class="w"> </span><span class="n">RF_cmdReadRfregFreqOffset</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="p">.</span><span class="n">commandNo</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0601</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x5154</span><span class="p">,</span><span class="w"></span>
<span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// Place in the RX part of the code.</span>
<span class="n">RF_runImmediateCmd</span><span class="p">(</span><span class="n">rfHandle</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">RF_cmdReadRfregFreqOffset</span><span class="p">);</span><span class="w"></span>

<span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">RF_cmdReadRfregFreqOffset</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">frequency_dev</span><span class="o">/</span><span class="w"> </span><span class="mi">64</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>On CC13xx it’s also possible to append the frequency offset to the received packet as extra status bytes.</p>
<div class="figure align-center" id="id9">
<span id="fig-extrastatusbytes"></span><img alt="../_images/extrastatusbytes.png" src="../_images/extrastatusbytes.png" />
<p class="caption"><span class="caption-number">Figure 31. </span><span class="caption-text">Extra Status bytes format</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>To append freq offset information to the packet buffer, add the following to the override list:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="mh">0x000488E3</span><span class="w"></span>
</pre></div>
</div>
<p>To append LQI information to the packet buffer, add to the override list:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="mh">0x000288E3</span><span class="w"></span>
</pre></div>
</div>
<p>If both LQI and freq offset are wanted, add:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="mh">0x000688E3</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="bit-synchronization">
<h4>14.2 Bit Synchronization<a class="headerlink" href="#bit-synchronization" title="Permalink to this headline">¶</a></h4>
<p>From a user standpoint this is done in the same way on CC1101 and CC13xx.</p>
</div>
<div class="section" id="byte-synchronization">
<h4>14.3 Byte Synchronization<a class="headerlink" href="#byte-synchronization" title="Permalink to this headline">¶</a></h4>
<p>From a user standpoint this is done in the same way on CC1101 and CC13xx.</p>
</div>
</div>
<div class="section" id="packet-handling-hardware-support">
<h3>15 Packet Handling Hardware Support<a class="headerlink" href="#packet-handling-hardware-support" title="Permalink to this headline">¶</a></h3>
<div class="section" id="data-whitening">
<h4>15.1 Data Whitening<a class="headerlink" href="#data-whitening" title="Permalink to this headline">¶</a></h4>
<p>CC13xx can be set up to use the same whitening as CC1101 by setting
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP.whitenMode</span></code> = <code class="docutils literal notranslate"><span class="pre">0x1</span></code>.</p>
</div>
<div class="section" id="packet-format">
<h4>15.2 Packet Format<a class="headerlink" href="#packet-format" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx standard packet format shown in figure 23-9 in <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a> is the same
packet format as used on CC1101, but the packet format on CC13xx is made more
flexible.</p>
<blockquote>
<div><ul>
<li><p>The length of the preamble is possible to set in
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP.nPreamBytes</span></code> with the possibility to set the
length of the preamble to most values between 1 and 32 byte in addition to 1
and 4 bit. See table 23-139 for details. On CC13xx it’s possible to use
other preambles than 0xAA or 0x55.</p>
<p>The preamble can be set using <a class="reference internal" href="../rf-core/phy-configuration.html#rf-proprietary-overrides"><span class="std std-ref">Overrides</span></a>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//Preamble: 0x33</span>
<span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="w"> </span><span class="mh">0x33330043</span><span class="w"></span>

<span class="c1">//Preamble: 0xCC</span>
<span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="w"> </span><span class="mh">0xCCCC0043</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>The length of the sync word is possible to set in
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP.nSwBits</span></code> with the possibility to set number of
bits from 8 to 32.</p></li>
</ul>
</div></blockquote>
<p>Note that the CC1101 sync search is purely bit based (the bits in the received
data stream are compared one by one with the programmed sync word). CC13xx on
the other hand uses a combination of correlator based sync search and a bit
based search (strict sync search). A correlator based sync search compares
patterns and does not limit sensitivity. This difference in how the CC1101 and
CC13xx search for sync means that it’s not possible to accept 1 bit error per
16 bits on CC13xx as on CC1101 (MDMCFG2.SYNCMODE). Since the sync search on
CC13xx doesn’t limit sensitivity there is no need for a 15/16 or 30/32 sync
mode setting on CC13xx.</p>
<p>Note that by using <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV</span></code> it is possible to search for two
different sync words at the same time.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX</span></code> supports up to 255 bytes payload, <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV</span></code>
supports unlimited length (<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV.maxPktLen</span></code> = 0).</p></li>
<li><p>Fixed or variable packet length is set in <code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX.bVarLen</span></code>. When using
variable packet length mode on CC1101, the length byte must be written to the
TX FIFO. On the CC13xx, the length byte is not part of the packet but is
set through the API (<code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX.pktLen</span></code>).</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="packet-filtering-in-receive-mode">
<h4>15.3 Packet Filtering in Receive Mode<a class="headerlink" href="#packet-filtering-in-receive-mode" title="Permalink to this headline">¶</a></h4>
<p>Address filtering can be enabled by setting <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX.bChkAddress</span></code>. The
received address is compared against <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX.address0</span></code> and
<code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX.address1</span></code>. CRC filtering can be enabled by setting <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX.bUseCrc</span></code>.</p>
</div>
</div>
<div class="section" id="modulation-formats">
<h3>16 Modulation Formats<a class="headerlink" href="#modulation-formats" title="Permalink to this headline">¶</a></h3>
<p>As of today CC13xx supports 2-(G)FSK and 4-(G)FSK. Contact TI if you need a different format.</p>
<div class="section" id="sync-word-qualifier">
<span id="id4"></span><h4>17.1 Sync Word Qualifier<a class="headerlink" href="#sync-word-qualifier" title="Permalink to this headline">¶</a></h4>
<p>The sync word is selectable to have a length from 8 bits to 32 bits. This is set
in <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP.nSwBits</span></code>.</p>
<p>The sync word threshold could be set with the following override:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">HW_REG_OVERRIDE</span><span class="p">(</span><span class="mh">0x5114</span><span class="p">,</span><span class="mi">0</span><span class="n">xYYZZ</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>where YY and ZZ is the threshold for the two correlators. For simplicity the two
thresholds can be set equal. Higher value is stricter. The default sync
threshold is given by:</p>
<div class="math">
<p><img src="../_images/math/64f865e699ac75c349e382cfd5785e49ff596c44.svg" alt="\textrm{Sync Threshold} = \frac{30*\textrm{nSwBits}}{32} + 9"/></p>
</div><p>If the received sync word has to be bit by bit equal to the programmed sync
word, the word search is qualified as a strict sync word search.</p>
</div>
<div class="section" id="preamble-quality-threshold-pqt">
<h4>17.2 Preamble Quality Threshold (PQT)<a class="headerlink" href="#preamble-quality-threshold-pqt" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../rf-core/rf-commands-reference/cmd_prop_cs.html"><span class="doc">CMD_PROP_CS</span></a> command can be used to monitor the RF activity in a channel
and return busy if a preamble is present.</p>
<p>If PQT gating of sync search is wanted <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_SNIFF</span></code> has to be chained
(<a class="reference internal" href="../rf-core/radio-operation-commands.html#condition-evaluation"><span class="std std-ref">Conditional execution and chaining</span></a>) with <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX</span></code>.</p>
</div>
<div class="section" id="rssi">
<h4>17.3 RSSI<a class="headerlink" href="#rssi" title="Permalink to this headline">¶</a></h4>
<p>If in Rx, the function <a class="reference external" href="../../../rflib/html/group__rf__driver.html#gac3fe0d39243fb6bbefe0216d958a6779">RF_getRssi()</a> returns the RSSI value. After
receiving a packet the radio will no longer be in RX mode unless <code class="docutils literal notranslate"><span class="pre">bRepeatOk</span></code> =
1. The RSSI of a received packet can be read from the <code class="docutils literal notranslate"><span class="pre">rfc_propRxOutput_t</span></code>
structure.</p>
<p>In the code, add:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">rfc_propRxOutput_t</span><span class="w"> </span><span class="n">rxStatistics</span><span class="p">;</span><span class="w"></span>
<span class="kt">int8_t</span><span class="w"> </span><span class="n">RSSIout</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Under Modify CMD_PROP_RX command for application needs</span>
<span class="n">RF_cmdPropRx</span><span class="p">.</span><span class="n">pOutput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">rxStatistics</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Where you want to read out the RSSI in the code</span>
<span class="n">RSSIout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rxStatistics</span><span class="p">.</span><span class="n">lastRssi</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="carrier-sense-cs">
<h4>17.4 Carrier Sense (CS)<a class="headerlink" href="#carrier-sense-cs" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../rf-core/rf-commands-reference/cmd_prop_cs.html"><span class="doc">CMD_PROP_CS</span></a> command can be used to monitor the RF activity in a channel
and return busy if the RSSI is above a given threshold.</p>
</div>
<div class="section" id="clear-channel-assessment-cca">
<h4>17.5 Clear Channel Assessment (CCA)<a class="headerlink" href="#clear-channel-assessment-cca" title="Permalink to this headline">¶</a></h4>
<p>The rfListenBeforeTalk example in the <a class="reference external" href="http://www.ti.com/tool/simplelink-cc13xx-cc26xx-sdk">SimpleLink CC13xx/CC26xx SDK</a> shows how listen before talk (LBT)
or CCA can be implemented.</p>
</div>
<div class="section" id="link-quality-indicator-lqi">
<h4>17.6 Link Quality Indicator (LQI)<a class="headerlink" href="#link-quality-indicator-lqi" title="Permalink to this headline">¶</a></h4>
<p>It is not possible to output the LQI via the <code class="docutils literal notranslate"><span class="pre">rfc_propRxOutput_t</span></code> structure or
to append it to the packet meta data.</p>
<p>The LQI for the last received packet when using <a class="reference internal" href="../proprietary-rf-guide/glossary-cc13xx_cc26xx.html#term-genfsk"><span class="xref std std-term">genfsk</span></a> can be read from a
register if the RF core is not in RX.:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">LQI</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="n">rfc_CMD_READ_RFREG_t</span><span class="w"> </span><span class="n">RF_cmdReadLQI</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="p">.</span><span class="n">commandNo</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0601</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">.</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x5268</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="n">RF_runImmediateCmd</span><span class="p">(</span><span class="n">rfHandle</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">RF_cmdReadLQI</span><span class="p">);</span><span class="w"></span>

<span class="n">LQI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">RF_cmdReadLQI</span><span class="p">.</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="forward-error-correction-fec">
<h4>18.1 Forward Error Correction (FEC)<a class="headerlink" href="#forward-error-correction-fec" title="Permalink to this headline">¶</a></h4>
<p>The patch required for the CC1101 compatible FEC on CC13xx is not tested.
Contact TI if you are interested in using a CC1101 compatible FEC on CC13xx.</p>
</div>
<div class="section" id="power-on-start-up-sequence">
<h4>19.1 Power-On Start-Up Sequence<a class="headerlink" href="#power-on-start-up-sequence" title="Permalink to this headline">¶</a></h4>
<p>The CC13xx has a build in POR/ brown out detector (BOD) that ensures that the
chip does not boot up before VDDS is above the set minimum voltage (see
<a class="reference internal" href="#power-on-reset"><span class="std std-ref">4.9 Power-On Reset</span></a>). The chip also has an external reset pin. Follow the
reference design for an external circuit that ensures a pin reset at power-up.</p>
</div>
<div class="section" id="crystal-control">
<h4>19.2 Crystal Control<a class="headerlink" href="#crystal-control" title="Permalink to this headline">¶</a></h4>
<p>The high speed XOSC is controlled by the drivers. A user doesn’t need to write code
that directly controls the high speed XOSC.</p>
</div>
<div class="section" id="voltage-regulator-control">
<h4>19.3 Voltage Regulator Control<a class="headerlink" href="#voltage-regulator-control" title="Permalink to this headline">¶</a></h4>
<p>The voltage regulators are controlled by the chip.</p>
</div>
<div class="section" id="active-modes-rx-and-tx">
<h4>19.4 Active Modes (RX and TX)<a class="headerlink" href="#active-modes-rx-and-tx" title="Permalink to this headline">¶</a></h4>
<p>The RF core has two active states, RX and TX.</p>
<blockquote>
<div><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX</span></code> and <code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX_ADV</span></code> commands set the radio in TX
sending a packet(s) placed in the packet (or TX) queue the command points to.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CMD_TX_TEST</span></code> sets the radio in TX and a carrier wave (CW) or a 16 bit
Tx word is sent continuously until the <code class="docutils literal notranslate"><span class="pre">endTrigger</span></code> or an abort command is
issued.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX</span></code> and <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV</span></code> commands set the the radio in Rx
to receive a packet. The command exits Rx when the <code class="docutils literal notranslate"><span class="pre">endTrigger</span></code> is reached
or a packet is received (optional).</p></li>
<li><p>The <a class="reference internal" href="../rf-core/rf-commands-reference/cmd_prop_cs.html"><span class="doc">CMD_PROP_CS</span></a> command sets the radio in RX to check if the RSSI is above
a threshold or if a preamble is detected (Preamble Quality Threshold, PQT).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_SNIFF</span></code> and <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV_SNIFF</span></code> set the radio in Rx
and combines the <a class="reference internal" href="../rf-core/rf-commands-reference/cmd_prop_cs.html"><span class="doc">CMD_PROP_CS</span></a> with normal packet reception.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CMD_RX_TEST</span></code> sets the radio in RX for test purposes.</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_SETUP</span></code> and <code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code> commands have to be issued before
sending one of the commands above to start and calibrate the voltage controlled
oscillator (VCO)/ phase locked loop (PLL), turn on the needed clocks, do
patching and to configure the radio.</p>
<p>The radio commands are described in section 23 in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>. Some information
can also be found in the description of the <a class="reference internal" href="../proprietary-rf-guide/rf-core-index.html#chapter-rf-core"><span class="std std-ref">RF Core</span></a> .</p>
</div>
<div class="section" id="wake-on-radio-wor">
<h4>19.5 Wake On Radio (WOR)<a class="headerlink" href="#wake-on-radio-wor" title="Permalink to this headline">¶</a></h4>
<p>Wake On Radio is shown in the example <code class="docutils literal notranslate"><span class="pre">rfWakeOnRadioRx</span></code>. This example uses
the <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_SNIFF</span></code> command.</p>
</div>
<div class="section" id="timing">
<h4>19.6 Timing<a class="headerlink" href="#timing" title="Permalink to this headline">¶</a></h4>
<p>The MCU timing is given in “Timing and Switching Characteristics” section in the device datasheet. The time to turn on the
radio code and go either to RX or TX or TX &lt;-&gt; RX is not fixed. Part of the time
is related to software and therefore the time will be dependent on how many and
which patches are used. To get an accurate number the timing should be measured
with the software intended to run on the device. The signal routing intended to
control an external LNA or PA could be used to measure the timing (see
<a class="reference internal" href="../rf-core/signal-routing.html#rf-signal-routing"><span class="std std-ref">Routing RF Core Signals to Physical Pins</span></a>).</p>
</div>
<div class="section" id="rx-termination-timer">
<h4>19.7 RX Termination Timer<a class="headerlink" href="#rx-termination-timer" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX</span></code> and <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RX_ADV</span></code> have <code class="docutils literal notranslate"><span class="pre">endTime</span></code> as a parameter.
<a class="reference internal" href="../rf-core/radio-operation-commands.html#sec-rf-command-triggers"><span class="std std-ref">Start and end triggers</span></a> gives an overview over the possible triggers.</p>
</div>
</div>
<div class="section" id="data-fifo">
<h3>20 Data FIFO<a class="headerlink" href="#data-fifo" title="Permalink to this headline">¶</a></h3>
<p>Data queues are used for transferring packets from the RF core to the main CPU
and vice versa. For documentation, see:</p>
<blockquote>
<div><ul class="simple">
<li><p>The software examples in the SDK</p></li>
<li><p><a class="reference internal" href="../rf-core/data-queues.html"><span class="doc">Data Queues</span></a>.</p></li>
<li><p>The “Data Queue Usage” in the Radio chapter in <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="frequency-programming">
<h3>21 Frequency Programming<a class="headerlink" href="#frequency-programming" title="Permalink to this headline">¶</a></h3>
<p>The RF frequency needs to be given as input to two commands:</p>
<p><code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>centerFreq: Center frequency of the band.</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code>: Sets up the frequency synthesizer, described in the “Radio core HAL” sub chapter in <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>.</p>
<dl class="simple">
<dt>The frequency is given in two parts:</dt><dd><ul class="simple">
<li><p>frequency: Given in MHz</p></li>
<li><p>fractFreq: Fractional part of the frequency</p></li>
</ul>
</dd>
</dl>
<p>If the frequency given in the <code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code> command is different from the frequency
given in the <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP</span></code> command some parameters parameters
will have been calculated with a relative error of up to: (freq - centerFreq)/ centerFreq.
Deviation is one of the parameters that will be scaled with this factor. If this
error is acceptable it is possible to do frequency hopping in the 863 MHz - 870
MHz band by setting the center frequency in the middle of the band, 867 MHz,
using <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP</span></code> once and the <code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code> to set the frequencies
when hopping.</p>
<p><a class="reference external" href="http://www.ti.com/tool/smartrftm-studio">SmartRF Studio</a> can be used to calculate the frequency word.</p>
</div>
<div class="section" id="voltage-controlled-oscillator-vco">
<h3>22 Voltage-Controlled Oscillator (VCO)<a class="headerlink" href="#voltage-controlled-oscillator-vco" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code> command starts and calibrate the VCO. On CC13xx a <code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code>
has to be run for every frequency. It is not possible to pre-calibrate each
channel.</p>
</div>
<div class="section" id="voltage-regulators">
<h3>23 Voltage Regulators<a class="headerlink" href="#voltage-regulators" title="Permalink to this headline">¶</a></h3>
<p>As with the CC1101, the CC13xx contains internal regulators that are invisible
for customers.</p>
<p>The battery voltage on CC13xx is called VDDS (allowed level 1.8 V to 3.8 V).
The output of the global low-dropout regulator (LDO)/ internal DCDC converter is
called VDDR. When the DCDC is in use the VDDR net should not be connected to
anything else than the external components shown in the reference designs. The
Power Supply System is described in more detail in 1.3.13 in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>.</p>
<p>Note that on CC13xx it is possible to run different DIO segments on different
voltages; see 11.10.2 Digital Input/ Output Power Domains in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a>.</p>
</div>
<div class="section" id="output-power-programming">
<h3>24 Output Power Programming<a class="headerlink" href="#output-power-programming" title="Permalink to this headline">¶</a></h3>
<p>The wanted output power is set in <code class="docutils literal notranslate"><span class="pre">CMD_PROP_RADIO_DIV_SETUP.txPower</span></code>. Max
output power is dependent on the setting in <a class="reference internal" href="#ccfg-migration"><span class="std std-ref">The Customer Configuration (CCFG)</span></a>.</p>
<p>Most PAs have temperature dependent output power. On CC13xx it is possible to
compensate for the temperature dependency and get an output power that is close
to independent of temperature. The txPower settings found in SmartRF Studio
contain the temperature compensation. This compensation is only valid for boards
that follow our reference design closely. If a custom board does not follow the
reference design the output power will be different and the temperature
compensation coefficients have to be calculated for the custom board. See
the description under CMD_SET_TX_POWER in the <a class="reference external" href="http://www.ti.com/lit/pdf/swcu185">CC13x2 CC26x2 SimpleLink Wireless MCU Technical Reference Manual</a> for equations.</p>
</div>
<div class="section" id="shaping-and-pa-ramping">
<h3>25 Shaping and PA Ramping<a class="headerlink" href="#shaping-and-pa-ramping" title="Permalink to this headline">¶</a></h3>
<p>When using (G)FSK PA ramping is included in the examples.</p>
</div>
<div class="section" id="general-purpose-test-output-control-pins">
<h3>26 General Purpose / Test Output Control Pins<a class="headerlink" href="#general-purpose-test-output-control-pins" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../rf-core/signal-routing.html"><span class="doc">Signal routing</span></a> describes how to get some
internal signal available on external pins.</p></li>
<li><p><a class="reference internal" href="packet-format-debugging.html"><span class="doc">Packet format</span></a> contains some
more information on how to use of the internal signals to debug packet
formats.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="asynchronous-and-synchronous-serial-operation">
<h3>27 Asynchronous and Synchronous Serial Operation<a class="headerlink" href="#asynchronous-and-synchronous-serial-operation" title="Permalink to this headline">¶</a></h3>
<p>An asynchronous signal (MCE_GPO1) is available in RX, see
<a class="reference internal" href="../rf-core/signal-routing.html#rf-signal-routing"><span class="std std-ref">Routing RF Core Signals to Physical Pins</span></a>. This signal is the sign of the instantaneous
frequency. This signal is used as input to further data processing and therefore
measuring PER will give better sensitivity compared to looking at the
asynchronous output.</p>
<p>It is only possible to get one signal from the RF core. It is therefore not
possible to generate a clock at the same time as getting the data out.</p>
<p>For Tx it is not possible to apply an external bit stream to CC13xx to be sent
on the air. By using the TX buffer and the <code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX</span></code>/ <code class="docutils literal notranslate"><span class="pre">CMD_PROP_TX_ADV</span></code>
commands it is possible to generate the data wanted to send. It is not possible
to turn off preamble (minimum 1 bit) and sync (minimum 8 bit). If the protocol
is not using a sync word the sync word can be set equal to the first 8 bit of
the payload.</p>
<div class="section" id="frequency-hopping-and-multi-channel-systems">
<h4>28.2 Frequency Hopping and Multi-Channel Systems<a class="headerlink" href="#frequency-hopping-and-multi-channel-systems" title="Permalink to this headline">¶</a></h4>
<p>The 15.4 Stack shows how frequency hopping can be implemented. On CC13xx a
<code class="docutils literal notranslate"><span class="pre">CMD_FS</span></code> has to be run for every frequency. It is not possible to
pre-calibrate each channel.</p>
</div>
<div class="section" id="wide-band-modulation-when-not-using-spread-spectrum">
<h4>28.3 Wide-band Modulation when not Using Spread Spectrum<a class="headerlink" href="#wide-band-modulation-when-not-using-spread-spectrum" title="Permalink to this headline">¶</a></h4>
<p>An application note will be released to cover this.</p>
</div>
<div class="section" id="wireless-mbus">
<h4>28.4 Wireless MBUS<a class="headerlink" href="#wireless-mbus" title="Permalink to this headline">¶</a></h4>
<p>CC13x0 and CC13x2 have full support for C, T and S mode. Download and documentation is
available at <a class="reference external" href="http://www.ti.com/tool/WMBUS">Wireless M-Bus Protocol Software</a>.</p>
</div>
<div class="section" id="battery-operated-systems">
<h4>28.7 Battery Operated Systems<a class="headerlink" href="#battery-operated-systems" title="Permalink to this headline">¶</a></h4>
<p>CC13xx is designed to be used in battery operated system with very low standby
current and low active current. The drivers ensure that the chip is in the state
that gives lowest power consumption at any given time.</p>
</div>
<div class="section" id="increasing-range">
<h4>28.8 Increasing Range<a class="headerlink" href="#increasing-range" title="Permalink to this headline">¶</a></h4>
<p>For increased range (better sensitivity and higher output power), CC13xx can
be used together with CC1190 (<a class="reference external" href="http://www.ti.com/lit/ds/symlink/cc1190.pdf">CC1190 Datasheet</a>). See <a class="reference external" href="http://www.ti.com/lit/pdf/swra542">Using CC1190 Front End With CC13xx Under EN300220</a>
and <a class="reference external" href="http://www.ti.com/lit/pdf/swra517">Using CC1190 Front End With CC13xx Under FCC 15.247</a>.</p>
</div>
</div>
<div class="section" id="configuration-registers">
<h3>29 Configuration Registers<a class="headerlink" href="#configuration-registers" title="Permalink to this headline">¶</a></h3>
<p>On CC1101 writing/ reading registers are required to operate the chip. On
CC13xx the control of the radio core is done by using drivers and APIs.
Therefore no description is given of registers on CC13xx.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="packet-format.html" class="btn btn-neutral float-left" title="Packet Format" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../proprietary-rf-guide/ieee-rf-index-cc13xx_cc26xx.html" class="btn btn-neutral float-right" title="IEEE 802.15.4 Mode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2023, Texas Instruments.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>